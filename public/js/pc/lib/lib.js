/*!
* Name: lib.js
* Since: 2017-03-30
* Update: -
* Version: 1.0.0
* Description: プロジェクトで共通して使用するJavaScriptプラグイン・ライブラリ
*/

/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});

/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(a){"use strict";function b(a){var b=a.length,d=c.type(a);return"function"!==d&&!c.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a))}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return a&&a===a.window},c.type=function(a){return a?"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a:a+""},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return b===undefined||f.call(a,b)},c.each=function(a,c,d){var e=0,f=a.length,g=b(a);if(d){if(g)for(;e<f&&!1!==c.apply(a[e],d);e++);else for(e in a)if(a.hasOwnProperty(e)&&!1===c.apply(a[e],d))break}else if(g)for(;e<f&&!1!==c.call(a[e],e,a[e]);e++);else for(e in a)if(a.hasOwnProperty(e)&&!1===c.call(a[e],e,a[e]))break;return a},c.data=function(a,b,e){if(e===undefined){var f=a[c.expando],g=f&&d[f];if(b===undefined)return g;if(g&&b in g)return g[b]}else if(b!==undefined){var h=a[c.expando]||(a[c.expando]=++c.uuid);return d[h]=d[h]||{},d[h][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&(b?c.each(b,function(a,b){delete f[b]}):delete d[e])},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);i<j;i++)if(f=arguments[i])for(e in f)f.hasOwnProperty(e)&&(a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):d!==undefined&&(h[e]=d)));return h},c.queue=function(a,d,e){if(a){d=(d||"fx")+"queue";var f=c.data(a,d);return e?(!f||c.isArray(e)?f=c.data(a,d,function(a,c){var d=c||[];return a&&(b(Object(a))?function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;b[d]!==undefined;)a[e++]=b[d++];a.length=e}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}(e)):f.push(e),f):f||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var a=this[0],b=function(a){for(var b=a.offsetParent;b&&"html"!==b.nodeName.toLowerCase()&&b.style&&"static"===b.style.position.toLowerCase();)b=b.offsetParent;return b||document}(a),d=this.offset(),e=/^(?:body|html)$/i.test(b.nodeName)?{top:0,left:0}:c(b).offset();return d.top-=parseFloat(a.style.marginTop)||0,d.left-=parseFloat(a.style.marginLeft)||0,b.style&&(e.top+=parseFloat(b.style.borderTopWidth)||0,e.left+=parseFloat(b.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(a){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){"use strict";return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return u.isWrapped(a)?a=s.call(a):u.isNode(a)&&(a=[a]),a}function g(a){var b=o.data(a,"velocity");return null===b?d:b}function h(a,b){var c=g(a);c&&c.delayTimer&&!c.delayPaused&&(c.delayRemaining=c.delay-b+c.delayBegin,c.delayPaused=!0,clearTimeout(c.delayTimer.setTimeout))}function i(a,b){var c=g(a);c&&c.delayTimer&&c.delayPaused&&(c.delayPaused=!1,c.delayTimer.setTimeout=setTimeout(c.delayTimer.next,c.delayRemaining))}function j(a){return function(b){return Math.round(b*a)*(1/a)}}function k(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;e<p;++e){var f=j(c,a,d);if(0===f)return c;c-=(i(c,a,d)-b)/f}return c}function l(){for(var b=0;b<t;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do{g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g}while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!==f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0===i?h:m(b,c,c+u)}function o(){y=!0,a===c&&d===e||l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function l(a,b){var c=a;return u.isString(a)?y.Easings[a]||(c=!1):c=u.isArray(a)&&1===a.length?j.apply(null,a):u.isArray(a)&&2===a.length?z.apply(null,a.concat([b])):!(!u.isArray(a)||4!==a.length)&&k.apply(null,a),!1===c&&(c=y.Easings[y.defaults.easing]?y.defaults.easing:x),c}function m(a){if(a){var b=y.timestamp&&!0!==a?a:r.now(),c=y.State.calls.length;c>1e4&&(y.State.calls=e(y.State.calls),c=y.State.calls.length);for(var f=0;f<c;f++)if(y.State.calls[f]){var h=y.State.calls[f],i=h[0],j=h[2],k=h[3],l=!k,q=null,s=h[5],t=h[6];if(k||(k=y.State.calls[f][3]=b-16),s){if(!0!==s.resume)continue;k=h[3]=Math.round(b-t-16),h[5]=null}t=h[6]=b-k;for(var v=Math.min(t/j.duration,1),w=0,x=i.length;w<x;w++){var z=i[w],B=z.element;if(g(B)){var D=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var E=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];o.each(E,function(a,b){A.setPropertyValue(B,"display",b)})}A.setPropertyValue(B,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&A.setPropertyValue(B,"visibility",j.visibility);for(var F in z)if(z.hasOwnProperty(F)&&"element"!==F){var G,H=z[F],I=u.isString(H.easing)?y.Easings[H.easing]:H.easing;if(u.isString(H.pattern)){var J=1===v?function(a,b,c){var d=H.endValue[b];return c?Math.round(d):d}:function(a,b,c){var d=H.startValue[b],e=H.endValue[b]-d,f=d+e*I(v,j,e);return c?Math.round(f):f};G=H.pattern.replace(/{(\d+)(!)?}/g,J)}else if(1===v)G=H.endValue;else{var K=H.endValue-H.startValue;G=H.startValue+K*I(v,j,K)}if(!l&&G===H.currentValue)continue;if(H.currentValue=G,"tween"===F)q=G;else{var L;if(A.Hooks.registered[F]){L=A.Hooks.getRoot(F);var M=g(B).rootPropertyValueCache[L];M&&(H.rootPropertyValue=M)}var N=A.setPropertyValue(B,F,H.currentValue+(p<9&&0===parseFloat(G)?"":H.unitType),H.rootPropertyValue,H.scrollData);A.Hooks.registered[F]&&(A.Normalizations.registered[L]?g(B).rootPropertyValueCache[L]=A.Normalizations.registered[L]("extract",null,N[1]):g(B).rootPropertyValueCache[L]=N[1]),"transform"===N[0]&&(D=!0)}}j.mobileHA&&g(B).transformCache.translate3d===d&&(g(B).transformCache.translate3d="(0px, 0px, 0px)",D=!0),D&&A.flushTransformCache(B)}}j.display!==d&&"none"!==j.display&&(y.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(y.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],v,Math.max(0,k+j.duration-b),k,q),1===v&&n(f)}}y.State.isTicking&&C(m)}function n(a,b){if(!y.State.calls[a])return!1;for(var c=y.State.calls[a][0],e=y.State.calls[a][1],f=y.State.calls[a][2],h=y.State.calls[a][4],i=!1,j=0,k=c.length;j<k;j++){var l=c[j].element;b||f.loop||("none"===f.display&&A.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&A.setPropertyValue(l,"visibility",f.visibility));var m=g(l);if(!0!==f.loop&&(o.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(o.queue(l)[1]))&&m){m.isAnimating=!1,m.rootPropertyValueCache={};var n=!1;o.each(A.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=m.transformCache[b];m.transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(n=!0,delete m.transformCache[b])}),f.mobileHA&&(n=!0,delete m.transformCache.translate3d),n&&A.flushTransformCache(l),A.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(r){setTimeout(function(){throw r},1)}h&&!0!==f.loop&&h(e),m&&!0===f.loop&&!b&&(o.each(m.tweensContainer,function(a,b){if(/^rotate/.test(a)&&(parseFloat(b.startValue)-parseFloat(b.endValue))%360==0){var c=b.startValue;b.startValue=b.endValue,b.endValue=c}/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),y(l,"reverse",{loop:!0,delay:f.delay})),!1!==f.queue&&o.dequeue(l,f.queue)}y.State.calls[a]=!1;for(var p=0,q=y.State.calls.length;p<q;p++)if(!1!==y.State.calls[p]){i=!0;break}!1===i&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var o,p=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",b.getElementsByTagName("span").length)return b=null,a}return d}(),q=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),r=function(){var a=b.performance||{};if("function"!=typeof a.now){var c=a.timing&&a.timing.navigationStart?a.timing.navigationStart:(new Date).getTime();a.now=function(){return(new Date).getTime()-c}}return a}(),s=function(){var a=Array.prototype.slice;try{return a.call(c.documentElement),a}catch(b){return function(b,c){var d=this.length;if("number"!=typeof b&&(b=0),"number"!=typeof c&&(c=d),this.slice)return a.call(this,b,c);var e,f=[],g=b>=0?b:Math.max(0,d+b),h=c<0?d+c:Math.min(c,d),i=h-g;if(i>0)if(f=new Array(i),this.charAt)for(e=0;e<i;e++)f[e]=this.charAt(g+e);else for(e=0;e<i;e++)f[e]=this[g+e];return f}}}(),t=function(){return Array.prototype.includes?function(a,b){return a.includes(b)}:Array.prototype.indexOf?function(a,b){return a.indexOf(b)>=0}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1}},u={isNumber:function(a){return"number"==typeof a},isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isWrapped:function(a){return a&&a!==b&&u.isNumber(a.length)&&!u.isString(a)&&!u.isFunction(a)&&!u.isNode(a)&&(0===a.length||u.isNode(a[0]))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}},v=!1;if(a.fn&&a.fn.jquery?(o=a,v=!0):o=b.Velocity.Utilities,p<=8&&!v)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(p<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var w=400,x="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(b.navigator.userAgent),isAndroid:/Android/i.test(b.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(b.navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(b.navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:o,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:w,easing:x,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(a){o.data(a,"velocity",{isSVG:u.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:1},debug:!1,timestamp:!0,pauseAll:function(a){var b=(new Date).getTime();o.each(y.State.calls,function(b,c){if(c){if(a!==d&&(c[2].queue!==a||!1===c[2].queue))return!0;c[5]={resume:!1}}}),o.each(y.State.delayedElements,function(a,c){c&&h(c,b)})},resumeAll:function(a){var b=(new Date).getTime();o.each(y.State.calls,function(b,c){if(c){if(a!==d&&(c[2].queue!==a||!1===c[2].queue))return!0;c[5]&&(c[5].resume=!0)}}),o.each(y.State.delayedElements,function(a,c){c&&i(c,b)})}};b.pageYOffset!==d?(y.State.scrollAnchor=b,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var z=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*.016):g=.016;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>1e-4&&Math.abs(h.v)>1e-4))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();y.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},o.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){y.Easings[b[0]]=k.apply(null,b[1])});var A=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<A.Lists.colors.length;a++){var b="color"===A.Lists.colors[a]?"0 0 0 1":"255 255 255 1";A.Hooks.templates[A.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(p)for(c in A.Hooks.templates)if(A.Hooks.templates.hasOwnProperty(c)){d=A.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(A.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),A.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in A.Hooks.templates)if(A.Hooks.templates.hasOwnProperty(c)){d=A.Hooks.templates[c],e=d[0].split(" ");for(var g in e)if(e.hasOwnProperty(g)){var h=c+e[g],i=g;A.Hooks.registered[h]=[c,i]}}},getRoot:function(a){var b=A.Hooks.registered[a];return b?b[0]:a},getUnit:function(a,b){var c=(a.substr(b||0,5).match(/^[a-z%]+/)||[])[0]||"";return c&&t(A.Lists.units,c)?c:""},fixColors:function(a){return a.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(a,b,c){return A.Lists.colorNames.hasOwnProperty(c)?(b||"rgba(")+A.Lists.colorNames[c]+(b?"":",1)"):b+c})},cleanRootPropertyValue:function(a,b){return A.RegEx.valueUnwrap.test(b)&&(b=b.match(A.RegEx.valueUnwrap)[1]),A.Values.isCSSNullValue(b)&&(b=A.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=A.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=A.Hooks.cleanRootPropertyValue(d,b),b.toString().match(A.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=A.Hooks.registered[a];if(d){var e,f=d[0],g=d[1];return c=A.Hooks.cleanRootPropertyValue(f,c),e=c.toString().match(A.RegEx.valueSplit),e[g]=b,e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return A.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(A.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return y.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(p<=8)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":case"inject":return c}}},register:function(){function a(a,b,c){if("border-box"===A.getPropertyValue(b,"boxSizing").toString().toLowerCase()===(c||!1)){var d,e,f=0,g="width"===a?["Left","Right"]:["Top","Bottom"],h=["padding"+g[0],"padding"+g[1],"border"+g[0]+"Width","border"+g[1]+"Width"];for(d=0;d<h.length;d++)e=parseFloat(A.getPropertyValue(b,h[d])),isNaN(e)||(f+=e);return c?-f:f}return 0}function b(b,c){return function(d,e,f){switch(d){case"name":return b;case"extract":return parseFloat(f)+a(b,e,c);case"inject":return parseFloat(f)-a(b,e,c)+"px"}}}p&&!(p>9)||y.State.isGingerbread||(A.Lists.transformsBase=A.Lists.transformsBase.concat(A.Lists.transforms3D));for(var c=0;c<A.Lists.transformsBase.length;c++)!function(){var a=A.Lists.transformsBase[c];A.Normalizations.registered[a]=function(b,c,e){switch(b){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[a]===d?/^scale/i.test(a)?1:0:g(c).transformCache[a].replace(/[()]/g,"");case"inject":var f=!1;switch(a.substr(0,a.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":y.State.isAndroid&&g(c).transformCache[a]===d&&e<1&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[a]="("+e+")"),g(c).transformCache[a]}}}();for(var e=0;e<A.Lists.colors.length;e++)!function(){var a=A.Lists.colors[e];A.Normalizations.registered[a]=function(b,c,e){switch(b){case"name":return a;case"extract":var f;if(A.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:A.RegEx.isHex.test(e)?g="rgb("+A.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(A.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!p||p>8)&&3===f.split(" ").length&&(f+=" 1"),f;case"inject":return/^rgb/.test(e)?e:(p<=8?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(p<=8?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();A.Normalizations.registered.innerWidth=b("width",!0),A.Normalizations.registered.innerHeight=b("height",!0),A.Normalizations.registered.outerWidth=b("width"),A.Normalizations.registered.outerHeight=b("height")}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||y.State.isAndroid&&!y.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(y.State.prefixMatches[a])return[y.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;c<d;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),u.isString(y.State.prefixElement.style[e]))return y.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){if(a)if(a.classList)a.classList.add(b);else if(u.isString(a.className))a.className+=(a.className.length?" ":"")+b;else{var c=a.getAttribute(p<=7?"className":"class")||"";a.setAttribute("class",c+(c?" ":"")+b)}},removeClass:function(a,b){if(a)if(a.classList)a.classList.remove(b);else if(u.isString(a.className))a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ");else{var c=a.getAttribute(p<=7?"className":"class")||"";a.setAttribute("class",c.replace(new RegExp("(^|s)"+b.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(a,c,e,f){function h(a,c){var e=0;if(p<=8)e=o.css(a,c);else{var i=!1;/^(width|height)$/.test(c)&&0===A.getPropertyValue(a,"display")&&(i=!0,A.setPropertyValue(a,"display",A.Values.getDisplayType(a)));var j=function(){i&&A.setPropertyValue(a,"display","none")};if(!f){if("height"===c&&"border-box"!==A.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(A.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(A.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(A.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(A.getPropertyValue(a,"paddingBottom"))||0);return j(),k}if("width"===c&&"border-box"!==A.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(A.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(A.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(A.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(A.getPropertyValue(a,"paddingRight"))||0);return j(),l}}var m;m=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),e=9===p&&"filter"===c?m.getPropertyValue(c):m[c],""!==e&&null!==e||(e=a.style[c]),j()}if("auto"===e&&/^(top|right|bottom|left)$/i.test(c)){var n=h(a,"position");("fixed"===n||"absolute"===n&&/top|left/i.test(c))&&(e=o(a).position()[c]+"px")}return e}var i;if(A.Hooks.registered[c]){var j=c,k=A.Hooks.getRoot(j);e===d&&(e=A.getPropertyValue(a,A.Names.prefixCheck(k)[0])),A.Normalizations.registered[k]&&(e=A.Normalizations.registered[k]("extract",a,e)),i=A.Hooks.extractValue(j,e)}else if(A.Normalizations.registered[c]){var l,m;l=A.Normalizations.registered[c]("name",a),"transform"!==l&&(m=h(a,A.Names.prefixCheck(l)[0]),A.Values.isCSSNullValue(m)&&A.Hooks.templates[c]&&(m=A.Hooks.templates[c][1])),i=A.Normalizations.registered[c]("extract",a,m)}if(!/^[\d-]/.test(i)){var n=g(a);if(n&&n.isSVG&&A.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(q){i=0}else i=a.getAttribute(c);else i=h(a,A.Names.prefixCheck(c)[0])}return A.Values.isCSSNullValue(i)&&(i=0),y.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(A.Normalizations.registered[c]&&"transform"===A.Normalizations.registered[c]("name",a))A.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(A.Hooks.registered[c]){var i=c,j=A.Hooks.getRoot(c);e=e||A.getPropertyValue(a,j),d=A.Hooks.injectValue(i,d,e),c=j}if(A.Normalizations.registered[c]&&(d=A.Normalizations.registered[c]("inject",a,d),c=A.Normalizations.registered[c]("name",a)),h=A.Names.prefixCheck(c)[0],p<=8)try{a.style[h]=d}catch(l){y.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else{var k=g(a);k&&k.isSVG&&A.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d}y.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){var b="",c=g(a);if((p||y.State.isAndroid&&!y.State.isChrome)&&c&&c.isSVG){var d=function(b){return parseFloat(A.getPropertyValue(a,b))},e={translate:[d("translateX"),d("translateY")],skewX:[d("skewX")],skewY:[d("skewY")],scale:1!==d("scale")?[d("scale"),d("scale")]:[d("scaleX"),d("scaleY")],rotate:[d("rotateZ"),0,0]};o.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),e[a]&&(b+=a+"("+e[a].join(" ")+") ",delete e[a])})}else{var f,h;o.each(g(a).transformCache,function(c){if(f=g(a).transformCache[c],"transformPerspective"===c)return h=f,!0;9===p&&"rotateZ"===c&&(c="rotate"),b+=c+f+" "}),h&&(b="perspective"+h+" "+b)}A.setPropertyValue(a,"transform",b)}};A.Hooks.register(),A.Normalizations.register(),y.hook=function(a,b,c){var e;return a=f(a),o.each(a,function(a,f){if(g(f)===d&&y.init(f),c===d)e===d&&(e=A.getPropertyValue(f,b));else{var h=A.setPropertyValue(f,b,c);"transform"===h[0]&&y.CSS.flushTransformCache(f),e=h}}),e};var B=function(){function a(){return k?z.promise||null:p}function e(a,e){function f(f){var k,n;if(i.begin&&0===D)try{i.begin.call(r,r)}catch(V){setTimeout(function(){throw V},1)}if("scroll"===G){var p,q,w,x=/^x$/i.test(i.axis)?"Left":"Top",B=parseFloat(i.offset)||0;i.container?u.isWrapped(i.container)||u.isNode(i.container)?(i.container=i.container[0]||i.container,p=i.container["scroll"+x],w=p+o(a).position()[x.toLowerCase()]+B):i.container=null:(p=y.State.scrollAnchor[y.State["scrollProperty"+x]],q=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===x?"Top":"Left")]],w=o(a).offset()[x.toLowerCase()]+B),j={scroll:{rootPropertyValue:!1,startValue:p,currentValue:p,endValue:w,unitType:"",easing:i.easing,scrollData:{container:i.container,direction:x,alternateValue:q}},element:a},y.debug&&console.log("tweensContainer (scroll): ",j.scroll,a)}else if("reverse"===G){if(!(k=g(a)))return;if(!k.tweensContainer)return void o.dequeue(a,i.queue);"none"===k.opts.display&&(k.opts.display="auto"),"hidden"===k.opts.visibility&&(k.opts.visibility="visible"),k.opts.loop=!1,k.opts.begin=null,k.opts.complete=null,v.easing||delete i.easing,v.duration||delete i.duration,i=o.extend({},k.opts,i),n=o.extend(!0,{},k?k.tweensContainer:null);for(var E in n)if(n.hasOwnProperty(E)&&"element"!==E){var F=n[E].startValue;n[E].startValue=n[E].currentValue=n[E].endValue,n[E].endValue=F,u.isEmptyObject(v)||(n[E].easing=i.easing),y.debug&&console.log("reverse tweensContainer ("+E+"): "+JSON.stringify(n[E]),a)}j=n}else if("start"===G){k=g(a),k&&k.tweensContainer&&!0===k.isAnimating&&(n=k.tweensContainer);var H=function(e,f){var g,l=A.Hooks.getRoot(e),m=!1,p=f[0],q=f[1],r=f[2]
;if(!(k&&k.isSVG||"tween"===l||!1!==A.Names.prefixCheck(l)[1]||A.Normalizations.registered[l]!==d))return void(y.debug&&console.log("Skipping ["+l+"] due to a lack of browser support."));(i.display!==d&&null!==i.display&&"none"!==i.display||i.visibility!==d&&"hidden"!==i.visibility)&&/opacity|filter/.test(e)&&!r&&0!==p&&(r=0),i._cacheValues&&n&&n[e]?(r===d&&(r=n[e].endValue+n[e].unitType),m=k.rootPropertyValueCache[l]):A.Hooks.registered[e]?r===d?(m=A.getPropertyValue(a,l),r=A.getPropertyValue(a,e,m)):m=A.Hooks.templates[l][1]:r===d&&(r=A.getPropertyValue(a,e));var s,t,v,w=!1,x=function(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=A.Values.getUnitType(a)),[d,c]};if(r!==p&&u.isString(r)&&u.isString(p)){g="";var z=0,B=0,C=[],D=[],E=0,F=0,G=0;for(r=A.Hooks.fixColors(r),p=A.Hooks.fixColors(p);z<r.length&&B<p.length;){var H=r[z],I=p[B];if(/[\d\.-]/.test(H)&&/[\d\.-]/.test(I)){for(var J=H,K=I,L=".",N=".";++z<r.length;){if((H=r[z])===L)L="..";else if(!/\d/.test(H))break;J+=H}for(;++B<p.length;){if((I=p[B])===N)N="..";else if(!/\d/.test(I))break;K+=I}var O=A.Hooks.getUnit(r,z),P=A.Hooks.getUnit(p,B);if(z+=O.length,B+=P.length,O===P)J===K?g+=J+O:(g+="{"+C.length+(F?"!":"")+"}"+O,C.push(parseFloat(J)),D.push(parseFloat(K)));else{var Q=parseFloat(J),R=parseFloat(K);g+=(E<5?"calc":"")+"("+(Q?"{"+C.length+(F?"!":"")+"}":"0")+O+" + "+(R?"{"+(C.length+(Q?1:0))+(F?"!":"")+"}":"0")+P+")",Q&&(C.push(Q),D.push(0)),R&&(C.push(0),D.push(R))}}else{if(H!==I){E=0;break}g+=H,z++,B++,0===E&&"c"===H||1===E&&"a"===H||2===E&&"l"===H||3===E&&"c"===H||E>=4&&"("===H?E++:(E&&E<5||E>=4&&")"===H&&--E<5)&&(E=0),0===F&&"r"===H||1===F&&"g"===H||2===F&&"b"===H||3===F&&"a"===H||F>=3&&"("===H?(3===F&&"a"===H&&(G=1),F++):G&&","===H?++G>3&&(F=G=0):(G&&F<(G?5:4)||F>=(G?4:3)&&")"===H&&--F<(G?5:4))&&(F=G=0)}}z===r.length&&B===p.length||(y.debug&&console.error('Trying to pattern match mis-matched strings ["'+p+'", "'+r+'"]'),g=d),g&&(C.length?(y.debug&&console.log('Pattern found "'+g+'" -> ',C,D,"["+r+","+p+"]"),r=C,p=D,t=v=""):g=d)}g||(s=x(e,r),r=s[0],v=s[1],s=x(e,p),p=s[0].replace(/^([+-\/*])=/,function(a,b){return w=b,""}),t=s[1],r=parseFloat(r)||0,p=parseFloat(p)||0,"%"===t&&(/^(fontSize|lineHeight)$/.test(e)?(p/=100,t="em"):/^scale/.test(e)?(p/=100,t=""):/(Red|Green|Blue)$/i.test(e)&&(p=p/100*255,t="")));if(/[\/*]/.test(w))t=v;else if(v!==t&&0!==r)if(0===p)t=v;else{h=h||function(){var d={myParent:a.parentNode||c.body,position:A.getPropertyValue(a,"position"),fontSize:A.getPropertyValue(a,"fontSize")},e=d.position===M.lastPosition&&d.myParent===M.lastParent,f=d.fontSize===M.lastFontSize;M.lastParent=d.myParent,M.lastPosition=d.position,M.lastFontSize=d.fontSize;var g={};if(f&&e)g.emToPx=M.lastEmToPx,g.percentToPxWidth=M.lastPercentToPxWidth,g.percentToPxHeight=M.lastPercentToPxHeight;else{var h=k&&k.isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");y.init(h),d.myParent.appendChild(h),o.each(["overflow","overflowX","overflowY"],function(a,b){y.CSS.setPropertyValue(h,b,"hidden")}),y.CSS.setPropertyValue(h,"position",d.position),y.CSS.setPropertyValue(h,"fontSize",d.fontSize),y.CSS.setPropertyValue(h,"boxSizing","content-box"),o.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){y.CSS.setPropertyValue(h,b,"100%")}),y.CSS.setPropertyValue(h,"paddingLeft","100em"),g.percentToPxWidth=M.lastPercentToPxWidth=(parseFloat(A.getPropertyValue(h,"width",null,!0))||1)/100,g.percentToPxHeight=M.lastPercentToPxHeight=(parseFloat(A.getPropertyValue(h,"height",null,!0))||1)/100,g.emToPx=M.lastEmToPx=(parseFloat(A.getPropertyValue(h,"paddingLeft"))||1)/100,d.myParent.removeChild(h)}return null===M.remToPx&&(M.remToPx=parseFloat(A.getPropertyValue(c.body,"fontSize"))||16),null===M.vwToPx&&(M.vwToPx=parseFloat(b.innerWidth)/100,M.vhToPx=parseFloat(b.innerHeight)/100),g.remToPx=M.remToPx,g.vwToPx=M.vwToPx,g.vhToPx=M.vhToPx,y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(g),a),g}();var S=/margin|padding|left|right|width|text|word|letter/i.test(e)||/X$/.test(e)||"x"===e?"x":"y";switch(v){case"%":r*="x"===S?h.percentToPxWidth:h.percentToPxHeight;break;case"px":break;default:r*=h[v+"ToPx"]}switch(t){case"%":r*=1/("x"===S?h.percentToPxWidth:h.percentToPxHeight);break;case"px":break;default:r*=1/h[t+"ToPx"]}}switch(w){case"+":p=r+p;break;case"-":p=r-p;break;case"*":p*=r;break;case"/":p=r/p}j[e]={rootPropertyValue:m,startValue:r,currentValue:r,endValue:p,unitType:t,easing:q},g&&(j[e].pattern=g),y.debug&&console.log("tweensContainer ("+e+"): "+JSON.stringify(j[e]),a)};for(var I in s)if(s.hasOwnProperty(I)){var J=A.Names.camelCase(I),K=function(b,c){var d,f,g;return u.isFunction(b)&&(b=b.call(a,e,C)),u.isArray(b)?(d=b[0],!u.isArray(b[1])&&/^[\d-]/.test(b[1])||u.isFunction(b[1])||A.RegEx.isHex.test(b[1])?g=b[1]:u.isString(b[1])&&!A.RegEx.isHex.test(b[1])&&y.Easings[b[1]]||u.isArray(b[1])?(f=c?b[1]:l(b[1],i.duration),g=b[2]):g=b[1]||b[2]):d=b,c||(f=f||i.easing),u.isFunction(d)&&(d=d.call(a,e,C)),u.isFunction(g)&&(g=g.call(a,e,C)),[d||0,f,g]}(s[I]);if(t(A.Lists.colors,J)){var L=K[0],O=K[1],P=K[2];if(A.RegEx.isHex.test(L)){for(var Q=["Red","Green","Blue"],R=A.Values.hexToRgb(L),S=P?A.Values.hexToRgb(P):d,T=0;T<Q.length;T++){var U=[R[T]];O&&U.push(O),S!==d&&U.push(S[T]),H(J+Q[T],U)}continue}}H(J,K)}j.element=a}j.element&&(A.Values.addClass(a,"velocity-animating"),N.push(j),k=g(a),k&&(""===i.queue&&(k.tweensContainer=j,k.opts=i),k.isAnimating=!0),D===C-1?(y.State.calls.push([N,r,i,null,z.resolver,null,0]),!1===y.State.isTicking&&(y.State.isTicking=!0,m())):D++)}var h,i=o.extend({},y.defaults,v),j={};switch(g(a)===d&&y.init(a),parseFloat(i.delay)&&!1!==i.queue&&o.queue(a,i.queue,function(b,c){if(!0===c)return!0;y.velocityQueueEntryFlag=!0;var d=y.State.delayedElements.count++;y.State.delayedElements[d]=a;var e=function(a){return function(){y.State.delayedElements[a]=!1,b()}}(d);g(a).delayBegin=(new Date).getTime(),g(a).delay=parseFloat(i.delay),g(a).delayTimer={setTimeout:setTimeout(b,parseFloat(i.delay)),next:e}}),i.duration.toString().toLowerCase()){case"fast":i.duration=200;break;case"normal":i.duration=w;break;case"slow":i.duration=600;break;default:i.duration=parseFloat(i.duration)||1}if(!1!==y.mock&&(!0===y.mock?i.duration=i.delay=1:(i.duration*=parseFloat(y.mock)||1,i.delay*=parseFloat(y.mock)||1)),i.easing=l(i.easing,i.duration),i.begin&&!u.isFunction(i.begin)&&(i.begin=null),i.progress&&!u.isFunction(i.progress)&&(i.progress=null),i.complete&&!u.isFunction(i.complete)&&(i.complete=null),i.display!==d&&null!==i.display&&(i.display=i.display.toString().toLowerCase(),"auto"===i.display&&(i.display=y.CSS.Values.getDisplayType(a))),i.visibility!==d&&null!==i.visibility&&(i.visibility=i.visibility.toString().toLowerCase()),i.mobileHA=i.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,!1===i.queue)if(i.delay){var k=y.State.delayedElements.count++;y.State.delayedElements[k]=a;var n=function(a){return function(){y.State.delayedElements[a]=!1,f()}}(k);g(a).delayBegin=(new Date).getTime(),g(a).delay=parseFloat(i.delay),g(a).delayTimer={setTimeout:setTimeout(f,parseFloat(i.delay)),next:n}}else f();else o.queue(a,i.queue,function(a,b){if(!0===b)return z.promise&&z.resolver(r),!0;y.velocityQueueEntryFlag=!0,f(a)});""!==i.queue&&"fx"!==i.queue||"inprogress"===o.queue(a)[0]||o.dequeue(a)}var j,k,p,q,r,s,v,x=arguments[0]&&(arguments[0].p||o.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||u.isString(arguments[0].properties));u.isWrapped(this)?(k=!1,q=0,r=this,p=this):(k=!0,q=1,r=x?arguments[0].elements||arguments[0].e:arguments[0]);var z={promise:null,resolver:null,rejecter:null};if(k&&y.Promise&&(z.promise=new y.Promise(function(a,b){z.resolver=a,z.rejecter=b})),x?(s=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(s=arguments[q],v=arguments[q+1]),!(r=f(r)))return void(z.promise&&(s&&v&&!1===v.promiseRejectEmpty?z.resolver():z.rejecter()));var C=r.length,D=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(s)&&!o.isPlainObject(v)){var E=q+1;v={};for(var F=E;F<arguments.length;F++)u.isArray(arguments[F])||!/^(fast|normal|slow)$/i.test(arguments[F])&&!/^\d/.test(arguments[F])?u.isString(arguments[F])||u.isArray(arguments[F])?v.easing=arguments[F]:u.isFunction(arguments[F])&&(v.complete=arguments[F]):v.duration=arguments[F]}var G;switch(s){case"scroll":G="scroll";break;case"reverse":G="reverse";break;case"pause":var H=(new Date).getTime();return o.each(r,function(a,b){h(b,H)}),o.each(y.State.calls,function(a,b){var c=!1;b&&o.each(b[1],function(a,e){var f=v===d?"":v;return!0!==f&&b[2].queue!==f&&(v!==d||!1!==b[2].queue)||(o.each(r,function(a,d){if(d===e)return b[5]={resume:!1},c=!0,!1}),!c&&void 0)})}),a();case"resume":return o.each(r,function(a,b){i(b,H)}),o.each(y.State.calls,function(a,b){var c=!1;b&&o.each(b[1],function(a,e){var f=v===d?"":v;return!0!==f&&b[2].queue!==f&&(v!==d||!1!==b[2].queue)||(!b[5]||(o.each(r,function(a,d){if(d===e)return b[5].resume=!0,c=!0,!1}),!c&&void 0))})}),a();case"finish":case"finishAll":case"stop":o.each(r,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer),"finishAll"!==s||!0!==v&&!u.isString(v)||(o.each(o.queue(b,u.isString(v)?v:""),function(a,b){u.isFunction(b)&&b()}),o.queue(b,u.isString(v)?v:"",[]))});var I=[];return o.each(y.State.calls,function(a,b){b&&o.each(b[1],function(c,e){var f=v===d?"":v;if(!0!==f&&b[2].queue!==f&&(v!==d||!1!==b[2].queue))return!0;o.each(r,function(c,d){if(d===e)if((!0===v||u.isString(v))&&(o.each(o.queue(d,u.isString(v)?v:""),function(a,b){u.isFunction(b)&&b(null,!0)}),o.queue(d,u.isString(v)?v:"",[])),"stop"===s){var h=g(d);h&&h.tweensContainer&&!1!==f&&o.each(h.tweensContainer,function(a,b){b.endValue=b.currentValue}),I.push(a)}else"finish"!==s&&"finishAll"!==s||(b[2].duration=1)})})}),"stop"===s&&(o.each(I,function(a,b){n(b,!0)}),z.promise&&z.resolver(r)),a();default:if(!o.isPlainObject(s)||u.isEmptyObject(s)){if(u.isString(s)&&y.Redirects[s]){j=o.extend({},v);var J=j.duration,K=j.delay||0;return!0===j.backwards&&(r=o.extend(!0,[],r).reverse()),o.each(r,function(a,b){parseFloat(j.stagger)?j.delay=K+parseFloat(j.stagger)*a:u.isFunction(j.stagger)&&(j.delay=K+j.stagger.call(b,a,C)),j.drag&&(j.duration=parseFloat(J)||(/^(callout|transition)/.test(s)?1e3:w),j.duration=Math.max(j.duration*(j.backwards?1-a/C:(a+1)/C),.75*j.duration,200)),y.Redirects[s].call(b,b,j||{},a,C,r,z.promise?z:d)}),a()}var L="Velocity: First argument ("+s+") was not a property map, a known action, or a registered redirect. Aborting.";return z.promise?z.rejecter(new Error(L)):b.console&&console.log(L),a()}G="start"}var M={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},N=[];o.each(r,function(a,b){u.isNode(b)&&e(b,a)}),j=o.extend({},y.defaults,v),j.loop=parseInt(j.loop,10);var O=2*j.loop-1;if(j.loop)for(var P=0;P<O;P++){var Q={delay:j.delay,progress:j.progress};P===O-1&&(Q.display=j.display,Q.visibility=j.visibility,Q.complete=j.complete),B(r,"reverse",Q)}return a()};y=o.extend(B,y),y.animate=B;var C=b.requestAnimationFrame||q;if(!y.State.isMobile&&c.hidden!==d){var D=function(){c.hidden?(C=function(a){return setTimeout(function(){a(!0)},16)},m()):C=b.requestAnimationFrame||q};D(),c.addEventListener("visibilitychange",D)}return a.Velocity=y,a!==b&&(a.fn.velocity=B,a.fn.velocity.defaults=y.defaults),o.each(["Down","Up"],function(a,b){y.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=o.extend({},c),j=i.begin,k=i.complete,l={},m={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};i.display===d&&(i.display="Down"===b?"inline"===y.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){0===e&&j&&j.call(g,g);for(var c in m)if(m.hasOwnProperty(c)){l[c]=a.style[c];var d=A.getPropertyValue(a,c);m[c]="Down"===b?[d,0]:[0,d]}l.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in l)l.hasOwnProperty(b)&&(a.style[b]=l[b]);e===f-1&&(k&&k.call(g,g),h&&h.resolver(g))},y(a,m,i)}}),o.each(["In","Out"],function(a,b){y.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=o.extend({},c),j=i.complete,k={opacity:"In"===b?1:0};0!==e&&(i.begin=null),i.complete=e!==f-1?null:function(){j&&j.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),y(this,k,i)}}),y}(window.jQuery||window.Zepto||window,window,window?window.document:undefined)});

/*!
 * is.js 0.8.0
 * Author: Aras Atasaygin
 */
(function(n,t){if(typeof define==="function"&&define.amd){define(function(){return n.is=t()})}else if(typeof exports==="object"){module.exports=t()}else{n.is=t()}})(this,function(){var n={};n.VERSION="0.8.0";n.not={};n.all={};n.any={};var t=Object.prototype.toString;var e=Array.prototype.slice;var r=Object.prototype.hasOwnProperty;function a(n){return function(){return!n.apply(null,e.call(arguments))}}function u(n){return function(){var t=c(arguments);var e=t.length;for(var r=0;r<e;r++){if(!n.call(null,t[r])){return false}}return true}}function o(n){return function(){var t=c(arguments);var e=t.length;for(var r=0;r<e;r++){if(n.call(null,t[r])){return true}}return false}}var i={"<":function(n,t){return n<t},"<=":function(n,t){return n<=t},">":function(n,t){return n>t},">=":function(n,t){return n>=t}};function f(n,t){var e=t+"";var r=+(e.match(/\d+/)||NaN);var a=e.match(/^[<>]=?|/)[0];return i[a]?i[a](n,r):n==r||r!==r}function c(t){var r=e.call(t);var a=r.length;if(a===1&&n.array(r[0])){r=r[0]}return r}n.arguments=function(n){return t.call(n)==="[object Arguments]"||n!=null&&typeof n==="object"&&"callee"in n};n.array=Array.isArray||function(n){return t.call(n)==="[object Array]"};n.boolean=function(n){return n===true||n===false||t.call(n)==="[object Boolean]"};n.char=function(t){return n.string(t)&&t.length===1};n.date=function(n){return t.call(n)==="[object Date]"};n.domNode=function(t){return n.object(t)&&t.nodeType>0};n.error=function(n){return t.call(n)==="[object Error]"};n["function"]=function(n){return t.call(n)==="[object Function]"||typeof n==="function"};n.json=function(n){return t.call(n)==="[object Object]"};n.nan=function(n){return n!==n};n["null"]=function(n){return n===null};n.number=function(e){return n.not.nan(e)&&t.call(e)==="[object Number]"};n.object=function(n){return Object(n)===n};n.regexp=function(n){return t.call(n)==="[object RegExp]"};n.sameType=function(e,r){var a=t.call(e);if(a!==t.call(r)){return false}if(a==="[object Number]"){return!n.any.nan(e,r)||n.all.nan(e,r)}return true};n.sameType.api=["not"];n.string=function(n){return t.call(n)==="[object String]"};n.undefined=function(n){return n===void 0};n.windowObject=function(n){return n!=null&&typeof n==="object"&&"setInterval"in n};n.empty=function(t){if(n.object(t)){var e=Object.getOwnPropertyNames(t).length;if(e===0||e===1&&n.array(t)||e===2&&n.arguments(t)){return true}return false}return t===""};n.existy=function(n){return n!=null};n.falsy=function(n){return!n};n.truthy=a(n.falsy);n.above=function(t,e){return n.all.number(t,e)&&t>e};n.above.api=["not"];n.decimal=function(t){return n.number(t)&&t%1!==0};n.equal=function(t,e){if(n.all.number(t,e)){return t===e&&1/t===1/e}if(n.all.string(t,e)||n.all.regexp(t,e)){return""+t===""+e}if(n.all.boolean(t,e)){return t===e}return false};n.equal.api=["not"];n.even=function(t){return n.number(t)&&t%2===0};n.finite=isFinite||function(t){return n.not.infinite(t)&&n.not.nan(t)};n.infinite=function(n){return n===Infinity||n===-Infinity};n.integer=function(t){return n.number(t)&&t%1===0};n.negative=function(t){return n.number(t)&&t<0};n.odd=function(t){return n.number(t)&&t%2===1};n.positive=function(t){return n.number(t)&&t>0};n.under=function(t,e){return n.all.number(t,e)&&t<e};n.under.api=["not"];n.within=function(t,e,r){return n.all.number(t,e,r)&&t>e&&t<r};n.within.api=["not"];var l={affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,alphaNumeric:/^[A-Za-z0-9]+$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,dateString:/^(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])(?:\2)(?:[0-9]{2})?[0-9]{2}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,hexadecimal:/^(?:0x)?[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/};function d(t,e){n[t]=function(n){return e[t].test(n)}}for(var s in l){if(l.hasOwnProperty(s)){d(s,l)}}n.ip=function(t){return n.ipv4(t)||n.ipv6(t)};n.capitalized=function(t){if(n.not.string(t)){return false}var e=t.split(" ");for(var r=0;r<e.length;r++){var a=e[r];if(a.length){var u=a.charAt(0);if(u!==u.toUpperCase()){return false}}}return true};n.endWith=function(t,e){if(n.not.string(t)){return false}e+="";var r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r};n.endWith.api=["not"];n.include=function(n,t){return n.indexOf(t)>-1};n.include.api=["not"];n.lowerCase=function(t){return n.string(t)&&t===t.toLowerCase()};n.palindrome=function(t){if(n.not.string(t)){return false}t=t.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase();var e=t.length-1;for(var r=0,a=Math.floor(e/2);r<=a;r++){if(t.charAt(r)!==t.charAt(e-r)){return false}}return true};n.space=function(t){if(n.not.char(t)){return false}var e=t.charCodeAt(0);return e>8&&e<14||e===32};n.startWith=function(t,e){return n.string(t)&&t.indexOf(e)===0};n.startWith.api=["not"];n.upperCase=function(t){return n.string(t)&&t===t.toUpperCase()};var F=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var p=["january","february","march","april","may","june","july","august","september","october","november","december"];n.day=function(t,e){return n.date(t)&&e.toLowerCase()===F[t.getDay()]};n.day.api=["not"];n.dayLightSavingTime=function(n){var t=new Date(n.getFullYear(),0,1);var e=new Date(n.getFullYear(),6,1);var r=Math.max(t.getTimezoneOffset(),e.getTimezoneOffset());return n.getTimezoneOffset()<r};n.future=function(t){var e=new Date;return n.date(t)&&t.getTime()>e.getTime()};n.inDateRange=function(t,e,r){if(n.not.date(t)||n.not.date(e)||n.not.date(r)){return false}var a=t.getTime();return a>e.getTime()&&a<r.getTime()};n.inDateRange.api=["not"];n.inLastMonth=function(t){return n.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)};n.inLastWeek=function(t){return n.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)};n.inLastYear=function(t){return n.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)};n.inNextMonth=function(t){return n.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))};n.inNextWeek=function(t){return n.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))};n.inNextYear=function(t){return n.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))};n.leapYear=function(t){return n.number(t)&&(t%4===0&&t%100!==0||t%400===0)};n.month=function(t,e){return n.date(t)&&e.toLowerCase()===p[t.getMonth()]};n.month.api=["not"];n.past=function(t){var e=new Date;return n.date(t)&&t.getTime()<e.getTime()};n.quarterOfYear=function(t,e){return n.date(t)&&n.number(e)&&e===Math.floor((t.getMonth()+3)/3)};n.quarterOfYear.api=["not"];n.today=function(t){var e=new Date;var r=e.toDateString();return n.date(t)&&t.toDateString()===r};n.tomorrow=function(t){var e=new Date;var r=new Date(e.setDate(e.getDate()+1)).toDateString();return n.date(t)&&t.toDateString()===r};n.weekend=function(t){return n.date(t)&&(t.getDay()===6||t.getDay()===0)};n.weekday=a(n.weekend);n.year=function(t,e){return n.date(t)&&n.number(e)&&e===t.getFullYear()};n.year.api=["not"];n.yesterday=function(t){var e=new Date;var r=new Date(e.setDate(e.getDate()-1)).toDateString();return n.date(t)&&t.toDateString()===r};var D=n.windowObject(typeof global=="object"&&global)&&global;var h=n.windowObject(typeof self=="object"&&self)&&self;var v=n.windowObject(typeof this=="object"&&this)&&this;var b=D||h||v||Function("return this")();var g=h&&h.document;var m=b.is;var w=h&&h.navigator;var y=(w&&w.appVersion||"").toLowerCase();var x=(w&&w.userAgent||"").toLowerCase();var A=(w&&w.vendor||"").toLowerCase();n.android=function(){return/android/.test(x)};n.android.api=["not"];n.androidPhone=function(){return/android/.test(x)&&/mobile/.test(x)};n.androidPhone.api=["not"];n.androidTablet=function(){return/android/.test(x)&&!/mobile/.test(x)};n.androidTablet.api=["not"];n.blackberry=function(){return/blackberry/.test(x)||/bb10/.test(x)};n.blackberry.api=["not"];n.chrome=function(n){var t=/google inc/.test(A)?x.match(/(?:chrome|crios)\/(\d+)/):null;return t!==null&&f(t[1],n)};n.chrome.api=["not"];n.desktop=function(){return n.not.mobile()&&n.not.tablet()};n.desktop.api=["not"];n.edge=function(n){var t=x.match(/edge\/(\d+)/);return t!==null&&f(t[1],n)};n.edge.api=["not"];n.firefox=function(n){var t=x.match(/(?:firefox|fxios)\/(\d+)/);return t!==null&&f(t[1],n)};n.firefox.api=["not"];n.ie=function(n){var t=x.match(/(?:msie |trident.+?; rv:)(\d+)/);return t!==null&&f(t[1],n)};n.ie.api=["not"];n.ios=function(){return n.iphone()||n.ipad()||n.ipod()};n.ios.api=["not"];n.ipad=function(n){var t=x.match(/ipad.+?os (\d+)/);return t!==null&&f(t[1],n)};n.ipad.api=["not"];n.iphone=function(n){var t=x.match(/iphone(?:.+?os (\d+))?/);return t!==null&&f(t[1]||1,n)};n.iphone.api=["not"];n.ipod=function(n){var t=x.match(/ipod.+?os (\d+)/);return t!==null&&f(t[1],n)};n.ipod.api=["not"];n.linux=function(){return/linux/.test(y)};n.linux.api=["not"];n.mac=function(){return/mac/.test(y)};n.mac.api=["not"];n.mobile=function(){return n.iphone()||n.ipod()||n.androidPhone()||n.blackberry()||n.windowsPhone()};n.mobile.api=["not"];n.offline=a(n.online);n.offline.api=["not"];n.online=function(){return!w||w.onLine===true};n.online.api=["not"];n.opera=function(n){var t=x.match(/(?:^opera.+?version|opr)\/(\d+)/);return t!==null&&f(t[1],n)};n.opera.api=["not"];n.phantom=function(n){var t=x.match(/phantomjs\/(\d+)/);return t!==null&&f(t[1],n)};n.phantom.api=["not"];n.safari=function(n){var t=x.match(/version\/(\d+).+?safari/);return t!==null&&f(t[1],n)};n.safari.api=["not"];n.tablet=function(){return n.ipad()||n.androidTablet()||n.windowsTablet()};n.tablet.api=["not"];n.touchDevice=function(){return!!g&&("ontouchstart"in h||"DocumentTouch"in h&&g instanceof DocumentTouch)};n.touchDevice.api=["not"];n.windows=function(){return/win/.test(y)};n.windows.api=["not"];n.windowsPhone=function(){return n.windows()&&/phone/.test(x)};n.windowsPhone.api=["not"];n.windowsTablet=function(){return n.windows()&&n.not.windowsPhone()&&/touch/.test(x)};n.windowsTablet.api=["not"];n.propertyCount=function(t,e){if(n.not.object(t)||n.not.number(e)){return false}var a=0;for(var u in t){if(r.call(t,u)&&++a>e){return false}}return a===e};n.propertyCount.api=["not"];n.propertyDefined=function(t,e){return n.object(t)&&n.string(e)&&e in t};n.propertyDefined.api=["not"];n.inArray=function(t,e){if(n.not.array(e)){return false}for(var r=0;r<e.length;r++){if(e[r]===t){return true}}return false};n.inArray.api=["not"];n.sorted=function(t,e){if(n.not.array(t)){return false}var r=i[e]||i[">="];for(var a=1;a<t.length;a++){if(!r(t[a],t[a-1])){return false}}return true};function j(){var t=n;for(var e in t){if(r.call(t,e)&&n["function"](t[e])){var i=t[e].api||["not","all","any"];for(var f=0;f<i.length;f++){if(i[f]==="not"){n.not[e]=a(n[e])}if(i[f]==="all"){n.all[e]=u(n[e])}if(i[f]==="any"){n.any[e]=o(n[e])}}}}}j();n.setNamespace=function(){b.is=m;return this};n.setRegexp=function(n,t){for(var e in l){if(r.call(l,e)&&t===e){l[e]=n}}};return n});

/*! Slick */
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});

/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h="Close",i="BeforeClose",j="AfterClose",k="BeforeAppend",l="MarkupParse",m="Open",n="Change",o="mfp",p="."+o,q="mfp-ready",r="mfp-removing",s="mfp-prevent-close",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x("bg").on("click"+p,function(){b.close()}),b.wrap=x("wrap").attr("tabindex",-1).on("click"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x("container",b.wrap)),b.contentContainer=x("content"),b.st.preloader&&(b.preloader=x("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}y("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=" mfp-close-btn-in"):b.wrap.append(z())),b.st.alignTop&&(f+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"}),b.st.enableEscapeKey&&d.on("keyup"+p,function(a){27===a.keyCode&&b.close()}),v.on("resize"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):n.overflow="hidden");var r=b.st.mainClass;return b.isIE7&&(r+=" mfp-ie7"),r&&b._addClassToMFP(r),b.updateItemHTML(),y("BuildControls"),a("html").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on("focusin"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+" "+q+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:""};b.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}d.off("keyup"+p+" focusin"+p),b.ev.off(p),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css("height",b.wH),y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass("mfp-"+e+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(z()):b.content=a:b.content="",y(k),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,y("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};y("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split("_"),e.length>1){var f=b.find(p+"-"+e[0]);if(f.length>0){var g=e[1];"replaceWith"===g?f[0]!==d[0]&&f.replaceWith(d):"img"===g?f.is("img")?f.attr("src",d):f.replaceWith(a("<img>").attr("src",d).attr("class",f.attr("class"))):f.attr(e[1],d)}}else b.find(p+"-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=u?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F="inline",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(F),w(h+"."+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C="mfp-"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var H,I="ajax",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+"."+I,K),w("BeforeChange."+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus("loading");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y("ParseAjax",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus("ready"),y("AjaxContentAdded")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),""}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=".image";b.types.push("image"),w(m+d,function(){"image"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off("resize"+p)}),w("Resize"+d,b.resizeImage),b.isLowIE&&w("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};w("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y("ZoomAnimationEnded")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var P="iframe",Q="//about:blank",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find("iframe");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(P),w("BeforeChange",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+"."+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,e=".mfp-gallery";return b.direction=!0,c&&c.enabled?(f+=" mfp-gallery",w(m+e,function(){c.navigateByImgClick&&b.wrap.on("click"+e,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on("keydown"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w("UpdateStatus"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):""}),w("BuildControls"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off("click"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,y("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var U="retina";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w("ImageHasSize."+U,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),w("ElementParse."+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});

/****************************************************************************
 *
 * LiveAct(R) PRO
 * Runtime Library
 *
 * (c) 2016 CRI Middleware Co., Ltd.
 * Version : 1.63.531.0 Analytics
 *
 ****************************************************************************/
"use strict";
var CriLaVersion={MAJOR:1,MINOR:63,REVISION:0,BUILD:531};Object.freeze(CriLaVersion);function CriGrxMath(){}CriGrxMath.lerp=function(b,a,c){return(b+(a-b)*c)};CriGrxMath.degreeToRadian=function(a){return a*(Math.PI/180)};CriGrxMath.clamp=function(b,a,c){return Math.min(a,Math.max(b,c))};function CriGrxRealNumberOperator(a){this.eps=a==null?CriGrxRealNumberOperator.EPS:a}CriGrxRealNumberOperator.EPS=0.000001;CriGrxRealNumberOperator.eq=function(f,d,c){var e=c==null?CriGrxRealNumberOperator.EPS:c;return Math.abs(f-d)<e};CriGrxRealNumberOperator.lt=function(f,d,c){var e=c==null?CriGrxRealNumberOperator.EPS:c;return !CriGrxRealNumberOperator.eq(f,d,e)&&f<d+e};CriGrxRealNumberOperator.le=function(e,d,c){return CriGrxRealNumberOperator.eq(e,d,c)||CriGrxRealNumberOperator.lt(e,d,c)};CriGrxRealNumberOperator.gt=function(e,d,c){return CriGrxRealNumberOperator.lt(d,e,c)};CriGrxRealNumberOperator.ge=function(e,d,c){return CriGrxRealNumberOperator.le(d,e,c)};CriGrxRealNumberOperator.between=function(d,b,c,a){return CriGrxRealNumberOperator.ge(c,d,a)&&CriGrxRealNumberOperator.le(c,b,a)};CriGrxRealNumberOperator.betweenHalfOpen=function(d,b,c,a){return CriGrxRealNumberOperator.ge(c,d,a)&&CriGrxRealNumberOperator.lt(c,b,a)};(function(a){["eq","lt","le","gt","ge","between","betweenHalfOpen"].forEach(function(b){a[b]=function(){var c=Array.prototype.slice.call(arguments);c.push(this.eps);return CriGrxRealNumberOperator[b].apply(null,c)}})})(CriGrxRealNumberOperator.prototype);function CriGrxVector2(){this.x=0;this.y=0}CriGrxVector2.createFromXY=function(a,c){var b=new CriGrxVector2();b.x=a;b.y=c;return b};(function(a){a.getLength=function(){var b=this.x;var c=this.y;return Math.sqrt(b*b+c*c)};a.normalize=function(b,e){var d=this.getLength();var c=1/d;this.x=this.x*c;this.y=this.y*c;return this}})(CriGrxVector2.prototype);function CriGrxVector2_Add(d,c){var e=new CriGrxVector2();e.x=d.x+c.x;e.y=d.y+c.y;return e}function CriGrxVector2_Sub(d,c){var e=new CriGrxVector2();e.x=d.x-c.x;e.y=d.y-c.y;return e}function CriGrxVector2_Scale(b,d){var c=new CriGrxVector2();c.x=b.x*d;c.y=b.y*d;return c}function CriGrxVector2_Div(b,d){var c=new CriGrxVector2();c.x=b.x/d;c.y=b.y/d;return c}function CriGrxVector2_Dot(d,c){var e=d.x*c.x+d.y*c.y;return e}function CriGrxVector2_CenterOfGravity(b){var a=b.length;if(!a){return null}return CriGrxVector2_Div(b.reduce(CriGrxVector2_Add),a)}function CriGrxVector3(){this.x=0;this.y=0;this.z=0}CriGrxVector3.createFromXYZ=function(a,d,c){var b=new CriGrxVector3();b.x=a;b.y=d;b.z=c;return b};(function(a){a.setXYZ=function(b,d,c){this.x=b;this.y=d;this.z=c;return this};a.getLength=function(){var b=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return b};a.normalize=function(){var b=1/this.getLength();this.x*=b;this.y*=b;this.z*=b};a.add=function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z;return this};a.sub=function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z;return this};a.dot=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};a.cross=function(c){var b,e,d;b=this.y*c.z-this.z*c.y;e=this.z*c.x-this.x*c.z;d=this.x*c.y-this.y*c.x;this.x=b;this.y=e;this.z=d;return this};a.copy=function(){var b=new CriGrxVector3();b.x=this.x;b.y=this.y;b.z=this.z;return b};a.transform3x3=function(d){var c=this.x;var b=this.y;var e=this.z;this.x=(c*d.m00)+(b*d.m10)+(e*d.m20);this.y=(c*d.m01)+(b*d.m11)+(e*d.m21);this.z=(c*d.m02)+(b*d.m12)+(e*d.m22);return this}})(CriGrxVector3.prototype);function CriGrxMatrix(){this.m00=0;this.m01=0;this.m02=0;this.m03=0;this.m10=0;this.m11=0;this.m12=0;this.m13=0;this.m20=0;this.m21=0;this.m22=0;this.m23=0;this.m30=0;this.m31=0;this.m32=0;this.m33=0}(function(a){a.setIdentity=function(){this.m00=1;this.m01=0;this.m02=0;this.m03=0;this.m10=0;this.m11=1;this.m12=0;this.m13=0;this.m20=0;this.m21=0;this.m22=1;this.m23=0;this.m30=0;this.m31=0;this.m32=0;this.m33=1};a.translateXY=function(b,c){this.m30=this.m30+b;this.m31=this.m31+c};a.translateXYZ=function(b,d,c){this.m30+=b;this.m31+=d;this.m32+=c;return this};a.translateV=function(b){this.translateXY(b.x,b.y)};a.setTranslationXY=function(b,c){this.setIdentity();this.m30=b;this.m31=c};a.setTranslationV=function(b){this.setTranslationXY(b.x,b.y)};a.scaleXY=function(b,c){this.m00*=b;this.m01*=c;this.m10*=b;this.m11*=c;this.m30*=b;this.m31*=c};a.scale=function(b){this.scaleXY(b,b)};a.scaleV=function(b){this.scaleXY(b.x,b.y)};a.setScale=function(b){this.setScaleXY(b,b)};a.setScaleXY=function(b,c){this.setIdentity();this.m00=b;this.m11=c};a.setScaleV=function(b){this.setScaleXY(b.x,b.y)};a.rotateX=function(e){var b=new Array(8);var d=Math.sin(e);var f=Math.cos(e);b[0]=this.m01*f+this.m02*-d;b[1]=this.m11*f+this.m12*-d;b[2]=this.m21*f+this.m22*-d;b[3]=this.m31*f+this.m32*-d;b[4]=this.m01*d+this.m02*f;b[5]=this.m11*d+this.m12*f;b[6]=this.m21*d+this.m22*f;b[7]=this.m31*d+this.m32*f;this.m01=b[0];this.m11=b[1];this.m21=b[2];this.m31=b[3];this.m02=b[4];this.m12=b[5];this.m22=b[6];this.m32=b[7];return this};a.rotateY=function(e){var b=new Array(8);var d=Math.sin(e);var f=Math.cos(e);b[0]=this.m00*f+this.m02*d;b[1]=this.m10*f+this.m12*d;b[2]=this.m20*f+this.m22*d;b[3]=this.m30*f+this.m32*d;b[4]=this.m00*-d+this.m02*f;b[5]=this.m10*-d+this.m12*f;b[6]=this.m20*-d+this.m22*f;b[7]=this.m30*-d+this.m32*f;this.m00=b[0];this.m10=b[1];this.m20=b[2];this.m30=b[3];this.m02=b[4];this.m12=b[5];this.m22=b[6];this.m32=b[7];return this};a.rotateZ=function(e){var b=new Array(8);var d=Math.sin(e);var f=Math.cos(e);b[0]=this.m00*f+this.m01*-d;b[1]=this.m10*f+this.m11*-d;b[2]=this.m20*f+this.m21*-d;b[3]=this.m30*f+this.m31*-d;b[4]=this.m00*d+this.m01*f;b[5]=this.m10*d+this.m11*f;b[6]=this.m20*d+this.m21*f;b[7]=this.m30*d+this.m31*f;this.m00=b[0];this.m10=b[1];this.m20=b[2];this.m30=b[3];this.m01=b[4];this.m11=b[5];this.m21=b[6];this.m31=b[7];return this};a.rotate=a.rotateZ;a.setRotation=function(b){this.setIdentity();var d=Math.cos(b);var c=Math.sin(b);this.m00=d;this.m01=c;this.m10=(-c);this.m11=d};a.setRotationQ=function(d){var c;var p,f,m,j;var i,h,g;var b,o,n;var l,k,e;c=d.x*d.x+d.y*d.y+d.z*d.z+d.w*d.w;p=(c>0)?(2/c):0;f=d.x*p;m=d.y*p;j=d.z*p;i=d.w*f;h=d.w*m;g=d.w*j;b=d.x*f;o=d.x*m;n=d.x*j;l=d.y*m;k=d.y*j;e=d.z*j;this.m00=1-(l+e);this.m10=o+g;this.m20=n-h;this.m01=o-g;this.m11=1-(b+e);this.m21=k+i;this.m02=n+h;this.m12=k-i;this.m22=1-(b+l);this.m03=this.m13=this.m23=0;this.m30=this.m31=this.m32=0;this.m33=1;return this};a.transpose=function(h){var n=this.m01;var l=this.m02;var j=this.m03;var g=this.m10;var f=this.m12;var e=this.m13;var d=this.m20;var c=this.m21;var b=this.m23;var m=this.m30;var k=this.m31;var i=this.m32;this.m01=g;this.m02=d;this.m03=m;this.m10=n;this.m12=c;this.m13=k;this.m20=l;this.m21=f;this.m23=i;this.m30=j;this.m31=e;this.m32=b};a.inverse=function(){var b=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];var j=new CriGrxMatrix();j.setIdentity();function i(n,m,l){n[0][0]=m.m00;n[0][1]=m.m01;n[0][2]=m.m02;n[0][3]=m.m03;n[1][0]=m.m10;n[1][1]=m.m11;n[1][2]=m.m12;n[1][3]=m.m13;n[2][0]=m.m20;n[2][1]=m.m21;n[2][2]=m.m22;n[2][3]=m.m23;n[3][0]=m.m30;n[3][1]=m.m31;n[3][2]=m.m32;n[3][3]=m.m33;n[0][4]=l.m00;n[0][5]=l.m01;n[0][6]=l.m02;n[0][7]=l.m03;n[1][4]=l.m10;n[1][5]=l.m11;n[1][6]=l.m12;n[1][7]=l.m13;n[2][4]=l.m20;n[2][5]=l.m21;n[2][6]=l.m22;n[2][7]=l.m23;n[3][4]=l.m30;n[3][5]=l.m31;n[3][6]=l.m32;n[3][7]=l.m33}i(b,this,j);for(var h=0;h<4;h++){var k=b[h][h];if(k!=1){if(k==0){var c;for(c=h+1;c<4;c++){if(b[c][h]!=0){break}}if(c==4){return j}var f=b[h];b[h]=b[c];b[c]=f;k=b[h][h]}var e=1/k;for(var d=h;d<8;d++){b[h][d]*=e}}for(var c=0;c<4;c++){if(c==h){continue}var e=b[c][h];if(e==0){continue}for(var d=h;d<8;d++){b[c][d]-=(b[h][d]*e)}}}var g=new CriGrxMatrix();g.m00=b[0][4];g.m01=b[0][5];g.m02=b[0][6];g.m03=b[0][7];g.m10=b[1][4];g.m11=b[1][5];g.m12=b[1][6];g.m13=b[1][7];g.m20=b[2][4];g.m21=b[2][5];g.m22=b[2][6];g.m23=b[2][7];g.m30=b[3][4];g.m31=b[3][5];g.m32=b[3][6];g.m33=b[3][7];this.copyMatrix(g)};a.copy=function(){var b=new CriGrxMatrix();b.copyMatrix(this);return b};a.copyMatrix=function(b){this.m00=b.m00;this.m01=b.m01;this.m02=b.m02;this.m03=b.m03;this.m10=b.m10;this.m11=b.m11;this.m12=b.m12;this.m13=b.m13;this.m20=b.m20;this.m21=b.m21;this.m22=b.m22;this.m23=b.m23;this.m30=b.m30;this.m31=b.m31;this.m32=b.m32;this.m33=b.m33};a.determinant=function(){var b=((this.m00*this.m11)-(this.m10*this.m01))*((this.m22*this.m33)-(this.m32*this.m23))-((this.m00*this.m21)-(this.m20*this.m01))*((this.m12*this.m33)-(this.m32*this.m13))+((this.m00*this.m31)-(this.m30*this.m01))*((this.m12*this.m23)-(this.m22*this.m13))+((this.m10*this.m21)-(this.m20*this.m11))*((this.m02*this.m33)-(this.m32*this.m03))-((this.m10*this.m31)-(this.m30*this.m11))*((this.m02*this.m23)-(this.m22*this.m03))+((this.m20*this.m31)-(this.m30*this.m21))*((this.m02*this.m13)-(this.m12*this.m03));return b};a.determinant3x3=function(){var b=this.m00*((this.m11*this.m22)-(this.m12*this.m21))+this.m01*((this.m12*this.m20)-(this.m10*this.m22))+this.m02*((this.m10*this.m21)-(this.m11*this.m20));return b};a.multiplyMatrix=function(c){var d=new CriGrxMatrix();d.m00=this.m00*c.m00+this.m01*c.m10+this.m02*c.m20+this.m03*c.m30;d.m01=this.m00*c.m01+this.m01*c.m11+this.m02*c.m21+this.m03*c.m31;d.m02=this.m00*c.m02+this.m01*c.m12+this.m02*c.m22+this.m03*c.m32;d.m03=this.m00*c.m03+this.m01*c.m13+this.m02*c.m23+this.m03*c.m33;d.m10=this.m10*c.m00+this.m11*c.m10+this.m12*c.m20+this.m13*c.m30;d.m11=this.m10*c.m01+this.m11*c.m11+this.m12*c.m21+this.m13*c.m31;d.m12=this.m10*c.m02+this.m11*c.m12+this.m12*c.m22+this.m13*c.m32;d.m13=this.m10*c.m03+this.m11*c.m13+this.m12*c.m23+this.m13*c.m33;d.m20=this.m20*c.m00+this.m21*c.m10+this.m22*c.m20+this.m23*c.m30;d.m21=this.m20*c.m01+this.m21*c.m11+this.m22*c.m21+this.m23*c.m31;d.m22=this.m20*c.m02+this.m21*c.m12+this.m22*c.m22+this.m23*c.m32;d.m23=this.m20*c.m03+this.m21*c.m13+this.m22*c.m23+this.m23*c.m33;d.m30=this.m30*c.m00+this.m31*c.m10+this.m32*c.m20+this.m33*c.m30;d.m31=this.m30*c.m01+this.m31*c.m11+this.m32*c.m21+this.m33*c.m31;d.m32=this.m30*c.m02+this.m31*c.m12+this.m32*c.m22+this.m33*c.m32;d.m33=this.m30*c.m03+this.m31*c.m13+this.m32*c.m23+this.m33*c.m33;return d};a.multiply=function(b){var c=this.multiplyMatrix(b);var b=this;b.m00=c.m00;b.m01=c.m01;b.m02=c.m02;b.m03=c.m03;b.m10=c.m10;b.m11=c.m11;b.m12=c.m12;b.m13=c.m13;b.m20=c.m20;b.m21=c.m21;b.m22=c.m22;b.m23=c.m23;b.m30=c.m30;b.m31=c.m31;b.m32=c.m32;b.m33=c.m33;return this};a.multiplyVector2=function(c){var d=new CriGrxVector2();d.x=this.m00*c.x+this.m10*c.y+this.m30;d.y=this.m01*c.x+this.m11*c.y+this.m31;return d};a.lookAtRH=function(h,g,b){var c=new CriGrxMatrix();var f,e,d;d=h.copy();d.sub(g);d.normalize();f=b.copy();f.cross(d);f.normalize();e=d.copy();e.cross(f);e.normalize();c.m00=f.x;c.m01=e.x;c.m02=d.x;c.m03=0;c.m10=f.y;c.m11=e.y;c.m12=d.y;c.m13=0;c.m20=f.z;c.m21=e.z;c.m22=d.z;c.m23=0;c.m30=0;c.m31=0;c.m32=0;c.m33=1;this.multiply(c);this.translateXYZ(-h.x,-h.y,-h.z);return this};a.setPerspectiveRH=function(h,d,e,i){var f=1/Math.tan(h*0.5);var b=f/d;var g=i/(i-e);var c=this;c.m00=b;c.m01=0;c.m02=0;c.m03=0;c.m10=0;c.m11=f;c.m12=0;c.m13=0;c.m20=0;c.m21=0;c.m22=-g;c.m23=-1;c.m30=0;c.m31=0;c.m32=-e*g;c.m33=0;return this}})(CriGrxMatrix.prototype);function criLaMg_getTransformMatrix(a,i,f,c,e){var n=new CriGrxMatrix();var j=new CriGrxMatrix();var d=new CriGrxMatrix();n.setIdentity();j.setIdentity();d.setIdentity();var b=new CriGrxMatrix();b.setIdentity();var k=new CriGrxMatrix();var o=new CriGrxMatrix();var l=new CriGrxMatrix();k.setIdentity();o.setIdentity();l.setIdentity();b.translateXY(a.x,a.y);var h=c.x*f.x;var g=c.y*f.y;o.translateXY(h,g);k.rotate(i);l.translateXY(-h,-g);j.translateXY(e.x*f.x,e.y*f.y);n.scaleXY(f.x,f.y);d.translateXY(-e.x,-e.y);var m=new CriGrxMatrix();m.setIdentity();m=d.multiplyMatrix(n);m=m.multiplyMatrix(j);m=m.multiplyMatrix(l);m=m.multiplyMatrix(k);m=m.multiplyMatrix(o);m=m.multiplyMatrix(b);return m}function criLaMg_getTransformInverseMatrix(a,i,f,c,e){var n=new CriGrxMatrix();var j=new CriGrxMatrix();var d=new CriGrxMatrix();n.setIdentity();j.setIdentity();d.setIdentity();var b=new CriGrxMatrix();b.setIdentity();var k=new CriGrxMatrix();var o=new CriGrxMatrix();var l=new CriGrxMatrix();k.setIdentity();o.setIdentity();l.setIdentity();b.translateXY(-a.x,-a.y);var h=c.x*f.x;var g=c.y*f.y;o.translateXY(h,g);k.rotate(-i);l.translateXY(-h,-g);j.translateXY(e.x*1/f.x,e.y*1/f.y);n.scaleXY(1/f.x,1/f.y);d.translateXY(-e.x,-e.y);var m=new CriGrxMatrix();m.setIdentity();m=b.multiplyMatrix(l);m=m.multiplyMatrix(k);m=m.multiplyMatrix(o);m=m.multiplyMatrix(d);m=m.multiplyMatrix(n);m=m.multiplyMatrix(j);return m}function CriGrxQuat(){this.x=0;this.y=0;this.z=0;this.w=1}(function(a){a.setIdentity=function(){this.x=0;this.y=0;this.z=0;this.w=1};a.set=function(b,e,d,c){this.x=b;this.y=e;this.z=d;this.w=c};a.setAxisXYZ=function(b,h,f){var e=angle=-angle*0.5;var d=Math.sin(e);var g=Math.cos(e);this.x=d*axis_x;this.y=d*axis_y;this.z=d*axis_z;this.w=g;this.normalize()};a.setMatrix=function(f){var d=f.m00+f.m11+f.m22;var i;var g;var e;var j;if(d>=0){var k=Math.sqrt(d+1);j=k*0.5;k=0.5/k;i=(f.m21-f.m12)*k;g=(f.m02-f.m20)*k;e=(f.m10-f.m01)*k}else{var b=0;var c=f.m00;if(f.m11>f.m00){b=1;c=f.m11}if(f.m22>c){b=2}switch(b){case 0:k=Math.sqrt(f.m00-(f.m11+f.m22)+1);i=k*0.5;k=0.5/k;g=(f.m01+f.m10)*k;e=(f.m20+f.m02)*k;j=(f.m21-f.m12)*k;break;case 1:k=Math.sqrt(f.m11-(f.m22+f.m00)+1);g=k*0.5;k=0.5/k;e=(f.m12+f.m21)*k;i=(f.m01+f.m10)*k;j=(f.m02-f.m20)*k;break;case 2:k=Math.sqrt(f.m22-(f.m00+f.m11)+1);e=k*0.5;k=0.5/k;i=(f.m20+f.m02)*k;g=(f.m12+f.m21)*k;j=(f.m10-f.m01)*k;break}}this.x=i;this.y=g;this.z=e;this.w=j};a.setRotateAxis=function(d,e){var b,f;b=Math.sin(-e*0.5);f=Math.cos(-e*0.5);this.x=b*d.x;this.y=b*d.y;this.z=b*d.z;this.w=f;this.normalize();return this};a.setFromTo=function(e,d){var b=new CriGrxVector3();b=e.copy();b.cross(d);b.normalize();var c=e.dot(d);c=Math.acos(c);this.setRotateAxis(b,c)};a.getLength=function(){var b=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return b};a.normalize=function(){var b=1/this.getLength();this.x*=b;this.y*=b;this.z*=b;this.w*=b}})(CriGrxQuat.prototype);var CriUABrowser={Uninit:-1,IE:1,Edge:2,Chrome:3,Safari:4,Firefox:5,Other:-2};Object.freeze(CriUABrowser);var CriUAOS={Uninit:-1,Windows:1,macOS:2,iOS:3,Android:4,Other:-2};Object.freeze(CriUAOS);var CriUABrowserVersion={Uninit:-1,Unimplement:-2};Object.freeze(CriUABrowserVersion);var CriUAChecker={rawUA_:null,browser_:CriUABrowser.Uninit,os_:CriUAOS.Uninit,browserVer_:CriUABrowserVersion.Uninit};CriUAChecker.initialize_=function(){if(this.rawUA_==null){this.rawUA_=window.navigator.userAgent.toLowerCase()}};CriUAChecker.getBrowser=function(){this.initialize_();var b=this.browser_;if(b!=CriUABrowser.Uninit){return b}var a=this.rawUA_;b=CriUABrowser.Other;if(a.indexOf("msie")!=-1||a.indexOf("trident")!=-1){b=CriUABrowser.IE}else{if(a.indexOf("edge")!=-1){b=CriUABrowser.Edge}else{if(a.indexOf("chrome")!=-1){b=CriUABrowser.Chrome}else{if(a.indexOf("safari")!=-1){b=CriUABrowser.Safari}else{if(a.indexOf("firefox")!=-1){b=CriUABrowser.Firefox}}}}}this.browser_=b;return b};CriUAChecker.getOS=function(){this.initialize_();var b=this.os_;if(b!=CriUAOS.Uninit){return b}var a=this.rawUA_;b=CriUAOS.Other;if(a.indexOf("windows")!=-1){b=CriUAOS.Windows}else{if(a.indexOf("iphone")!=-1||a.indexOf("ipad")!=-1||a.indexOf("ipod")!=-1){b=CriUAOS.iOS}else{if(a.indexOf("mac os x")!=-1){b=CriUAOS.macOS}else{if(a.indexOf("android")!=-1){b=CriUAOS.Android}}}}this.os_=b;return b};CriUAChecker.isMobile=function(){var a=navigator.userAgent;return/(iPhone|iPod|iPad|Android)/.test(a)};CriUAChecker.isSmallScreen=function(){var a=navigator.userAgent;return/(iPhone|iPod|Android)/.test(a)};CriUAChecker.getOSVersion=function(){this.initialize_();var e=this.os_;if(e==CriUAOS.Uninit){e=this.getOS()}function d(f){if(f==null){return null}var h=String(f[2]).length;var g=parseFloat(parseInt(f[1],10)+parseInt(f[2],10)/Math.pow(10,h));return g}var c=this.rawUA_;var b=null;if(CriUAOS.Windows==e){}else{if(CriUAOS.macOS==e){var a=c.match(/os x (\d+)_(\d+)/);b=d(a)}else{if(CriUAOS.iOS==e){var a=c.match(/os (\d+)_(\d+)/);b=d(a)}else{if(CriUAOS.Android==e){b=parseFloat(c.slice(c.indexOf("android")+8))}else{}}}}return b};CriUAChecker.getBrowserVersion=function(){this.initialize_();var d=this.browserVer_;if(d!=CriUABrowserVersion.Uninit){return d}var c=this.rawUA_;d=CriUABrowserVersion.Unimplement;var b=this.getBrowser();if(b==CriUABrowser.IE){d=c.match(/(msie\s|rv:)([\d\.]+)/)[2]}else{if(b==CriUABrowser.Chrome){var a=c.match(/chrome\/([\d\.]+)/)[1];d=a.split(".")[0]}}this.browserVer_=d;return d};var CriTypeUtil={};CriTypeUtil.typeOf=function(b){var a=Object.prototype.toString.call(b).slice(8,-1);if(a==null){return undefined.toString()}return a};var CriUnitValue={};CriUnitValue.splitUnit=function(a,b){return CriUnitValue.splitUnitInt(a,b)};CriUnitValue.splitUnitInt=function(b,c){var a=CriUnitValue.splitUnitFloat(b,c);return[parseInt(a[0]),a[1]]};CriUnitValue.splitUnitFloat=function(d,f){var a="";if(f!=null){a=f}var c=d;if(CriTypeUtil.typeOf(d)==="String"){c=parseFloat(d);var b=d.split(/\d+/);var e=b[b.length-1];if(e!=""){a=e}}return[c,a]};CriUnitValue.parseAngleToRadian=function(a){var b=CriUnitValue.splitUnitFloat(a+"");var e=b[0]||0;var c=b[1]||"";var d=e;if(c){if(c==="deg"){d=CriGrxMath.degreeToRadian(e)}}return d};CriUnitValue.frameToSecond=function(a,b){return b/a};CriUnitValue.secondToFrame=function(b,a){return a*b};var CriLaHtmlCss={};(function(d){function a(i){var h=parseFloat(i);if(isNaN(h)){return 1}var g=CriUnitValue.splitUnitFloat(i);if(g[1]==="%"){h/=100}return h}d.getZoom=(function(){function h(j){var k="";if(j===document.documentElement){k=j.style.zoom}else{k=g(j)}return k}function g(j){return d.getComputedStyle(j).zoom}var i;switch(CriUAChecker.getBrowser()){case CriUABrowser.IE:case CriUABrowser.Edge:i=g;break;default:i=h;break}return function(j){var k=i(j);return a(k)}})();d.getHtmlZoom=function(){return d.getZoom(document.documentElement)};d.getTransform=function(j){var g=new CriGrxMatrix();g.setIdentity();var i=this.getComputedStyle(j).transform;var h=i.match(/matrix\((.+)\)/);if(h){var k=h[1];var l=k.split(",").map(function(m){m=m.trim();return Number(m)});g.scaleXY(l[0],l[3]);g.translateXY(l[4],l[5])}return g};d.getTransformOrigin=function(i){var g={x:0,y:0};var j=this.getComputedStyle(i).transformOrigin;var h=j.match(/([0-9\\.]+)(px)? +([0-9\\.]+)(px)?/);if(h){g.x=Number(h[1]);g.y=Number(h[3])}return g};d.getTransformWithOrigin=(function(){return function(i){var h=d.getTransform(i);var g=d.getTransformOrigin(i);var j=new CriGrxMatrix();j.setIdentity();j.translateXY(-g.x,-g.y);j=j.multiplyMatrix(h);j.translateXY(g.x,g.y);return j}})();d.calcTotalTransformWithOrigin=(function(){function h(i){return i.parentElement}function g(i,k){var j=d.getTransformWithOrigin(k);return i.multiplyMatrix(j)}return function(i){var j=new CriGrxMatrix();j.setIdentity();return e(i,h,j,g)}})();d.isInViewPort=function(h){if(d.isAncestorFixed(h)){return true}var i=CriLaRectangle.createFromElement(h);var g=CriLaRectangle.createFromViewPort();return CriLaRectangle.collision(i,g)};d.isInvisible=function(j){if(!d.isInViewPort(j)){return true}var k=d.getElementWidthHeight(j);var h=k.getWidth();var l=k.getHeight();if(h===0||l===0){return true}var i=d.getComputedStyle(j);var g=i.visibility;if(g==="hidden"){return true}return false};d.addClassName=function(g,h){g.classList.add(h)};d.removeClassName=function(g,h){g.classList.remove(h)};d.toggleClassName=function(g,h){g.classList.toggle(h)};d.getComputedStyle=function(h,g){return h.currentStyle||document.defaultView.getComputedStyle(h,g)};d.setVisibility=function(h,g){g=Boolean(g);var i="liveact-player__element--invisible";if(g){h.classList.remove(i)}else{h.classList.add(i)}};d.wrap=function(g,i){var h=g.parentNode;h.insertBefore(i,g);i.appendChild(g)};d.unwrap=function(g){var i=g.parentNode;var h=i.parentNode;h.insertBefore(g,i);h.removeChild(i)};d.isFixed=function(g){return d.getComputedStyle(g).position==="fixed"};d.isAncestorFixed=(function(){function g(h){return h.parentElement}return function(h){return b(h,g,d.isFixed)}})();function c(j,g,i){for(var h=j;h;h=g(h)){i(h)}}function e(k,h,j,g){var i=j;c(k,h,function(l){i=g(i,l)});return i}function b(j,h,g){for(var i=j;i;i=h(i)){if(g(i)){return true}}return false}function f(h,g){return h*d.getZoom(g)}d.calcTotalZoom=(function(){function g(j){return d.isFixed(j)?null:j.parentElement}function i(j){return j.parentElement}var h=CriUAChecker.getBrowser()===CriUABrowser.IE?g:i;return function(j){return e(j,h,1,f)}})();d.getElementPosition=(function(){function m(p){var o=p.parentElement;if(o==null){return null}if(o.offsetParent!==p.offsetParent){return null}return o}function j(o){return o.offsetParent}function n(q,p){var o=p.parentElement;return o===q?null:o}function h(r,q){var p=false;var s={x:0,y:0};c(r,j,function(t){c(t,n.bind(null,j(t)),function(w){var v=d.getTransformWithOrigin(w);var u=v.multiplyVector2(s);s.x=u.x;s.y=u.y});q(s,t,p);if(d.isFixed(t)){p=true}});if(p){var o=CriLaRectangle.createFromViewPort();s.x+=o.left;s.y+=o.top}return s}function i(r,q,o){if(!o){r.x+=q.offsetLeft;r.y+=q.offsetTop}var p=e(q,m,1,f);r.x*=p;r.y*=p}function g(q,p,o){if(!o){q.x+=p.offsetLeft;q.y+=p.offsetTop}}function l(q,p,o){if(!o){c(p,m,function(t){q.x+=t.offsetLeft;q.y+=t.offsetTop;var r=t.parentElement;if(r){if(t.offsetParent===r.offsetParent){q.x-=r.offsetLeft;q.y-=r.offsetTop}var s=d.getZoom(r);q.x*=s;q.y*=s}})}}var k;switch(CriUAChecker.getBrowser()){case CriUABrowser.Edge:k=g;break;case CriUABrowser.IE:k=l;break;default:k=i;break}return function(o){return h(o,k)}})();d.getElementWidthHeight=function(i){var h=d.calcTotalZoom(i);var g=d.calcTotalTransformWithOrigin(i);return CriLaRectangle.createFromXYWH(0,0,i.clientWidth*h*g.m00,i.clientHeight*h*g.m11)};d.middle=function(g){var h="calc((100% - "+g.clientHeight+"px) / 2)";g.style.top=h};d.center=function(g){var h="calc((100% - "+g.clientWidth+"px) / 2)";g.style.left=h};d.getEventPageX=function(g){return(g.changedTouches&&g.changedTouches[0])?g.changedTouches[0].pageX:g.pageX};d.calcEventNormalizedLeftPosition=function(k,i){var h=CriLaRectangle.createFromElement(k);var j=h.getWidth()||1;var g=d.getEventPageX(i);var l=(g-h.left)/j;return CriGrxMath.clamp(0,1,l)};d.createHorizontalLinearGradient=function(g){return"linear-gradient("+["90deg",g.map(function(h){return h.color+" "+h.percent+"%"})].join(",")+")"};d.createHorizontalStripedGradient=function(h,g,j){var i=[{color:h,percent:0}];j.forEach(function(l,k){i.push({color:k%2?g:h,percent:l});i.push({color:k%2?h:g,percent:l})});i.push({color:j.length%2?g:h,percent:100});return this.createHorizontalLinearGradient(i)}})(CriLaHtmlCss);var CriLaPolyfill={};(function(c){function b(d){throw new Error("Fullscreen APIがサポートされていません")}c.Object={};c.Object.setPrototypeOf=Object.setPrototypeOf||function(e,d){e.__proto__=d;return e};c.Event={};c.Event.CustomEvent=(function(){if(typeof(window.CustomEvent)==="function"){return window.CustomEvent}var d=function(f,g){g=g||{bubbles:false,cancelable:false,detail:void (0)};var e=document.createEvent("CustomEvent");e.initCustomEvent(f,g.bubbles,g.cancelable,g.detail);return e};d.prototype=window.Event.prototype;return d})();c.Event.MouseEvent=(function(d){if(typeof(window.MouseEvent)==="function"){var f=CriUAChecker.getBrowser();if(f!==CriUABrowser.Edge){return window.MouseEvent}}var e=function(i,h){h=h||{bubbles:false,cancelable:false,detail:void (0)};var g=document.createEvent("MouseEvent");g.initMouseEvent(i,h.bubbles,h.cancelable,d,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget);return g};e.prototype=Event.prototype;return e})(window);c.Event.PointerEvent=(function(d){if(typeof(window.PointerEvent)==="function"){var f=CriUAChecker.getBrowser();if(f!==CriUABrowser.Edge){return window.PointerEvent}}var e=function(i,h){h=h||{bubbles:false,cancelable:false,detail:void (0)};var g=document.createEvent("PointerEvent");g.initPointerEvent(i,h.bubbles,h.cancelable,d,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget,h.offsetX,h.offsetY,h.width,h.height,h.pressure,h.rotation,h.tiltX,h.tiltY,h.pointerId,h.pointerType,h.hwtimeStamp,h.isPrimary);return g};e.prototype=window.Event.prototype;return e})(window);c.Array={};c.Array.find=function(k,f,e){var g=void (0);for(var h=0,d=k.length;h<d;++h){var j=k[h];if(f.call(e,j,h,k)){g=j;break}}return g};c.Array.findIndex=function(k,f,e){var g=-1;for(var h=0,d=k.length;h<d;++h){var j=k[h];if(f.call(e,j,h,k)){g=h;break}}};c.Array.from=(function(){function d(e){return e}return function(e){return Array.prototype.map.call(e,d)}})();c.Element={};c.Element.requestFullscreen=(function(){var d=["webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","requestFullscreen"];var e=c.Array.find(d,function(f){return f in document.documentElement});if(e!=null){return function(f){f[e]()}}else{return b}})();c.Document={};c.Document.exitFullscreen=(function(){var e=["webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","cancelFullScreen","exitFullscreen"];var d=c.Array.find(e,function(f){return f in document});if(d!=null){return function(){document[d]()}}else{return b}})();var a=(function(){var d=["webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","fullscreenElement"];var e=c.Array.find(d,function(f){return f in document});if(e!=null){return function(){return document[e]}}else{return b}})();Object.defineProperty(c.Document,"fullscreenElement",{get:a})})(CriLaPolyfill);function criLiveActRelease(){if(window.CollectGarbage){window.CollectGarbage()}}var CriLaId={};CriLaId.createUniqueId=(function(){var a=Math.round;var d=Math.pow(2,31)-1;var c={};var b=function(){var f=a(d*Math.random())&d;var e=a(Date.now()/1000);var g=f+"."+e;if(g in c){return b()}else{c[g]=true;return g}};return b})();CriLaId.getIdFromObject=(function(){var b=[];var a=[];var c=0;return function(e){var d=b.indexOf(e);if(d===-1){b.push(e);var f=CriLaId.createUniqueId();a.push(f);++c;return f}else{return a[d]}}})();CriLaId.getClientId=function(){var b=CriLaData.Dict.fromString(";","=",document.cookie);var c=b["_la-cid"];if(!c){var a=new Date();a.setTime(a.getTime()+(63072000*1000));c=CriLaId.createUniqueId();document.cookie="_la-cid="+c+"; expires="+a.toGMTString()}return c};var CriLaXHR={};CriLaXHR.requestLoad=function(d,f,b,a,e){var c=e||{async:true};if(!b||typeof b!=="function"){b=null}if(!a||typeof a!=="function"){a=null}f=f.toLowerCase();var g=new XMLHttpRequest();g.open("GET",d,c.async,c.user,c.password);g.responseType=this.mapResponseType_(f);if(a){g.onerror=a;g.onabort=a;g.ontimeout=a}if(b){g.onload=this.onloadFactory_(f,b)}g.send(null)};CriLaXHR.requestLoadSync=function(a){var b=new XMLHttpRequest();b.open("GET",a,false);b.send(null);return b};CriLaXHR.mapResponseType_=function(a){return this.RESPONSE_TYPE_MAP[a]||a};CriLaXHR.RESPONSE_TYPE_MAP={json:"text"};CriLaXHR.onloadFactory_=function(b,a){switch(b){case"text":return function(c){var d=c.target.responseText;a(d)};case"json":return function(c){var e=c.target.responseText;var d=JSON.parse(e);a(d)};case"arraybuffer":return function(d){var c=d.target.response;a(c)};default:throw new Error("invalid responseType")}};var CriLaBrowserSetting={};CriLaBrowserSetting.isSaveData=function(){if(window.navigator.connection==null){return false}if(window.navigator.connection.saveData==null){return false}return window.navigator.connection.saveData};var CriLaUtility={};CriLaUtility.functionExists=function(c,a){var b=a||window;return typeof b[c]==="function"};CriLaUtility.Array={};CriLaUtility.Array.zip=function(d){var a=CriLaPolyfill.Array.from(arguments).map(function(f){return CriLaPolyfill.Array.from(f)});if(a.length===0){return[]}var e=Math.max.apply(Math,a.map(function(f){return f.length}));a.forEach(function(f){f.length=e});var c=[];for(var b=0;b<e;++b){c.push(a.map(function(f){return f[b]}))}return c};CriLaUtility.Array.isEqual=function(a,b,d){if(!a||!b||a.length!==b.length){return false}a=CriLaPolyfill.Array.from(a);b=CriLaPolyfill.Array.from(b);var c=d||function(f,e){return f===e};return CriLaUtility.Array.zip(a,b).every(function(e){return c(e[0],e[1])})};CriLaUtility.Array.copy=function(a,b){Array.prototype.splice.apply(b,[0,b.length].concat(a))};function CriLaFrameRange(a,b){this.resolution_=CriLaFrameRange.DEFAULT_RESOLUTION;this.eps_=CriLaFrameRange.DEFAULT_EPS;this.op_=CriLaFrameRange.DEFAULT_OPERATOR;this.begin_=this.normalizeNumber_(a);this.duration_=this.normalizeNumber_(b)}CriLaFrameRange.DEFAULT_RESOLUTION=0.01;CriLaFrameRange.DEFAULT_EPS=CriLaFrameRange.DEFAULT_RESOLUTION/10;CriLaFrameRange.DEFAULT_OPERATOR=new CriGrxRealNumberOperator(CriLaFrameRange.DEFAULT_EPS);CriLaFrameRange.op=CriLaFrameRange.DEFAULT_OPERATOR;(function(a){Object.defineProperty(a,"begin",{get:function(){return this.begin_},set:function(b){this.begin_=this.normalizeNumber_(b)},enumerable:true});Object.defineProperty(a,"start",Object.getOwnPropertyDescriptor(a,"begin"));Object.defineProperty(a,"duration",{get:function(){return this.duration_},set:function(b){this.duration_=this.normalizeNumber_(b)},enumerable:true});Object.defineProperty(a,"end",{get:function(){return this.begin+this.duration},set:function(b){b=this.normalizeNumber_(b);if(this.lt(b,this.begin)){throw new Error("end frame must be greater than or equal to begin frame: "+JSON.stringify({begin:this.begin,end:b}))}this.duration=this.normalizeNumber_(b-this.begin)},enumerable:true});Object.defineProperty(a,"last",{get:function(){return Math.max(this.begin,this.end-this.resolution_)},set:function(b){b=this.normalizeNumber_(b);if(this.lt(b,this.begin)){throw new Error("last frame must be greater than or equal to begin frame: "+JSON.stringify({begin:this.begin,last:b}))}this.end=this.normalizeNumber_(b+this.resolution_)},enumerable:true});a.clone=function(){return new CriLaFrameRange(this.begin,this.duration)};a.setResolution=function(b){this.resolution_=this.normalizeNumber_(b);this.eps_=this.resolution_/10;this.op_=new CriGrxRealNumberOperator(this.eps_)};["eq","lt","le","gt","ge","between","betweenHalfOpen"].forEach(function(b){a[b]=function(){return this.op_[b].apply(this.op_,arguments)}});a.isInnerFrame=function(b){return this.eq(this.duration,0)?this.eq(b,this.begin):this.betweenHalfOpen(this.begin,this.end,b)};a.isPlayableFrame=function(b){return this.eq(this.duration,0)?this.eq(b,this.begin):this.between(this.begin,this.last,b)};a.isExceededLastFrame=function(b){return 0<=this.last&&this.ge(b,this.last)};a.clamp=function(b){return CriGrxMath.clamp(this.begin,this.end,b)};a.clampWithPlayableFrame=function(b){return CriGrxMath.clamp(this.begin,this.last,b)};a.normalizeNumber_=function(b){b=Number(b);if(isNaN(b)){return 0}return Math.max(b,0)}})(CriLaFrameRange.prototype);var CriLaData={};CriLaData.KeyValuePair=function(a,b){this.key=a;this.val=b};CriLaData.KeyValuePair.fromString=function(c,b){var a=b.split(c);return a.length!==2?null:new CriLaData.KeyValuePair(a[0].trim(),a[1].trim())};CriLaData.Dict={};CriLaData.Dict.fromListWith=function(c,b){var a={};c.forEach(function(d){a[d.key]=b(a[d.key],d.val)});return a};CriLaData.Dict.fromList=function(a){return CriLaData.Dict.fromListWith(a,function(d,c){return c})};CriLaData.Dict.fromStringWith=function(a,b,e,c){var d=e.split(a).map(function(f){return f.trim()}).map(CriLaData.KeyValuePair.fromString.bind(null,b)).filter(Boolean);return CriLaData.Dict.fromListWith(d,c)};CriLaData.Dict.fromString=function(a,b,c){return CriLaData.Dict.fromStringWith(a,b,c,function(e,d){return d})};var CriLaFunctional={};CriLaFunctional.throttle=function(c,a){function b(){return new Date().getTime()}var d=b()-c;return function(){var e=b();if((d+c)<=e){d=e;a()}}};CriLaFunctional.debounce=function(b,a){var c=null;return function(){clearTimeout(c);c=setTimeout(a,b)}};var CriLaURL={};(function(a){CriLaURL.appendSlash=function(b){if(b.slice(-1)!="/"){b+="/"}return b};CriLaURL.absPath=function(c){var b=document.createElement("a");b.href=c;return b.href};CriLaURL.getDirectory=function(d){var c=d.split(/[\/\\]/);var e=c.slice(0,-1);var b=e.join("/")||"./";return b};CriLaURL.sanitize=function(b,f){var c=Boolean(f);if(!b){return""}b=b+"";b=decodeURIComponent(b);var e=[];e.push("^https?:\\/\\/.*$");e.push("^\\/.*$");e.push("^[^:]+$");var d=new RegExp(e.map(function(g){return"("+g+")"}).join("|"));if(!b.match(d)){if(!c){console.warn(b+" をリンクに設定することができません。");console.warn("data-linkに渡すことのできる文字列は、'http://' または 'https://' から始まるURL、もしくは相対パスのみです。")}return""}b=encodeURI(b);b=b.replace(/[!'()*]/g,function(g){return"%"+g.charCodeAt(0).toString(16)});return b}})(CriLaURL);function CriTransition(a,d,f,e){var c=this.propertyFunctionDictionary_={};for(var b in a){c[b]=a[b]}d=Number(d);d=d===d?d:0;this.duration_=d<0?0:d;this.easing_=f||CriTransition.Easing.linear;this.endCallback_=e||function(){};this.time_=0;this.ended_=false}CriTransition.simplePropertyCurve=function(b,a){return function(c){return b*(1-c)+a*c}};CriTransition.Easing=(function(){var s={};var o=Math.PI;var b=Math.sin;var d=Math.cos;var f=Math.pow;var r=Math.sqrt;s.linear=function(v){return v};var j=function(v){return function(w){return 1-v(1-w)}};var q=function(w,v){return function(y){return y<0.5?w(y*2)/2:0.5+v(y*2-1)/2}};var t=s.easeInSine=function(v){return 1-d(v*o/2)};var k=s.easeOutSine=j(t);s.easeInOutSine=q(t,k);var n=function(w,v){return f(v,w)};var p=s.easeInQuad=n.bind(null,2);var i=s.easeOutQuad=j(p);s.easeInOutQuad=q(p,i);var m=s.easeInCubic=n.bind(null,3);var e=s.easeOutCubic=j(m);s.easeInOutCubic=q(m,e);var g=s.easeInQuart=n.bind(null,4);var u=s.easeOutQuart=j(g);s.easeInOutQuart=q(g,u);var h=s.easeInQuint=n.bind(null,5);var c=s.easeOutQuint=j(h);s.easeInOutQuint=q(h,c);var a=s.easeInCirc=function(v){return 1-r(1-v*v)};var l=s.easeOutCirc=j(a);s.easeInOutCirc=q(a,l);Object.freeze(s);return s})();(function(a){a.next=(function(){var b=function(d,c){return d<0?0:d>c?c:d};return function(c){if(this.ended_){this.endCallback_();return null}var h=this.duration_;var g=this.time_=b(this.time_+c,h);var f=h?g/h:1;if(f===1){this.ended_=true}var e={};var i=this.easing_(f);var d=this.propertyFunctionDictionary_;for(var j in d){e[j]=d[j](i)}return e}})()})(CriTransition.prototype);var CriLaCustomPointerEventFtbl={};var CriLaCustomPointerEvent=(function(c){var b=0;var e=[];var a=[];var d=function(h){var f=e.indexOf(h);if(f>=0){this.context_=a[f]}else{var g=new CriLaCustomPointerEvent.Context(h);this.context_=g;e[b]=h;a[b]=g;++b;this.initialize()}};CriLaPolyfill.Object.setPrototypeOf(d.prototype,c);return d})(CriLaCustomPointerEventFtbl);CriLaCustomPointerEventFtbl.constructor=CriLaCustomPointerEvent;CriLaCustomPointerEvent.CSS={RESET_TOUCH:"liveact-player__element--reset-touch",ELEM_MS:"liveact-player__element--MS"};CriLaCustomPointerEvent.EventType={DOWN:"down",UP:"up",MOVE:"move",OUT:"out"};Object.freeze(CriLaCustomPointerEvent.EventType);CriLaCustomPointerEvent.isValidEventType=function(b){for(var a in CriLaCustomPointerEvent.EventType){if(b===CriLaCustomPointerEvent.EventType[a]){return true}}return false};CriLaCustomPointerEventFtbl.initialize=function(){this.context_.initialize()};CriLaCustomPointerEventFtbl.finalize=function(){this.context_.finalize()};CriLaCustomPointerEventFtbl.addEventListener=function(a,c,b){this.context_.addEventListener(a,c,b)};CriLaCustomPointerEventFtbl.removeEventListener=function(a,b){this.context_.removeEventListener(a,b)};CriLaCustomPointerEvent.Context=function(c){this.elem_=c;this.lowLevelEventListenerList_=[];var e={};for(var a in CriLaCustomPointerEvent.EventType){var b=CriLaCustomPointerEvent.EventType[a];e[b]=[]}this.highLevelEventListenerListDict_=e;var d=this.eventAvailability_={};d.mouse=(typeof(window.onmousedown))!=="undefined";d.touch=(typeof(window.ontouchstart))!=="undefined";d.pointer=(typeof(window.onpointerdown))!=="undefined";if(d.touch&&d.pointer){d.pointer=false}this.eventLock_="";this.eventUnlocking_=false;this.moveEnabled_=false;this.pointDict_={}};(function(a){a.initialize=function(){if(this.lowLevelEventListenerList_.length){return}var d=this.eventAvailability_;var c=this.elem_;var b=this;if(d.mouse){var e=-1;this.addLLEventListener_("mousedown",function(f){if(b.eventLock_){return}if(b.eventUnlocking_){b.eventUnlocking_=false;return}b.singlePointDown_(f,e);b.eventUnlocking_=false});this.addLLEventListener_("mousemove",function(f){if(b.eventLock_){return}if(b.eventUnlocking_){return}b.singlePointMove_(f,e);b.eventUnlocking_=false});this.addLLEventListener_("mouseup",function(f){if(b.eventLock_){return}if(b.eventUnlocking_){return}b.singlePointUpOrOut_(f,e,"up")});this.addLLEventListener_("mouseout",function(f){if(b.eventLock_){return}if(b.eventUnlocking_){return}b.singlePointUpOrOut_(f,e,"out")})}if(d.touch){this.addLLEventListener_("touchstart",function(f){b.lockEvent_();b.multiPointsDown_(f)});this.addLLEventListener_("touchmove",function(f){b.multiPointsMove_(f);b.unlockEvent_()});this.addLLEventListener_("touchend",function(f){b.multiPointsUpOrOut_(f,"up");b.unlockEvent_()});this.addLLEventListener_("touchcancel",function(f){b.multiPointsUpOrOut_(f,"out");b.unlockEvent_()})}if(d.pointer){this.addLLEventListener_("pointerdown",function(f){if(f.pointerType==="mouse"){return}b.lockEvent_();b.singlePointDown_(f,f.pointerId)});this.addLLEventListener_("pointermove",function(f){if(f.pointerType==="mouse"){return}b.singlePointMove_(f,f.pointerId);b.unlockEvent_()});this.addLLEventListener_("pointerup",function(f){if(f.pointerType==="mouse"){return}b.singlePointUpOrOut_(f,f.pointerId,"up");b.unlockEvent_()});this.addLLEventListener_("pointerout",function(f){if(f.pointerType==="mouse"){return}b.singlePointUpOrOut_(f,f.pointerId,"out");b.unlockEvent_()});this.addLLEventListener_("pointercancel",function(f){if(f.pointerType==="mouse"){return}b.singlePointUpOrOut_(f,f.pointerId,"out");b.unlockEvent_()})}};a.finalize=function(){var b=this.elem_;this.lowLevelEventListenerList_.forEach(function(c){var d=c.type;var e=c.listener;b.removeEventListener(d,e)});this.lowLevelEventListenerList_.length=0};a.addEventListener=function(d,f,e){if(!CriLaCustomPointerEvent.isValidEventType(d)){return}var c=new CriLaCustomPointerEvent.EventListener(d,f,e);var g=this.highLevelEventListenerListDict_[d];g.push(c);if(!this.moveEnabled_&&d===CriLaCustomPointerEvent.EventType.MOVE){this.elem_.classList.add(CriLaCustomPointerEvent.CSS.RESET_TOUCH);var b=CriUAChecker.getBrowser();if(b===CriUABrowser.IE||b===CriUABrowser.Edge){this.elem_.classList.add(CriLaCustomPointerEvent.CSS.ELEM_MS)}this.moveEnabled_=true}};a.removeEventListener=function(d,e){if(!CriLaCustomPointerEvent.isValidEventType(d)){return}var f=this.highLevelEventListenerListDict_[d];var b=CriLaPolyfill.Array.findIndex(f,function(g){return g.listener===e});if(b>=0){f.splice(b,1)}if(this.moveEnabled_&&d===CriLaCustomPointerEvent.EventType.MOVE&&f.length===0){this.elem_.classList.remove(CriLaCustomPointerEvent.CSS.RESET_TOUCH);var c=CriUAChecker.getBrowser();if(c===CriUABrowser.IE||c===CriUABrowser.Edge){this.elem_.classList.remove(CriLaCustomPointerEvent.CSS.ELEM_MS)}this.moveEnabled_=false}};a.addLLEventListener_=function(c,e,d){this.elem_.addEventListener(c,e,d);var b=new CriLaCustomPointerEvent.EventListener(c,e,d);this.lowLevelEventListenerList_.push(b)};a.lockEvent_=function(){this.eventLock_=true;this.eventUnlocking_=false};a.unlockEvent_=function(){var b=Object.keys(this.pointDict_);if(b.length===0){this.eventLock_=false;this.eventUnlocking_=true}};a.dispatch_=function(b,d){if(!CriLaCustomPointerEvent.isValidEventType(b)){return}var e=this.highLevelEventListenerListDict_[b];var c=this.elem_;e.forEach(function(f){f.listener.call(c,d)})};a.createPoint_=function(c,b,e){var d=CriLaRectangle.createFromElement(this.elem_);return new CriLaCustomPointerEvent.Point(c-d.left,b-d.top,"id"+e)};a.createPointDictFromTouches_=function(c){var d={};for(var b=0;b!=c.length;++b){var e=c[b];d[e.identifier]=this.createPoint_(e.pageX,e.pageY,e.identifier)}return d};a.isOutOfBound_=function(c){var b=c.x;var f=c.y;var e=this.elem_;var d=CriLaHtmlCss.getElementWidthHeight(e);return b<0||d.getWidth()<=b||f<0||d.getHeight()<=f};CriLaCustomPointerEvent.Context.isPointerOrMouseDown_=function(b){if(b.buttons===1){return true}if(b.which===1&&b.buttons==undefined){return true}return false};a.singlePointDown_=function(e,f){f=f+"";if(e.button!==0){return}var d=this.pointDict_;var b=this.createPoint_(e.pageX,e.pageY,f);var c={};c[f]=b;d[f]=b;this.deletTimeoutPointDict_();this.dispatch_("down",new CriLaCustomPointerEvent.Event("down",c,d,e))};a.singlePointMove_=function(f,g){g=g+"";var d=CriLaCustomPointerEvent.Context.isPointerOrMouseDown_(f);var e=this.pointDict_;if(!d){delete e[g];return}if(!(g in e)){return}var b=this.createPoint_(f.pageX,f.pageY,g);var c={};c[g]=b;if(this.isOutOfBound_(b)){delete e[g];this.dispatch_("out",new CriLaCustomPointerEvent.Event("out",c,e,f))}else{this.updatePointTime(b);e[g]=b;this.dispatch_("move",new CriLaCustomPointerEvent.Event("move",c,e,f))}};a.singlePointUpOrOut_=function(f,g,e){g=g+"";var d=this.pointDict_;if(!(g in d)){return}if(e==="up"&&f.button!==0){return}var b=this.createPoint_(f.pageX,f.pageY,g);var c={};c[g]=b;delete d[g];this.deletTimeoutPointDict_();this.dispatch_(e,new CriLaCustomPointerEvent.Event(e,c,d,f))};a.multiPointsDown_=function(d){var c=this.pointDict_;var b=this.createPointDictFromTouches_(d.changedTouches);for(var e in b){c[e]=b[e]}this.dispatch_("down",new CriLaCustomPointerEvent.Event("down",b,c,d));this.deletTimeoutPointDict_()};a.multiPointsMove_=function(f){var e=this.pointDict_;var c=this.createPointDictFromTouches_(f.changedTouches);for(var h in c){if(!(h in e)){delete c[h]}}var g={};var d={};for(var h in c){var b=c[h];if(this.isOutOfBound_(b)){d[h]=b;delete e[h]}else{this.updatePointTime(b);g[h]=b}}if(Object.keys(d).length){this.dispatch_("out",new CriLaCustomPointerEvent.Event("out",d,e,f))}if(Object.keys(g).length){for(var h in g){e[h]=g[h]}this.dispatch_("move",new CriLaCustomPointerEvent.Event("move",g,e,f))}};a.multiPointsUpOrOut_=function(e,d){var c=this.pointDict_;var b=this.createPointDictFromTouches_(e.changedTouches);for(var f in b){if(f in c){delete c[f]}else{delete b[f]}}this.deletTimeoutPointDict_();this.dispatch_(d,new CriLaCustomPointerEvent.Event(d,b,c,e))};a.deletTimeoutPointDict_=function(){if(CriUAChecker.getBrowser()!=CriUABrowser.Edge){return}var b=this.pointDict_;for(var d in b){var c=this.getPointTimeDelta(b[d]);if(c>3000){delete b[d]}}};a.getPointTimeDelta=function(b){return criLaTimer_GetTimeMs()-b.time};a.updatePointTime=function(b){b.time=criLaTimer_GetTimeMs()}})(CriLaCustomPointerEvent.Context.prototype);CriLaCustomPointerEvent.EventListener=function(a,c,b){this.type=a;this.listener=c;this.options=b||null};CriLaCustomPointerEvent.Event=function(f,b,e,g,a){var d={};d.changedPoints=new CriLaCustomPointerEvent.Points(b);d.points=new CriLaCustomPointerEvent.Points(e);d.ctrlKey=g.ctrlKey;d.altKey=g.altKey;d.shiftKey=g.shiftKey;d.metaKey=g.metaKey;if(a){for(var c in a){d[c]=a[c]}}this.detail=d;this.event_=g;Object.freeze(this)};(function(a){a.preventDefault=function(){this.event_.preventDefault()};a.stopPropagation=function(){this.event_.stopPropagation()}})(CriLaCustomPointerEvent.Event.prototype);CriLaCustomPointerEvent.Point=function(a,c,b){CriGrxVector2.call(this);this.x=a;this.y=c;this.id=b;this.time=criLaTimer_GetTimeMs()};Object.freeze(CriLaCustomPointerEvent.Point);CriLaPolyfill.Object.setPrototypeOf(CriLaCustomPointerEvent.Point.prototype,CriGrxVector2.prototype);CriLaCustomPointerEvent.Points=function(c){Array.call(this);if(c){for(var b in c){var a=c[b];this.push(a);var d=a.id;Object.defineProperty(this,d,{enumerable:false,configurable:false,writable:false,value:a})}}Object.freeze(this)};CriLaPolyfill.Object.setPrototypeOf(CriLaCustomPointerEvent.Points.prototype,Array.prototype);function CriLaClickEmulator(a){this.cpe_=new CriLaCustomPointerEvent(a);this.thresholdPathLength_=25;this.thresholdDuration_=500;this.initialize_(a)}(function(a){a.initialize_=function(c){var b=this.cpe_;b.addEventListener("down",this.down_.bind(this));b.addEventListener("move",this.move_.bind(this));b.addEventListener("up",this.up_.bind(this));b.addEventListener("out",this.out_.bind(this))};a.setThresholdPathLength=function(b){this.thresholdPathLength_=b};a.setThresholdDuration=function(b){this.thresholdDuration_=b};a.calcThresholdPathLength_=function(){var c=CriLaHtmlCss.getHtmlZoom();var b=this.thresholdPathLength_*c;return b};a.calcThresholdDuration_=function(){return this.thresholdDuration_};a.down_=function(d){var c=d.detail;if(c.changedPoints.length!==1){this.abortClick_();return}var b=c.changedPoints[0];this.startClick_(b)};a.move_=function(d){var c=d.detail;if(c.points.length!==1){this.abortClick_();return}var b=c.points[0];this.clicking_(b)};a.up_=function(d){var c=d.detail;if(c.changedPoints.length!==1){this.abortClick_();return}var b=c.changedPoints[0];this.clicking_(b);this.endClick_(b)};a.out_=function(b){this.abortClick_()};a.startClick_=function(b){this.elapsed_();this.clearPath_(b)};a.clicking_=function(b){this.updatePath_(b)};a.endClick_=function(b){var c=this.elapsed_();var d=this.getPathLength_();var f=this.calcThresholdDuration_();var e=this.calcThresholdPathLength_();if(c<=f&&d<=e){this.onclick(b)}};a.abortClick_=function(){this.clearPath_(null)};a.startTime_=0;a.elapsed_=function(){var c=Date.now();var b=c-this.startTime_;this.startTime_=c;return b};a.lastPoint_=null;a.pathLength_=0;a.clearPath_=function(b){this.lastPoint_=b;this.pathLength_=0};a.updatePath_=function(b){var c=this.lastPoint_;var e=b.x-c.x;var d=b.y-c.y;this.pathLength_+=Math.sqrt(e*e+d*d);this.lastPoint_=b};a.getPathLength_=function(){return this.pathLength_};a.onclick=function(b){}})(CriLaClickEmulator.prototype);function CriLaRectangle(){this.left=0;this.top=0;this.right=0;this.bottom=0}var CriLaRect=CriLaRectangle;(function(a){a.getWidth=function(){return this.right-this.left};a.getHeight=function(){return this.bottom-this.top};Object.defineProperties(a,{x:{get:function(){return this.left}},y:{get:function(){return this.top}},w:{get:function(){return this.getWidth()}},h:{get:function(){return this.getHeight()}}})})(CriLaRectangle.prototype);CriLaRectangle.createFromLTRB=function(e,d,b,a){var c=new CriLaRectangle();c.left=e;c.top=d;c.right=b;c.bottom=a;return c};CriLaRectangle.createFromXYWH=function(b,e,c,a){var d=new CriLaRectangle();d.left=b;d.top=e;d.right=b+c;d.bottom=e+a;return d};CriLaRectangle.createFromElement=function(b){var c=CriLaHtmlCss.getElementPosition(b);var a=CriLaHtmlCss.getElementWidthHeight(b);return CriLaRectangle.createFromXYWH(c.x,c.y,a.getWidth(),a.getHeight())};CriLaRectangle.createFromViewPort=function(){return CriLaRectangle.createFromXYWH(window.pageXOffset,window.pageYOffset,window.innerWidth,window.innerHeight)};CriLaRectangle.collision=function(h,f){var j=h.left;var d=h.right;var g=h.top;var c=h.bottom;var i=f.left;var b=f.right;var e=f.top;var a=f.bottom;return((j<=i&&i<d)||(i<=j&&j<b))&&((g<=e&&e<c)||(e<=g&&g<a))};CriLaRectangle.isInViewPortWithMargin=function(i,d,b,c){if(i.top<=d.top&&d.bottom<=i.bottom){return true}var f=CriLiveActSharedSettings.ScrollInViewMargin;var o=b==null?f.head:b;var m=c==null?f.tail:c;var k=o/100;var h=m/100;var j=i.top;var e=i.getHeight();var l=d.top;var g=d.getHeight();var q=j+e*k;var n=j+e*(1-h);var a=l;var p=l+g;return a<n&&q<p};function criLaTimer_GetTimeMs(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}}return Date.now()};var CriLaEvent={CAN_PLAY:"canplay",CAN_DRAW:"candraw",FIRST_PLAY_START:"firstplay",PLAY_START:"play",PLAY_END:"ended",SEEKING:"seeking",SEEKED:"seeked",FIRST_PLAY_END:"firstended",FRAME_UPDATED:"frameupdate",PAUSE:"pause",STOP:"stop",DRAW:"draw",ERROR:"error",SEGMENT_FLIPPED:"segmentflipped",CLICK:"click",WATERMARK_CLICK:"watermarkclick",SCROLL_IN:"scrollin",SCROLL_OUT:"scrollout",CONTENT_IN:"contentin",CONTENT_OUT:"contentout",LJT_LOADED:"loaded",VOLUME_CHANGE:"volumechange",CREATE_LOG:"createlog",UPDATE_LOG:"updatelog",ANALYTICS_UPDATED:"analyticsupdate",FULLSCREEN_CHANGE:"fullscreenchange",SEEKBAR_RESET_NEEDED:"seekbarresetneeded",LOOP_CHANGE:"loopchange",GYRO_CHANGE:"gyrochange",SWIPE_MODE_CHANGE:"swipemodechange",TAP_PLAY_ENABLED_CHANGE:"tapplayenabledchange",LOADED_FRAME_CHANGE:"loadedframechange",FULLSCREEN_REQUESTED:"fullscreenrequested",LINK_REQUESTED:"linkrequested",CHAPTER_SEPARATOR_CHANGE:"chapterseparatorchange",PLAYBACK_RANGE_CHANGE:"playbackrangechange",PLAYBACK_RATE_CHANGE:"playbackratechange",MAIN_LOOP:"mainloop",PREPARE_DRAW:"preparedraw"};Object.freeze(CriLaEvent);function CriLaEventArgs(c,b,a){this.type=c;this.player=b;this.detail=a||{};Object.freeze(this)}function CriLaEventDispatcher(a){this.player_=a;this.eventMap_={}}(function(a){a.addEventListener=function(c,d){var b=this.getListenerList(c);if(b==undefined){b=[]}b.push(d)};a.removeEventListener=function(d,f){var b=this.getListenerList(d);var e=b.length;for(var c=0;c<e;c++){if(b[c]==f){b.splice(c,1);break}}};a.dispatch=function(f,c){var e=c||this.createEvent(f);var b=this.getListenerList(f);var d=b.concat();d.forEach(function(g){g(e)})};a.getListenerList=function(c){var d=this.eventMap_;var b=d[c];if(b==undefined){b=[];d[c]=b}return b};a.createEvent=function(c,b){return new CriLaEventArgs(c,this.player_,b)}})(CriLaEventDispatcher.prototype);CriLaEventDispatcher.global=(function(){var j=document.createElement("eventdispatcher");var g,d;var b=function(){g=window.innerWidth;d=window.innerHeight};var h=function(){var k=window.innerWidth;var l=window.innerHeight;return g!==k||d!==l};b();window.addEventListener("resize",function(){b();j.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("resize"))});var f=0;window.addEventListener("orientationchange",function c(){if(h()){f=0;b();j.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("resize"));requestAnimationFrame(c)}else{++f;if(f<10){requestAnimationFrame(c)}else{f=0}}});function i(){window.removeEventListener("load",i,false);document.removeEventListener("DOMContentLoaded",i,false);j.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("ready"))}window.addEventListener("load",i,false);document.addEventListener("DOMContentLoaded",i,false);CriLaEventDispatcher.ready=function(k){if(document.readyState==="complete"){setTimeout(k)}else{j.addEventListener("ready",k)}};function e(){j.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("fullscreenchange"))}["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"].forEach(function(k){document.addEventListener(k,e,false)});function a(){j.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("fullscreenerror"))}["webkitfullscreenerror","mozfullscreenerror","MSFullscreenError","fullscreenerror"].forEach(function(k){document.addEventListener(k,a,false)});return j})();function CriLaSubEventDispatcher(){this.target_=document.createElement("event_target")}(function(a){a.addEventListener=function(b,d,c){this.target_.addEventListener(b,d,c)};a.removeEventListener=function(b,d,c){this.target_.removeEventListener(b,d,c)};a.dispatchEvent=function(d,b){var c=b||{};var e=new CriLaPolyfill.Event.CustomEvent(d,{bubbles:false,cancellable:false,detail:c});this.target_.dispatchEvent(e)};a.delegate=function(c){var b=this;["addEventListener","removeEventListener","dispatchEvent"].forEach(function(d){c[d]=function(){b[d].apply(b,arguments)}})}})(CriLaSubEventDispatcher.prototype);function CriLaMarker(){this.startFrame_=0;this.length_=0;this.text_=""}(function(a){a.getStartFrame=function(){return this.startFrame_};a.getLength=function(){return this.length_};a.getText=function(){return this.text_}})(CriLaMarker.prototype);var CriLaResourceType={RECTANGLE:0,IMAGE:1,VIDEO:2,TEXT:3,AUDIO:5,MODEL:6};Object.freeze(CriLaResourceType);var CriLaResourceState={PREPARE:0,LOAD_REQUESTED:1,COMPLETE:2};Object.freeze(CriLaResourceState);function CriLaResource(b,a){this.id=b;this.name=a;this.type=CriLaResourceType.IMAGE;this.state_=CriLaResourceState.PREPARE;this.url="";this.progress_=0;this.progressMax_=0;this.dlTime_=3600000;this.isSequentialImage=false}(function(a){a.setup=function(b){};a.getType=function(){return this.type};a.getId=function(){return this.id};a.getName=function(){return this.name};a.setColor=function(b){return this};a.getNumImages=function(){return 0};a.getImage=function(b){return null};a.setImage=function(b,c){return this};a.setImageRect=function(b,c){return this};a.getText=function(){return""};a.setText=function(b){return this};a.getFont=function(){return""};a.setFont=function(b){return this};a.getFontSize=function(){return""};a.setFontSize=function(b){return this};a.getFontWeight=function(){return""};a.setFontWeight=function(b){return this};a.getFontFamily=function(b){return""};a.setFontFamily=function(b){return this};a.getState=function(){return this.state_};a.setState=function(b){this.state_=b};a.unload=function(){this.unloadCommon()};a.unloadCommon=function(){this.setState(CriLaResourceState.PREPARE)};a.reload=function(){};a.isSharedResource=function(){return this.isSharedResourceUrl_(this.url)};a.isSharedResourceUrl_=function(c){var b=c.split("/");if(b.length!=2){return false}return b[0]==="shared_asset"};a.canPlay=function(b){return true};a.canDraw=function(){return true};a.requestLoad=function(d,e){var c=this.getBaseUrl(d,e);var b=this.getFullUrl(d,e);this.requestLoadImpl_(b,c)};a.getBaseUrl=function(c,d){var b=c||"./";var e=d||"./";return this.isSharedResource()?e:b};a.isFullPath=function(b){if(!b){return false}if(b.match("^https?://")){return true}return b.slice(0,1)=="/"};a.getFullUrl=function(b,c){if(this.isFullPath(this.url)){return this.url}return this.getBaseUrl(b,c)+this.url};a.requestLoadImpl_=function(b){};a.isComplete=function(){return true};a.drawnBy=function(b,c){};a.isVideo=function(){return false}})(CriLaResource.prototype);function CriLaResourceRectangle(b,a){CriLaResource.call(this,b,a);this.type=CriLaResourceType.RECTANGLE;this.color="black";this.width=0;this.height=0}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.setColor=function(c){this.color=c};a.drawnBy=function(c,d){c.drawResourceRectangle(this,d)}})(CriLaResourceRectangle.prototype,CriLaResource.prototype);function CriLaResourceText(b,a){CriLaResource.call(this,b,a);this.type=CriLaResourceType.TEXT;this.textList=[];this.font="12px 'sans-serif'";this.fontFamily="sans-serif";this.fontSize="12px";this.fontWeight="400";this.width=0;this.height=0;this.strokeWidth=1;this.align="start";this.strokeEnabled=false;this.strokeColor="black";this.fillEnabled=true;this.fillColor="black";this.isStrokeOverFill=true;this.isItalic=false}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.setColor=function(c){this.fillColor=c};a.getText=function(){return this.textList.join("\n")};a.setText=function(c){this.textList=c.split("\n");return this};a.updateFont=function(){var d=this.fontFamily;var c="";if(d.match(/,/)!=null){c=this.fontWeight+" "+this.fontSize+" "+this.fontFamily}else{c=this.fontWeight+" "+this.fontSize+" '"+this.fontFamily+"'"}if(this.isItalic==true){c="italic "+c}this.font=c};a.getFont=function(){return this.font};a.setFont=function(c){this.font=c;return this};a.getFontSize=function(){return this.fontSize};a.setFontSize=function(c){this.fontSize=c;this.updateFont();return this};a.getFontWeight=function(){return this.fontWeight};a.setFontWeight=function(d){var c=d;if(d=="normal"){c="400"}else{if(d=="bold"){c="700"}else{if(d=="lighter"){c="100"}}}this.fontWeight=c;this.updateFont();return this};a.getFontFamily=function(c){return this.fontFamily};a.setFontFamily=function(c){this.fontFamily=c;this.updateFont()};a.drawnBy=function(c,d){c.drawResourceText(this,d)}})(CriLaResourceText.prototype,CriLaResource.prototype);function CriLaResourceImageBase(b,a){CriLaResource.call(this,b,a);this.type=CriLaResourceType.IMAGE;this.width=0;this.height=0;this.isLevelOfDetailFile_=false}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.initialize=function(){};a.finalize=function(){};a.getNumImages=function(){return 1};a.getLaImage_=function(c){return null};a.isLevelOfDetailImage=function(){return false};a.getImage=function(c){return this.getLaImage_(c).image};a.setImage=function(c,d){this.getLaImage_(d).setImage(c);return this};a.setImageRect=function(c){};a.requestLoadImpl_=function(c,d){if(this.state_!=CriLaResourceState.PREPARE){return}this.state_=CriLaResourceState.LOAD_REQUESTED;this.requestLoadProc_(c,d)};a.requestLoadProc_=function(c,d){};a.getLoadProgress=function(){var c=this.progress_;var d=this.progressMax_;if(d==0){return 0}return(c/d)*100};a.canPlay=function(c){return this.isComplete()};a.canDraw=function(){return this.isComplete()};a.drawnBy=function(c,d){c.drawResourceImage(this,d)}})(CriLaResourceImageBase.prototype,CriLaResource.prototype);function CriLaResourceSingleImage(b,a){CriLaResourceImageBase.call(this,b,a);this.image=new CriLaC005()}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.initialize=function(c){this.url=c;this.image.url=c};b.finalize=function(){this.unloadCommon();this.image.unload()};b.getLaImage_=function(c){return this.image};b.requestLoadProc_=function(c,d){this.image.requestLoad(c)};b.isComplete=function(){return this.getLaImage_().isComplete()};b.unload=function(){this.unloadCommon();return this.image.unload()};b.setImageRect=function(c){this.image.setSrcRect(c);return this}})(CriLaResourceSingleImage.prototype,CriLaResourceImageBase.prototype);function CriLaResourceImage(b,a){CriLaResourceSingleImage.call(this,b,a)}CriLaPolyfill.Object.setPrototypeOf(CriLaResourceImage.prototype,CriLaResourceSingleImage.prototype);function CriLaResourceSeqImageBase(b,a){CriLaResourceImageBase.call(this,b,a);this.CriLaP1e0=[];this.numImages=0;this.isSequentialImage=true}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.finalize=function(){var c=this.CriLaP1e0;c.forEach(function(e,d){e.finalize();delete c[d]});delete this.CriLaP1e0};b.getNumImages=function(){return this.CriLaP1e0.length};b.getLaImage_=function(c){return this.CriLaP1e0[c||0]};b.isLevelOfDetailImage=function(){return this.isLevelOfDetailFile_};b.unloadAllImages=function(){this.CriLaP1e0.forEach(function(c){if(c){c.unload()}});this.CriLaP1e0=[];this.unloadCommon()};b.unload=function(e,f){if(this.reloadLock_){return}if(this.isComplete()&&!this.completeOnce_){this.completeOnce_=true}if(!this.completeOnce_){return}if(e==null){e=100;f=-1;this.unloadAllImages();return}var d=this.CriLaP1e0.length;var c=function(g){return g<=e*d/100||f.indexOf(g)!=-1};this.CriLaP1e0.forEach(function(h,g){if(h&&!c(g)){h.unload()}})};b.reload=function(){if(this.reloadLock_){return}if(this.isComplete()&&!this.completeOnce_){this.completeOnce_=true}if(!this.completeOnce_){return}this.reloadLock_=true;var f=this;var d=this.CriLaP1e0.length;var e=this.CriLaP1e0;var c=-1;var g=function(){var h=null;do{h=e[++c]}while(c<d&&h.isComplete());if(c>=d){f.reloadLock_=false;return}e[c].requestLoad();requestAnimationFrame(g)};g()};b.isComplete=function(){if(!Boolean(this.isComplete_)){var c=this.CriLaP1e0.length>0&&this.CriLaP1e0.every(function(d){return d.isComplete()});this.isComplete_=c}return this.isComplete_};b.canDraw=function(){var c=this.getLaImage_(0);return c&&c.isComplete()};b.setImageRect=function(c){this.CriLaP1e0.forEach(function(d){d.setSrcRect(c)});return this}})(CriLaResourceSeqImageBase.prototype,CriLaResourceImageBase.prototype);function CriLaResourceSeqImageRaw(b,a){CriLaResourceSeqImageBase.call(this,b,a)}(function(b,c,a){CriLaPolyfill.Object.setPrototypeOf(b,c);b.isSharedResource=function(){return this.CriLaP1e0.length>0&&this.isSharedResourceUrl_(this.CriLaP1e0[0].url)};b.requestLoadProc_=function(d,e){this.CriLaP1e0.forEach(function(f){f.requestLoad(e+f.url)})};b.setUrls=function(d){this.CriLaP1e0=d.map(function(e){var f=new CriLaC005();f.url=e;return f});this.numImages=0}})(CriLaResourceSeqImageRaw.prototype,CriLaResourceSeqImageBase.prototype,CriLaResourceImageBase.prototype);function CriLaC00a(b,a){CriLaResourceSeqImageBase.call(this,b,a)}(function(a,c,b){CriLaPolyfill.Object.setPrototypeOf(a,c);a.requestLoadProc_=function(d,e){var f=new CriLaC00e(this.CriLaP1e0,this);f.requestLoadStream(d)};a.isComplete=function(){return this.state_===CriLaResourceState.COMPLETE&&c.isComplete.call(this)};a.canPlay=function(j){if(this.isComplete()){return true}var g=false;var h=Math.max(this.progress_,1);var f=this.dlTime_/h;var d=66.666;var k=this.progressMax_-this.progress_;var i=k*f*1.1;var e=this.progress_*d;if(0<i&&i<e){g=true}else{if(f<d){j/=2;if(this.CriLaP1e0.length>=j){g=true}}}return g}})(CriLaC00a.prototype,CriLaResourceSeqImageBase.prototype,CriLaResourceImageBase.prototype);function CriLaResourceMediaBase(b,a){CriLaResource.call(this,b,a);this.width=0;this.height=0;this.duration=0;this.elem_=null;this.type=null}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.getElement=function(){return this.elem_};a.setElement=function(c){this.elem_=c}})(CriLaResourceMediaBase.prototype,CriLaResource.prototype);function CriLaResourceAudio(b,a){CriLaResourceMediaBase.call(this,b,a);this.type=CriLaResourceType.AUDIO}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a)})(CriLaResourceAudio.prototype,CriLaResourceMediaBase.prototype);function CriLaResourceVideoBase(b,a){CriLaResourceMediaBase.call(this,b,a)}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.drawnBy=function(c,d){c.drawResourceVideo(this,d)};a.isVideo=function(){return true}})(CriLaResourceVideoBase.prototype,CriLaResourceMediaBase.prototype);function CriLaResourceVideo(b,a){CriLaResourceVideoBase.call(this,b,a);this.type=CriLaResourceType.VIDEO}CriLaPolyfill.Object.setPrototypeOf(CriLaResourceVideo.prototype,CriLaResourceVideoBase.prototype);function CriLaResourceModel(b,a){CriLaResource.call(this,b,a);this.type=CriLaResourceType.MODEL;this.gl_=null;this.meshList_=[];this.materialList_=[];this.textureList_=[];this.isComplete_=false}CriLaPolyfill.Object.setPrototypeOf(CriLaResourceModel.prototype,CriLaResource.prototype);(function(a){a.requestLoadImpl_=function(b,d){var c=this;var e=new XMLHttpRequest();e.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var f=JSON.parse(this.responseText);c.loadLmd_(f,d)}};e.open("GET",b,true);e.send()};a.loadLmd_=function(b,c){c=c||"./";b.meshes.forEach(function(d){var e=new CriLaMesh(this.gl_);e.loadLmd_(d,b.materials);this.meshList_.push(e)},this);b.materials.forEach(function(d){var e=new CriLaMaterial(this.gl_);e.loadLmd_(d,b.textures);this.materialList_.push(e)},this);b.textures.forEach(function(e){var d=new CriLaTexture(this.gl_);d.load(c+e.url);this.textureList_.push(d)},this);this.isComplete_=true;return true};a.getMaterialByIndex=function(b){return this.materialList_[b]};a.isComplete=function(){return this.isComplete_};a.unload=function(){this.textureList_.forEach(function(b){b.unload()})};a.reload=function(){this.textureList_.forEach(function(b){b.load()})};a.setup=function(b){this.gl_=b.graphicsContext};a.drawnBy=function(b,c){b.drawResourceModel(this,c)};a.canPlay=function(){return this.isComplete()};a.canDraw=function(){return this.isComplete()}})(CriLaResourceModel.prototype);function CriLaC00c(){this.CriLaP113=null;this.resourceList=null;this.fontScale_=1;this.frameBlendEnabled_=false;this.resourceURLSuffix_=null;this.defaultDimension_=CriGrxVector2.createFromXY(0,0);this.trackingCode_=null;this.xhr_=null;this.subEventDispatcher_=new CriLaSubEventDispatcher();this.subEventDispatcher_.delegate(this)}(function(h){h.setFontScale=function(q){this.fontScale_=q};h.enableFrameBlend=function(q){this.frameBlendEnabled_=q};h.getTrackingCode=function(){return this.trackingCode_};h.LoadDomFromURL=function(q,r,A,y){var s=r||false;var z=1000;if(A){z=A}var v=q;v=b(v,this.resourceURLSuffix_);var w=CriLiveActSharedSettings.getAdditionalRequestHeaders_()||{};var u=this.onErrorEvent_.bind(this);var t=this.onLoadEvent_.bind(this,y);var x=false;if(s){x=this.loadDomFromURLAsync_(q,t,u,w,z)}else{x=this.loadDomFromURLSync_(q,t,u,w)}return x};h.onErrorEvent_=function(){this.xhr_=null;this.dispatchEvent("error",{message:"LJTのロードに失敗しました"});return false};h.onLoadEvent_=function(v,t){var u=v||function(){return true};var q=null;this.xhr_=null;var s=t.contentType;if(s=="application/xml"||s=="text/xml"||s=="text/plain"){q=t}else{if(typeof(t)=="string"||t instanceof String){q=a(t)}else{if(t!=null&&s==null){if(t.documentElement!=null){q=t}}}}if(!q){return false}var r=this.loadDomFromXml_(q);if(r===false){return false}this.resolveScenes_();u();return true};h.loadDomFromURLAsync_=function(s,q,r,v,t){var u=this.xhr_=new XMLHttpRequest();u.open("GET",s,true);Object.keys(v).forEach(function(w){var x=v[w];u.setRequestHeader(w,x)},this);u.timeout=t;u.onload=function(){q(u.responseText)};u.onerror=r;u.onabort=r;u.ontimeout=r;u.send();return true};h.loadDomFromURLSync_=function(t,q,r,w){var s=false;try{var v=this.xhr_=new XMLHttpRequest();v.open("GET",t,false);Object.keys(w).forEach(function(x){var y=w[x];v.setRequestHeader(x,y)},this);v.send();s=q(v.responseText)}catch(u){s=r()}return Boolean(s)};h.abortRequest=function(){if(this.xhr_&&typeof(this.xhr_.abort)==="function"){this.xhr_.abort()}};h.CriLaM118=function(s){var r=a(s);var q=this.loadDomFromXml_(r);return q};h.loadDomFromXml_=function(r){var s=[];var q=f(r,"footage").map(this.createResource,this);f(r,"comment").forEach(function(v){var u=this.getTrackingCode(v);if(u!=null){this.trackingCode=u;return}},this);f(r,"composition").forEach(function(u){var v=this.CriLaM1c0(u,q);s.push(v)},this);this.CriLaP113=s;this.resourceList=q;var t=c(q);s.forEach(function(u){u.setResourceIndexResolver(t)},this);this.resolveScenes_();return true};h.getTrackingCode=function(r){var q=r.getAttribute("name");if(q=="tracking_code"||q=="track_code"){var s=r.textContent;return s}return null};h.CriLaM1c0=function(s,v){var w=new CriLaC00i();w.id=s.getAttribute("id");w.name=k(s,"name");w.CriLaP115=o(m(s,"framerate"));w.duration_=e(m(s,"duration"),w.CriLaP115);var u=m(s,"dimension");var t=this.parseDimension_(u);w.Width=t[0];w.Height=t[1];var r=m(s,"background_color");var q=n(r);w.BackColor="rgb("+q[0]+","+q[1]+","+q[2]+")";f(s,"layer").forEach(function(y){var x=this.CriLaM1c1(y,w.CriLaP115,v);w.layerList_.push(x)},this);f(s,"marker").forEach(function(y){var x=j(y,w.CriLaP115);w.markerList_.push(x)});return w};h.CriLaM1c1=function(B,t,r){var A=B.getAttribute("id");var J=B.getAttribute("name");var u=k(B,"footage_id");var C=k(B,"parent_layer_id");var w=m(B,"composition_id");var I=new CriLamgLayer(A,J);var s=null;var y=k(B,"object_type");switch(y){case"TEXT":I.text=J;s=this.createResourceTextFromLayer_(B,A,J);u=s.id;r.push(s);break}f(B,"parameter_list").forEach(function(K){var L=K.getAttribute("category");if(L==null||L=="COMMON"){this.CriLaM1c2(I,K)}else{if(L=="TEXT"){this.CriLaM1c3(s,K)}}},this);I.position.x-=I.pivot.x;I.position.y-=I.pivot.y;I.resourceID=u;I.ParentLayerID=C;if(w!=null){I.refSceneID=w.textContent}f(B,"stream_list").forEach(function(K){var L=this.createAnimationCurveSet(K);I.AnimationCurveSet=L},this);f(B,"image_index_stream").forEach(function(L){var K=this.createImageIndexCurve(L);I.ImageIndexCurve=K},this);if(I.ImageIndexCurve!=null){I.frameBlendEnabled=this.frameBlendEnabled_}var x=k(B,"transfer_mode");switch(x){case"IN_FRONT":I.BlendMode=CriLaBlendMode.ALPHA_BLEND;break;case"ADD":I.BlendMode=CriLaBlendMode.ADD;break;case"MULTIPLY":I.BlendMode=CriLaBlendMode.MULTIPLY;break}var D=e(m(B,"start_frame"),t);var E=e(m(B,"original_start_frame"),t);if(D<E){E=D}I.startShowFrame_=Math.round(D);I.startFrame_=Math.round(E);var q=I.startShowFrame_-I.startFrame_;var z=e(m(B,"duration"),t);I.setDuration(Math.round(z)+q);var G=k(B,"layer_flags");G=G.replace(/"/g,"");var v=G.split(/ +/);I.visibility=(v.indexOf("VIDEO_ACTIVE")!==-1);var F=k(B,"layer_tags");F=F.replace(/"/g,"");I.tags=F.split(/ +/);var H=m(B,"video_active");if(H!=null){I.visibility=(H.textContent=="True")}return I};h.CriLaM1c2=function(q,r){f(r,"parameter").forEach(function(s){var u=s.getAttribute("name");var t=s.textContent;switch(u){case"position_x":q.position.x=parseFloat(t);break;case"position_y":q.position.y=parseFloat(t);break;case"rotation_z":q.rotation.z=parseFloat(t)*3.14/180;break;case"scale_x":q.scale.x=parseFloat(t)*0.01;break;case"scale_y":q.scale.y=parseFloat(t)*0.01;break;case"anchor_point_x":q.pivot.x=parseFloat(t);break;case"anchor_point_y":q.pivot.y=parseFloat(t);break;case"alpha":q.Alpha=parseFloat(t)*0.01;break;case"time_remap":q.isFrameRemap_=true;q.remapTime_=parseFloat(t);break}})};h.CriLaM1c3=function(q,r){var s="sans-serif";f(r,"parameter").forEach(function(v){var w=v.getAttribute("name");var y=v.textContent;var u=v.getAttribute("type");if(u=="STRING"){y=y.substring(1,y.length-1)}switch(w){case"source_text":y=y.replace(/\\"/g,'"');s=y;break;case"font":q.setFont(y);break;case"font_family":q.setFontFamily(y);break;case"font_size":var t=parseFloat(y)*this.fontScale_;q.setFontSize(t+"px");break;case"dimension_width":q.width=parseFloat(y);break;case"dimension_height":q.height=parseFloat(y);break;case"stroke_width":q.strokeWidth=parseFloat(y);break;case"justification":var A="start";switch(y){case"LEFT":A="start";break;case"RIGHT":A="end";break;case"CENTER":A="center";break}q.align=A;break;case"apply_fill":q.fillEnabled=l(y);break;case"apply_stroke":q.strokeEnabled=l(y);break;case"fill_color":var z=p(y);q.fillColor=g(z);break;case"stroke_color":var z=p(y);q.strokeColor=g(z);break;case"stroke_over_fill":q.isStrokeOverFill=l(y);break;case"bold":var x=l(y);if(x==true){q.fontWeight="700"}break;case"italic":q.isItalic=l(y);break}},this);q.updateFont();q.setText(s)};h.createAnimationCurve=function(v){var q=new CriLaC00r();var r=m(v,"parameter_name");if(r!=null){q.name=r.textContent}else{q.name="unknown"}var w=m(v,"key_list");if(w==null){return null}var z=d(w.textContent);q.Keys=z;var t=m(v,"value_list");if(t==null){return null}var y=d(t.textContent);q.Values=y;if(this.frameBlendEnabled_==false||r!=null){return q}var u=1;var s=q.Values[0];while(true){if(u>=q.Values.length){break}var x=q.Values[u];if(s==x){q.Values.splice(u,1);q.Keys.splice(u,1)}else{s=x;u++}}return q};h.createAnimationCurveSet=function(q){var r=new CriLaC00q();f(q,"stream").forEach(function(s){var t=this.createAnimationCurve(s);if(t!=null){r.Curves.push(t)}},this);return r};h.createImageIndexCurve=function(q){var r=this.createAnimationCurve(q);return r};h.createResource=function(s){var u=s.getAttribute("id");var r=s.getAttribute("name");var q=k(s,"footage_type");var t=null;if(q=="IMAGE"||q=="SEQUENCE"){t=this.createResourceImage_(s,u,r)}else{if(q=="SOLID"){t=this.createResourceRectangle_(s,u,r)}else{if(q=="VIDEO"||q=="MOVIE"){t=this.createResourceVideo_(s,u,r)}else{if(q=="AUDIO"){t=this.createResourceAudio_(s,u,r)}else{if(q=="MODEL"){t=this.createResourceModel_(s,u,r)}}}}}return t};h.createResourceImage_=function(t,w,s){var q=null;var r=k(t,"file_path");if(r.length>0){q=new CriLaResourceSingleImage(w,s);r=b(r,this.resourceURLSuffix_);q.url=r}else{q=this.createResourceSeqImage_(t,w,s)}var v=m(t,"dimension");var u=this.parseDimension_(v);q.width=u[0];q.height=u[1];return q};h.createResourceRectangle_=function(t,x,s){var r=new CriLaResourceRectangle(x,s);var u=m(t,"color");var q=n(u);r.color=g(q);var w=m(t,"dimension");var v=this.parseDimension_(w);r.width=v[0];r.height=v[1];return r};h.createResourceVideo_=function(r,s,q){return this.createResourceSingleVideo_(r,s,q)};h.createResourceSingleMedia_=function(y,q,t,r){var w=new y(t,r);var s=k(q,"file_path");s=b(s,this.resourceURLSuffix_);w.url=s;var x=m(q,"dimension");var v=this.parseDimension_(x);w.width=v[0];w.height=v[1];var u=k(q,"duration");w.duration=u;return w};h.createResourceSingleVideo_=function(r,s,q){return this.createResourceSingleMedia_(CriLaResourceVideo,r,s,q)};h.createResourceAudio_=function(r,s,q){return this.createResourceSingleMedia_(CriLaResourceAudio,r,s,q)};h.createResourceModel_=function(r,t,q){var s=new CriLaResourceModel(t,q);s.url=k(r,"file_path");return s};h.createResourceTextFromLayer_=function(v,x,s){var u=new CriLaResourceText(x+"_text",s);var w=s;var t=24;var q="px";var r="black";u.text=w;u.size=t;u.color=r;u.font=t+q+" "+u.font;return u};h.createResourceSeqImage_=function(r,t,s){var z=k(r,"directory_path");var u=k(r,"file_name_list");u=u.replace(/\"/g,"");var x=u.split(" ");var w=x.length;var y=null;var A=this.resourceURLSuffix_;if(w>1){y=new CriLaResourceSeqImageRaw(t,s);var v=x.map(function(C){var B=z+"/"+C;B=b(B,A);return B});y.setUrls(v)}else{y=new CriLaC00a(t,s);var q=z+"/"+x[0];q=b(q,A);y.url=q}return y};h.resolveScenes_=function(){this.CriLaP113.forEach(this.resolveScene_,this)};h.resolveScene_=function(q){q.getLayerList().forEach(this.resolveLayer_.bind(this,q))};h.resolveLayer_=function(v,s){if(s.ParentLayerID.length>0){var r=CriLaPolyfill.Array.find(v.layerList_,function(w){return w.id===s.ParentLayerID});s.ParentLayer=r}if(s.refSceneID.length>0){var q=CriLaPolyfill.Array.find(this.CriLaP113,function(w){return w.id===s.refSceneID});s.refScene=q}var u=CriLaPolyfill.Array.find(this.resourceList,i.bind(null,s));if(u!=null){var t=u;s.resource=t;this.resolveResource_(v,s,t)}};h.resolveResource_=function(t,r,s){if(s.type===CriLaResourceType.IMAGE){r.CurrentImage=s.image}if(s.type===CriLaResourceType.MODEL){if(r.getDuration()===0){var q=t.getFramerate();t.setDuration(q)}r.resourceID=s.id}};h.parseDimension_=function(r){var q=r&&r.textContent;return this.parseDimensionStr_(q)};h.parseDimensionStr_=function(r){var s=0;var q=0;if(r){var t=r.split(" ");s=parseInt(t[0]);q=parseInt(t[1])}if(s===0&&q===0){s=this.defaultDimension_.x;q=this.defaultDimension_.y}return[s,q]};function i(q,r){if(q.resourceID===r.id){return true}var s=q.resourceID.replace(/\.[^.]+$/,".json");if(s===r.id){return true}return false}function c(q){return Array.prototype.indexOf.bind(q)}function d(r){var q=r.split(" ");return q.map(parseFloat)}function j(r,s){var q=new CriLaMarker();q.startFrame_=e(m(r,"start_time"),s);q.length_=e(m(r,"duration"),s);q.text_=k(r,"comment");return q}function l(q){if(q.toLowerCase()=="true"){return true}return false}function n(r){if(!r){return[0,0,0,0]}var q=r.textContent;return p(q)}function p(q){var r=q.split(" ");return r.map(function(s){return parseInt(parseFloat(s)*255)})}function g(q){return"rgba("+q.join(",")+")"}function b(q,r){if(r!=null){return q+r}return q}function a(q){var r=new DOMParser();return r.parseFromString(q,"text/xml")}function f(r,q){return CriLaPolyfill.Array.from(r.querySelectorAll(q))}function m(r,q){return r.querySelector(q)}function k(s,r){var q=m(s,r);return q?q.textContent:""}function o(q){return q?(parseFloat(q.textContent)||0):0}function e(u,t){var q=0;if(u){var r=parseFloat(u.textContent);var s=u.getAttribute("unit");if(s==="SECOND"){q=r*t}else{q=r}}return Math.round(q||0)}})(CriLaC00c.prototype);function CriLaC00e(a,b){this.CriLaP1e0=a;this.CriLaP1e1=null;this.CriLaP1e2=0;this.xhr_=null;this.CriLaP1e3="";this.CriLaP1e4="";this.CriLaP1e5=0;this.CriLaP1e6=false;this.CriLaP1e7=false;this.CriLaP1e8=b;this.loadedCount_=0;this.loadStartOffset_=0;this.startTime_=0;this.referenceDict_={}}var LafImageInfoCaps={CAPS_SRC_RECT:1,CAPS_DEST_RECT:2,CAPS_REFERENCE_FRAME:4};Object.freeze(LafImageInfoCaps);(function(a){a.requestLoad=function(b){var c=this.xhr=new XMLHttpRequest();c.open("GET",b,true);c.responseType="arraybuffer";c.addEventListener("load",this.CriLaM1e4.bind(this));c.send(null)};a.requestLoadStream=function(b){var c=this.xhr_=new XMLHttpRequest();c.open("GET",b,true);c.overrideMimeType("text/plain; charset=x-user-defined");c.addEventListener("progress",this.CriLaM1e0.bind(this));c.addEventListener("loadend",this.CriLaM1e5.bind(this));c.send(null)};a.updateImages_=function(j){if(this.CriLaP1e1==null){this.CriLaP1e1=this.CriLaM1e1(j)}if(j.loaded>this.CriLaP1e1.length){var f=this.CriLaM1e3(this.CriLaP1e1,j.loaded);delete this.CriLaP1e1;this.CriLaP1e1=f}var g=this.xhr_.response;if(g.length<=0){return}var h=0;if(g.length<j.loaded){h=g.length}else{h=j.loaded}for(var d=this.CriLaP1e2;d<h;d++){if(d>h){break}var c=g.charCodeAt(d);var b=c&255;this.CriLaP1e1[d]=b}this.CriLaM1e6();this.CriLaP1e2=h};a.CriLaM1e0=function(b){this.updateImages_(b);criLiveActRelease()};a.CriLaM1e1=function(d){var b=this.readFileSize_(d);var c=new Uint8Array(b);return c};a.readFileSize_=function(b){return this.readFileSizeFromTotal_(b)||this.CriLaM1e2(b)||this.readFileSizeFromXhrResponse_(b)||this.readFileSizeFromLoaded_(b)};a.readFileSizeFromTotal_=function(b){return b.total};a.CriLaM1e2=function(k){var l=8;var d=4;if(k.loaded<(l+d)){return 0}var c=new Uint8Array(d);var b=this.xhr_.response;for(var f=0;f<d;f++){var g=b.charCodeAt(l+f);var h=g&255;c[f]=h}var m=new DataView(c.buffer);var j=m.getUint32(0,true);b=null;criLiveActRelease();return j};a.readFileSizeFromXhrResponse_=function(d){var c=this.xhr_.getResponseHeader("Content-Length");var b=parseInt(c)*1.2;b=Math.round(b);return b};a.readFileSizeFromLoaded_=function(b){return b.loaded};a.CriLaM1e3=function(f,b){var e=new Uint8Array(b);var d=f.length;for(var c=0;c<d;c++){e[c]=f[c]}return e};a.CriLaM1e4=function(b){if(this.CriLaP1e1==null){this.CriLaP1e1=this.CriLaM1e1(b);this.CriLaP1e2=b.loaded}this.CriLaM1e6();this.xhr_=null;criLiveActRelease()};a.CriLaM1e5=function(b){this.updateImages_(b);this.CriLaM1e6();this.xhr_=null;criLiveActRelease()};a.CriLaM1e6=function(){if(this.CriLaP1e8.getState()==CriLaResourceState.COMPLETE){return}var b=new CriLaC00g(this.CriLaP1e1.buffer);this.CriLaM1e7(b);this.CriLaM1e8(b);if(this.loadedCount_>=this.numImages){this.CriLaP1e1=null;delete this.CriLaP1e1;var c=this.referenceDict_;for(var d in c){var f=this.CriLaP1e0[d];var e=this.CriLaP1e0[c[d]];f.refImage=e}this.CriLaP1e8.setState(CriLaResourceState.COMPLETE)}};a.CriLaM1e7=function(b){if(this.CriLaP1e2<128||this.CriLaP1e6==true){return}b.setOffset(32);b.seek(24);this.CriLaP1e3=b.readString();this.CriLaP1e4=b.readString();this.width=b.readInt32();this.height=b.readInt32();this.numImages=b.readInt32();var d=b.readInt32();this.CriLaP1e5=b.readInt32();var c=b.readInt32();if(c==1){this.CriLaP1e8.isLevelOfDetailFile_=true}b.seek(d-4-4-4);this.loadStartOffset_=(b.getOffset());this.CriLaP1e6=true;this.startTime_=criLaTimer_GetTimeMs()};a.CriLaM1e8=function(b){if(this.CriLaP1e6==false){return}if(this.CriLaP1e2<this.CriLaP1e5){this.startTime_=criLaTimer_GetTimeMs();return}var m=this.numImages;var u=null;var n=this.referenceDict_;b.setOffset(this.loadStartOffset_);for(var t=this.loadedCount_;t<m;t++){this.loadStartOffset_=b.getOffset();var s=b.readString();s=this.CriLaP1e3+s+this.CriLaP1e4;var j=b.readInt32();var r=b.readInt32();var g=b.getOffset();r+=g-4;var d=b.readInt32();b.seek(4);if(this.CriLaP1e2<r+j){break}var q={CAPS_SRC_RECT:1,CAPS_DEST_RECT:2,CAPS_REFERENCE_FRAME:4};if(d&q.CAPS_SRC_RECT){var l=b.readInt32();var k=b.readInt32();var p=b.readInt32();var o=b.readInt32();if(l==0&&k==0){u=this.CriLaM1e9(this.CriLaP1e1,r,j,s);u.setSrcRect_(l,k,p,o)}else{u=this.CriLaM1ea(u.image,l,k,p,o)}}else{u=this.CriLaM1e9(this.CriLaP1e1,r,j,s)}if(d&q.CAPS_DEST_RECT){var l=b.readInt32();var k=b.readInt32();var p=b.readInt32();var o=b.readInt32();u.destRect=CriLaRectangle.createFromXYWH(l,k,p,o)}if(d&q.CAPS_REFERENCE_FRAME){u.refType=b.readInt32();var f=b.readInt32();if(f<t){u.refImage=this.CriLaP1e0[f]}n[t]=f;b.seek(8)}this.loadedCount_++}if(this.loadedCount_>Math.min(10,m)){var e=criLaTimer_GetTimeMs();var h=e-this.startTime_;var c=this.CriLaP1e8;c.dlTime_=h;c.progress_=this.loadedCount_;c.progressMax_=m}};a.CriLaM1e9=function(l,h,f,g){var c=l.subarray(h,h+f);var d=g.substr(-4);var i="";if(d==".jpg"){i="image/jpeg"}else{if(d==".png"){i="image/png"}else{if(d==".gif"){i="image/gif"}}}var b=new Blob([c],{type:i});var k=window.URL.createObjectURL(b);var e=new Image();e.name=g;e.src=k;var j=new CriLaC005();j.setImage(e);this.CriLaP1e0.push(j);return j};a.CriLaM1ea=function(g,c,b,e,d){var f=new CriLaC005();f.setImage(g);f.setSrcRect_(c,b,e,d);this.CriLaP1e0.push(f);return f}})(CriLaC00e.prototype);function CriLaC00g(a){this.buffer_=a;this.view_=new DataView(a);this.readOffset_=0;this.isLittleEndian_=true}(function(a){a.setOffset=function(b){this.readOffset_=b};a.getOffset=function(){return this.readOffset_};a.seek=function(b){this.readOffset_+=b};a.readInt8=function(){var b=this.view_.getInt8(this.readOffset_);this.readOffset_+=1;return b};a.readInt32=function(){var b=this.view_.getInt32(this.readOffset_,this.isLittleEndian_);this.readOffset_+=4;return b};a.readString=function(){var d=this.readOffset_;var e=this.readInt32();var c=this.readInt32();var g=this.readInt32();this.seek(g-4);var f="";for(var b=0;b<e;b++){f+=String.fromCharCode(this.readInt8())}this.setOffset(d+16);return f}})(CriLaC00g.prototype);function CriLaScene(){this.id=0;this.name="unknown";this.duration_=0;this.CriLaP115=30;this.layerList_=[];this.markerList_=[];this.isComplete_=false;this.canPlay_=false;this.isLevelOfDetailScene_=false;this.loadProgress=0}(function(a){a.getName=function(){return this.name};a.getNumLayers=function(){return this.layerList_.length};a.getLayersByName=function(b){return this.layerList_.filter(function(c){return c.name===b})};a.getLayersByTag=function(b){return this.layerList_.filter(function(c){return c.tags.indexOf(b)!==-1})};a.getLayerByIndex=function(b){return this.layerList_[b]};a.isComplete=function(){if(this.isComplete_==true){return true}var b=this.layerList_.every(function(c){return c.isComplete()});this.isComplete_=b;return b};a.getLoadProgress=function(){if(this.loadProgress==100){return this.loadProgress}var c=this.layerList_.map(function(d){return d.getLoadProgress()});c.push(100);var b=Math.min.apply(null,c);this.loadProgress=b;return this.loadProgress};a.canPlay=function(b,h){if(this.canPlay_==true){return true}var d=b;var e=h||"ms";var c=true;if(d!=null){if(e==="%"){d=b}else{if(e==="ms"){var f=this.getDuration()*1000/this.getFramerate();d=b*100/f;e="%"}else{d=void (0);e=void (0)}}}if(d<0||d>=99.9){c=this.isComplete()}else{var g=this.isLevelOfDetailScene();if(g){c=this.canPlayByLoadProgress(d)}else{c=this.canPlayByTimePercent(d)}}this.canPlay_=c;return c};a.canPlayByLoadProgress=function(d){var c=5;if(d!=null){c=d}var b=false;var e=this.getLoadProgress();if(e>c){b=true}return b};a.canPlayByTimePercent=function(b){var d=void (0);if(b!=null){var e=this.getDuration();var c=this.getFramerate();d=b*e/100*1000/c}return this.canPlayByTimeMs(d)};a.canPlayByTimeMs=function(e){var b=3000;if(e!==undefined){b=e}var f=this.getFramerate();var d=Math.ceil(b/1000*f);var c=this.layerList_.every(function(g){return g.canPlay(d)});return c};a.canDraw=function(){var b=this.layerList_.every(function(c){return c.canDraw()});return b};a.hasVideo=function(){var b=this.getVideoResourceIndex();return b>=0};a.hasAudio=function(){var b=this.getAudioResourceIndex();return b>=0};a.getVideoResourceIndex=function(){if(this.videoResourceIndex_==null){this.videoResourceIndex_=this.findVideoResourceIndex_()}return this.videoResourceIndex_};a.getAudioResourceIndex=function(){if(this.audioResourceIndex_==null){this.audioResourceIndex_=this.findAudioResourceIndex_()}return this.audioResourceIndex_};a.getDuration=function(){return this.duration_};a.getFramerate=function(){return this.CriLaP115};a.getNumMarkers=function(){return this.markerList_.length};a.getMarkerByIndex=function(b){return this.markerList_[b]};a.getWidth=function(){return this.Width};a.getHeight=function(){return this.Height}})(CriLaScene.prototype);function CriLaC00i(){CriLaScene.call(this);this.Width=0;this.Height=0;this.BackColor="rgba(0,0,0,0)"}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.requestLoad=function(c,d){this.layerList_.forEach(function(e){e.requestLoad(c,d)})};b.unloadCommon_=function(){this.canPlay_=false;this.isComplete_=false};b.unload=function(){this.layerList_.forEach(function(c){c.unload()});this.unloadCommon_()};b.reload=function(){this.layerList_.forEach(function(c){c.reload()})};b.unloadVideoResource=function(){this.layerList_.forEach(function(c){c.unloadVideoResource()});this.unloadCommon_()};b.GetLayer=function(c){return this.layerList_[c]};b.GetContainLayers=function(p,l,r,s,f){var m=this.layerList_.length;var j=[];for(var u=0;u<m;u++){var A=this.layerList_[u];var o=A.position.x;var k=A.position.y;var z=0;var t=0;var h=A.getStartShowFrame();var q=A.getShowDuration();var v=r-h;if(v<0){continue}if(v>=q){continue}var c=A.refScene;var n=A.getTransformInverseMatrix();var d=f.multiplyMatrix(n);if(c!=null){if(s==true){if(A.isFrameRemap_==true){r=A.remapTime_*A.refScene.CriLaP115}var w=c.GetContainLayers(p,l,r,s,d);if(w.length>0){j=j.concat(w)}}else{z=c.Width;t=c.Height}}else{var g=A.resource;z=g.width;t=g.height}if(A.resource!=null){var B=A.resource.type;if(B==CriLaResourceType.TEXT){d.m31+=A.resource.height}}var e=new CriGrxVector2();e.x=p;e.y=l;e=d.multiplyVector2(e);if(e.x>0&&e.x<z&&e.y>0&&e.y<t){j.push(A)}}return j};b.getCalculatedDuration=function(){var d=this.layerList_.map(function(e){return e.getStartFrame()+e.getDuration()});d.push(0);var c=Math.max.apply(null,d);c=Math.round(c);return c};b.CalculateDuration=function(){this.duration_=this.getCalculatedDuration()};b.setDuration=function(c){c=Math.round(c);this.duration_=c;this.layerList_.filter(function(d){return d.getDuration()===0}).forEach(function(d){d.setDuration(c)})};b.findResource=function(d){var c=this.getLayerList();var e=c.length;for(var g=0;g<e;++g){var f=c[g];var h=f.findResource(d);if(h){return h}}return null};b.findMediaResourceIndex_=function(c){var d=this.findResource(c);return this.resourceIndexResolver_(d)};b.findVideoResourceIndex_=function(){return this.findMediaResourceIndex_(function(c){return c.isVideo()})};b.findAudioResourceIndex_=function(){return this.findMediaResourceIndex_(function(c){return c.type===CriLaResourceType.AUDIO})};b.resourceIndexResolver_=function(){return -1};b.setResourceIndexResolver=function(c){this.resourceIndexResolver_=c};b.isLevelOfDetailScene=function(){if(this.isComplete()==true||this.isLevelOfDetailScene_==true){return this.isLevelOfDetailScene_}var c=this.layerList_.every(function(d){return d.isLevelOfDetailLayer()});this.isLevelOfDetailScene_=c;return c};b.getLayerList=function(){return this.layerList_.concat()}})(CriLaC00i.prototype,CriLaScene.prototype);var CriLaBlendMode={NONE:0,ALPHA_BLEND:1,ADD:2,MULTIPLY:3};Object.freeze(CriLaBlendMode);function CriLaC00r(){this.name="";this.Keys={};this.Values={}}function CriLaC00q(){this.TargetLayerID="";this.Curves=[]}function CriLaLayer(b,a){this.id=b;this.name=a;this.resourceID="";this.resource=null;this.refSceneID="";this.refScene=null;this.visibility=true}function CriLamgLayer(b,a){CriLaLayer.call(this,b,a);this.CurrentImage=null;this.interpolateImage=null;this.position=new CriGrxVector3();this.rotation=new CriGrxVector3();this.scale=CriGrxVector3.createFromXYZ(1,1,1);this.pivot=new CriGrxVector3();this.Alpha=1;this.text=null;this.frameBlendEnabled=false;this.frameBlendWeight=0;this.isFrameRemap_=false;this.remapTime_=0;this.startFrame_=0;this.startShowFrame_=0;this.duration_=0;this.BlendMode=CriLaBlendMode.NONE;this.AnimationCurveSet=new CriLaC00q();this.ImageIndexCurve=null;this.ParentLayerID="";this.ParentLayer=null}(function(a){a.requestLoad=function(b,c){if(b==undefined){b=""}if(c==undefined){c=""}if(this.refScene!=null){this.refScene.requestLoad(b,c)}else{if(this.resource!=null){this.resource.requestLoad(b,c)}}};a.getLoadProgress=function(){var c=100;var b=this.resource;if(this.refScene!=null){c=this.refScene.getLoadProgress()}else{if(b.type==CriLaResourceType.IMAGE){c=b.getLoadProgress()}}return c};a.isLevelOfDetailLayer=function(){var c=true;var b=this.resource;if(this.refScene!=null){c=this.refScene.isLevelOfDetailScene()}else{if(b.type==CriLaResourceType.IMAGE){c=b.isLevelOfDetailImage()}}return c};a.isComplete=function(){var b=true;var c=this.resource;if(this.refScene!=null){b=this.refScene.isComplete()}else{if(c.type==CriLaResourceType.IMAGE){b=c.isComplete()}}return b};a.canPlay=function(d){var b=true;var c=this.resource;if(this.refScene!=null){b=this.refScene.canPlay(d)}else{b=c.canPlay(d)}return b};a.canDraw=function(){var b=true;if(this.refScene!=null){b=this.refScene.canDraw()}else{b=this.resource.canDraw()}return b};a.getStartFrame=function(){return this.startFrame_};a.getStartShowFrame=function(){return this.startShowFrame_};a.getDuration=function(){return this.duration_};a.getShowDuration=function(){var b=this.startShowFrame_-this.startFrame_;return this.duration_-b};a.setDuration=function(b){this.duration_=b};a.unload=function(){var b=this.resource;b.unload()};a.reload=function(){var b=this.resource;b.reload()};a.unloadVideoResource=function(c){var b=this.resource;if(b.isVideo()){b.unload()}};a.getTransformMatrix=function(){var c=new CriGrxMatrix();c.setIdentity();if(this.ParentLayer!=null){var d=this.ParentLayer;c=d.getTransformMatrix()}var k=this.position.x;var i=this.position.y;var e=new CriGrxMatrix();var f=new CriGrxMatrix();var h=new CriGrxMatrix();var g=new CriGrxMatrix();var b=new CriGrxMatrix();e.setIdentity();f.setIdentity();h.setIdentity();g.setIdentity();b.setIdentity();g.translateXY(this.pivot.x,this.pivot.y);h.scaleXY(this.scale.x,this.scale.y);f.rotate(this.rotation.z);e.translateXY(k,i);b.translateXY(-this.pivot.x,-this.pivot.y);var j=new CriGrxMatrix();j.setIdentity();j=b.multiplyMatrix(h);j=j.multiplyMatrix(f);j=j.multiplyMatrix(e);j=j.multiplyMatrix(g);j=j.multiplyMatrix(c);return j};a.getTransformInverseMatrix=function(){var c=new CriGrxMatrix();c.setIdentity();if(this.ParentLayer!=null){var d=this.ParentLayer;c=d.getTransformInverseMatrix()}var k=this.position.x;var i=this.position.y;var e=new CriGrxMatrix();var f=new CriGrxMatrix();var h=new CriGrxMatrix();var g=new CriGrxMatrix();var b=new CriGrxMatrix();e.setIdentity();f.setIdentity();h.setIdentity();g.setIdentity();b.setIdentity();g.translateXY(this.pivot.x,this.pivot.y);h.scaleXY(1/this.scale.x,1/this.scale.y);f.rotate(-this.rotation.z);e.translateXY(-k,-i);b.translateXY(-this.pivot.x,-this.pivot.y);var j=new CriGrxMatrix();j.setIdentity();j=b.multiplyMatrix(e);j=j.multiplyMatrix(f);j=j.multiplyMatrix(h);j=j.multiplyMatrix(g);j=c.multiplyMatrix(j);return j};a.containsSceneFrame=function(b){var c=this.getFrameFromSceneFrame(b);return 0<=c&&c<this.getDuration()};a.isVisibleAtSceneFrame=function(b){if(!this.visibility){return false}if(this.tags.indexOf("WATERMARK")!==-1){return false}var c=b-this.getStartShowFrame();return 0<=c&&c<this.getShowDuration()};a.getFrameFromSceneFrame=function(b){return b-this.getStartFrame()};a.findResource=function(b){if(this.resource){return b(this.resource)?this.resource:null}else{return this.refScene.findResource(b)}}})(CriLamgLayer.prototype);function CriLaC003(){this.CriLaP11d=false;this.CriLaP11b=null;this.CriLaP11e=null;this.renderer_=new CriLaMgRendererBase()}(function(a){a.Initialize=function(){};a.FindKey_=function(f,e){var j=f.Keys;var b=0;var i=j.length-1;var c=(b+i)>>1;var g=0;var h=0;while(b<i){var d=j[c];if(e<d){if(e>=j[c-1]){g=c-1;h=g+1;break}i=c-1}else{if(e<=j[c+1]){g=c;h=g+1;break}b=c+1}if(b==i){g=b;h=g+1;break}c=(b+i)>>1}return[g,h]};a.CalculateAnimationAll_=function(c,b){c.getLayerList().filter(function(d){return d.containsSceneFrame(b)}).reverse().forEach(function(d){this.CalculateAnimation_(d,b)},this)};a.CalculateAnimation_=function(h,d){if(h.AnimationCurveSet==null){return}var k=h.AnimationCurveSet.Curves.length;for(var e=0;e<k;e++){var b=h.AnimationCurveSet.Curves[e];if(b==undefined){continue}var f=b.name;var m;if(d<=b.Keys[0]){m=b.Values[0]}else{if(d>=b.Keys[b.Keys.length-1]){m=b.Values[b.Keys.length-1]}else{var n=this.FindKey_(b,d);var g=n[0];var j=n[1];var c=b.Keys[g];var l=b.Keys[j];if(f=="alpha"&&l-c<=1){m=this.interpolateCeilStep_(d,c,b.Values[g],l,b.Values[j])}else{m=this.interpolateLinear_(d,c,b.Values[g],l,b.Values[j])}}}switch(f){case"position_x":h.position.x=m;h.position.x-=h.pivot.x;h.position.x=Math.round(h.position.x);break;case"position_y":h.position.y=m;h.position.y-=h.pivot.y;h.position.y=Math.round(h.position.y);break;case"scale_x":h.scale.x=m;h.scale.x*=0.01;break;case"scale_y":h.scale.y=m;h.scale.y*=0.01;break;case"rotation_z":h.rotation.z=m*3.14/180;break;case"alpha":h.Alpha=m;h.Alpha*=0.01;break;case"time_remap":h.remapTime_=m;break}}if(h.ImageIndexCurve!=null){this.ResolveResource_(h,h.ImageIndexCurve,d)}};a.interpolateLinear_=function(f,h,g,c,b){var e=(f-h)/(c-h);var d=CriGrxMath.lerp(g,b,e);return d};a.interpolateHalfStep_=function(d,g,e,c,b){var f=(g+c)/2;if(d<=f){return e}return b};a.interpolateCeilStep_=function(d,f,e,c,b){if(d<c){return e}return b};a.ResolveResource_=function(u,h,j){var c=u.resource;if(c.isSequentialImage==false){return false}var r=0;var t=0;var n=h.Keys.length-1;var e=h.Keys[n];if(j<h.Keys[0]){r=h.Keys[0]}else{if(j>e){r=n;var g=j-e;u.frameBlendWeight=g}else{var k=this.FindKey_(h,j);var s=k[0];var o=k[1];var g=(j-h.Keys[s])/(h.Keys[o]-h.Keys[s]);if(g<0.5||u.frameBlendEnabled==true){r=s}else{r=o}u.frameBlendWeight=g;t=o;if(t>=h.Values.length){t=r}}}r=Math.floor(r);t=Math.floor(t);var p=h.Values[r];t=h.Values[t];var l=null;var b=null;if(p<c.CriLaP1e0.length){l=c.CriLaP1e0[p];var f=l.image;if(!f||f.complete==false){l=null}b=c.CriLaP1e0[t];if(b!=null&&b.isComplete()==false){b=null}}if(!l||!l.isComplete()){for(var q=r-1;q>=0;q--){var m=h.Values[q];var d=c.CriLaP1e0[m];if(d&&d.isComplete()){l=d;break}}}u.CurrentImage=l;u.interpolateImage=b};a.setRenderer=function(b){this.renderer_=b};a.clear=function(b){this.renderer_.clearRect(b.left,b.top,b.getWidth(),b.getHeight())};a.fill=function(c,b){this.renderer_.fillRect(c.left,c.top,c.getWidth(),c.getHeight(),b)};a.drawScene=function(e,d,b){this.CalculateAnimationAll_(e,d);var c={trsMatrix:b.trsMatrix,clips:this.getClipsFromSceneAndOptions_(e,b),alpha:b.alpha,blendMode:b.blendMode,worldMatrix:b.worldMatrix,camera:b.camera};Object.freeze(c);e.getLayerList().filter(function(f){return f.isVisibleAtSceneFrame(d)}).reverse().forEach(function(f){var g=f.getFrameFromSceneFrame(d);this.drawLayer(f,g,c)},this)};a.drawLayer=function(d,b,k){var e=k.trsMatrix;var g=d.getTransformMatrix();var h=g.multiplyMatrix(e);var i=k.blendMode==null?d.BlendMode:k.blendMode;var c=k.alpha*d.Alpha;var f="";if(d.resource){f=d.resource.type}var j={clips:k.clips,trsMatrix:h,layer:d,layerFrame:b,alpha:c,blendMode:i,isCanvasVideo:this.CriLaP11d,video:this.CriLaP11b,audio:this.CriLaP11e,worldMatrix:k.worldMatrix,camera:k.camera};if(d.refScene){this.drawResourceRefScene(d.refScene,j)}else{this.drawResource_(d.resource,j)}};a.drawResource_=function(c,b){c.drawnBy(this,b)};a.drawResourceRectangle=function(c,b){this.renderer_.drawRectangle(c,b)};a.drawResourceImage=function(c,b){this.renderer_.drawImage(c,b)};a.drawResourceVideo=function(c,b){this.renderer_.drawVideo(c,b)};a.drawResourceText=function(c,b){this.renderer_.drawText(c,b)};a.drawResourceModel=function(c,b){this.renderer_.drawModel(c,b)};a.drawResourceRefScene=function(d,b){var c=b.layer;var e=b.layerFrame;if(c.isFrameRemap_==true){e=c.remapTime_*c.refScene.CriLaP115}b.blendMode=c.BlendMode;this.drawScene(c.refScene,e,b)};a.getDefaultFontScale=function(){return this.renderer_.getDefaultFontScale()};a.createClipInfo_=function(d,c,b){return{trsMatrix:d,width:c,height:b}};a.getClipsFromSceneAndOptions_=function(c,b){return(b.clips||[]).concat(this.createClipInfo_(b.trsMatrix,c.getWidth(),c.getHeight()))}})(CriLaC003.prototype);function CriLaMgRendererBase(b,a){this.ctx_=this.getContextFromCanvas_(b);this.CriLaP11m=a}(function(a){a.getContextNative=function(){return this.ctx_};a.getContextFromCanvas_=function(b){};a.clearRect=function(b,e,c,d){};a.fillRect=function(b,f,c,e,d){};a.drawRectangle=function(c,b){};a.drawImage=function(c,b){};a.drawVideo=function(c,b){};a.drawText=function(c,b){};a.drawModel=function(c,b){};a.getDefaultFontScale=function(){return 1}})(CriLaMgRendererBase.prototype);function CriLaMgRenderer2d(b,a){CriLaMgRendererBase.call(this,b,a)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.getContextFromCanvas_=function(c){return c.getContext("2d")};b.clearRect=function(c,g,e,f){var d=this.getContextNative();d.clearRect(c,g,e,f)};b.fillRect=function(c,i,e,g,f){var d=this.getContextNative();d.fillStyle=f;d.fillRect(c,i,e,g)};b.drawRectangle=function(d,c){this.withCtxOptions_(c,this.drawRectangle_,this,[d,c])};b.drawImage=function(d,c){this.withCtxOptions_(c,this.drawImage_,this,[d,c])};b.drawVideo=function(d,c){this.withCtxOptions_(c,this.drawVideo_,this,[d,c])};b.drawText=function(d,c){this.withCtxOptions_(c,this.drawText_,this,[d,c])};b.getDefaultFontScale=function(){if(!this.defaultFontScale_){this.defaultFontScale_=this.measureDefaultFontScale_()}return this.defaultFontScale_};b.drawRectangle_=function(e,d){var c=this.getContextNative();c.fillStyle=e.color;c.fillRect(0,0,e.width,e.height)};b.drawImage_=function(i,f){var c=this.getContextNative();var g=f.layer;var h=g.CurrentImage;try{h.drawWH(c,i.width,i.height);var d=g.frameBlendEnabled;if(d){c.globalAlpha*=g.frameBlendWeight;g.interpolateImage.drawWH(c,i.width,i.height)}}catch(j){}};b.drawVideo_=function(g,d){var c=this.getContextNative();if(d.isCanvasVideo===false){return}var f=d.video;var e=d.audio;if(f==null){return}if(e!=null){f.currentTime=e.currentTime}c.drawImage(f,0,0,g.width,g.height)};b.drawText_=function(g,d){var c=this.getContextNative();c.font=g.font;c.textAlign=g.align;c.fillStyle=g.fillColor;c.strokeStyle=g.strokeColor;c.lineWidth=g.strokeWidth;var h=g.textList.length;var f=g.height/h;f=Math.round(f);for(var e=0;e<h;e++){var j=g.textList[e];var k=e*f;if(g.strokeEnabled==true&&g.isStrokeOverFill==false){c.strokeText(j,0,k)}if(g.fillEnabled==true){c.fillText(j,0,k)}if(g.strokeEnabled==true&&g.isStrokeOverFill==true){c.strokeText(j,0,k)}}};b.measureDefaultFontScale_=function(){var f=1;var d=navigator.userAgent;if(/(Android)/.test(d)){var c=this.getContextNative();c.save();c.font="20px 'serif'";c.lineWidth=1;var e=c.measureText("＿");f=20/e.width;c.restore()}return f};b.clipRegions_=function(d){var c=this.getContextNative();d.forEach(function(e){c.save();this.transform_(e.trsMatrix);c.beginPath();c.rect(0,0,e.width,e.height);c.closePath();c.restore();c.clip()},this)};b.transform_=function(d){var c=this.getContextNative();c.transform(d.m00,d.m01,d.m10,d.m11,d.m30,d.m31)};b.setAlpha_=function(d){var c=this.getContextNative();c.globalAlpha=d};b.setBlendMode_=function(c){var d=this.getContextNative();switch(c){case CriLaBlendMode.IN_FRONT:d.globalCompositeOperation="source-over";break;case CriLaBlendMode.ADD:d.globalCompositeOperation="lighter";break;case CriLaBlendMode.MULTIPLY:d.globalCompositeOperation="multiply";break;default:d.globalCompositeOperation="source-over"}};b.withCtxOptions_=function(g,d,e,f){var c=this.getContextNative();c.save();this.clipRegions_(g.clips);this.transform_(g.trsMatrix);this.setAlpha_(g.alpha);this.setBlendMode_(g.blendMode);d.apply(e,f);c.restore()}})(CriLaMgRenderer2d.prototype,CriLaMgRendererBase.prototype);function CriLaMgRendererWebGL(b,a){CriLaMgRendererBase.call(this,b,a)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.getContextFromCanvas_=function(c){return c.getContext("webgl")||c.getContext("experimental-webgl")};b.drawModel=function(g,d){var c=d.worldMatrix;var e=d.camera;var f=g.meshList_.forEach(function(h){this.drawMesh_(h,g.materialList_,g.textureList_,c,e)},this);return true};b.drawMesh_=function(q,e,n,j,h){var g=this.getContextNative();var p=q.getMaterialIndex();var i=e[p];var d=i.getCriLaShader();var f=d.getProgram();g.useProgram(f);var l=i.getTextureIndex();var k=n[l];if(!k||!k.isComplete()){return}d.setParameterMatrix("u_wvp_matrix",this.getWVPMatrix_(j,h));i.applyShaderParameter(k);var m=q.getVertexBuffer();var o=q.getIndexBuffer();g.bindBuffer(g.ARRAY_BUFFER,m);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,o);g.enableVertexAttribArray(0);g.enableVertexAttribArray(1);var c=4*3+4*2;g.vertexAttribPointer(0,3,g.FLOAT,false,c,0);g.vertexAttribPointer(1,2,g.FLOAT,false,c,3*4);this.CriLaP11m.dispatch(CriLaEvent.PREPARE_DRAW);q.submeshList_.forEach(function(r){g.drawElements(q.primitiveType_,r.numPrimitives,g.UNSIGNED_SHORT,0)},this)};b.getWVPMatrix_=function(c,f){var g=f.getViewMatrix();var e=f.getProjectionMatrix();var d=new CriGrxMatrix();d.setIdentity();d.multiply(c);d.multiply(g);d.multiply(e);d.transpose();return d};b.clearRect=function(c,g,d,e){var f=this.getContextNative();f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)};b.fillRect=function(c,i,d,f,e){var g=this.getContextNative();g.clearColor(0,0,0,1);g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}})(CriLaMgRendererWebGL.prototype,CriLaMgRendererBase.prototype);function CriLaMgPlayerCommon(){this.chapterSeparatorsFrame_=[];this.distanceFromViewport_=[0,0,0,0];this.CriLaP116=new CriGrxVector2();this.Rotation=0;this.CriLaP117=new CriGrxVector2();this.CriLaP118=new CriGrxVector2();this.CriLaP119=new CriGrxVector2();this.CriLaP11a=true;this.CriLaP118.x=1;this.CriLaP118.y=1;this.CriLaP119.x=1;this.CriLaP119.y=1;this.CriLaP11i=1;this.Sequencer=new CriLaC003();this.CriLaP11k=null;this.resourceList=[];this.CriLaP113=null;this.CriLaP114=false;this.soundVolume_=100;this.soundVolumeMemo_=this.soundVolume_;this.defaultDimension_=CriGrxVector2.createFromXY(0,0);if(this.initPluginVideoGroup_){this.initPluginVideoGroup_()}}(function(a){a.canvas_=null;a.isFullscreen_=false;a.isFullscreenNative_=false;a.memoryReduction=false;a.controlWrapperElem_=null;a.CriLaP11g=null;a.resizeHistory_=null;a.playableBufferTime_=70;a.playableBufferTimeUnit_="%";a.isFinalized=false;a.tapPlayEnabled_=true;a.scrollStatePrev_=null;a.contentInOutStatePrev_=null;a.baseResourceDir_="";a.sharedResourceDir_="";a.enabledRequestLoadResource_=true;a.enabledControlTemplate_=false;a.maxChapterSeparatorNum_=100;a.everyFrameDrawingEnabled_=false;a.lastDrawnFrame_=null;a.redrawRequested_=false;a.isPollingCanplay_=false;a.trackingCode_=null;a.CriLaP111=null;a.animationFrameID=null;a.resourceURLSuffix_=null;a.timeManager_=null;a.playbackRate_=1;a.videoPreloadType=null;a.frameInterpolationEnabled=true;a.CriLaP300=1;a.initialize=function(f,e){this.enabledControlTemplate_=e!=null;this.setCanvas(f);this.setResizeHistory_(f.clientWidth,f.clientHeight,CriLaCanvasResolutionUsage.ATTRIBUTE);this.createAndRegisterControl(e);this.registerEvents();this.enableBackgroundFill(false);this.resetFontScale();this.addEventListener(CriLaEvent.CAN_DRAW,function(){this.requestRedraw()}.bind(this));this.addEventListener(CriLaEvent.MAIN_LOOP,function(h){var g=h.detail.timeStamp;this.onmain_(g)}.bind(this));this.mainLoop_()};a.finalize=function(){delete this.CriLaP11m.player;this.CriLaP11m=null;this.canvas_=null;this.finalizeResourceList();criLaCancelAnimationFrame_(this.animationFrameID);criLiveActRelease();this.isFinalized=true};a.finalizeResourceList=function(){if(this.resourceList==null){return}this.resourceList.forEach(function(e){if(e.finalize){e.finalize()}});delete this.resourceList};a.getVersion=function(){return[CriLaVersion.MAJOR,CriLaVersion.MINOR,CriLaVersion.REVISION,CriLaVersion.BUILD]};a.mainLoop_=function(e){if(this.isFinalized){return}if(e){var f=this.CriLaP11m.createEvent(CriLaEvent.MAIN_LOOP,{timeStamp:e});this.dispatchEvent(CriLaEvent.MAIN_LOOP,f)}this.animationFrameID=criLaRequestAnimationFrame_(this.mainLoop_.bind(this))};a.getResizeHistory_=function(){if(!this.resizeHistory_){this.resizeHistory_={}}return this.resizeHistory_};a.setResizeHistory_=function(f,e,g){var h=this.getResizeHistory_();if(g&CriLaCanvasResolutionUsage.STYLE){h.widthStyle=f;h.heightStyle=e}if(g&CriLaCanvasResolutionUsage.ATTRIBUTE){h.widthAttr=f;h.heightAttr=e}};a.resizeFromHistory_=function(){var e=this.getResizeHistory_();if("widthStyle" in e||"heightStyle" in e){this.resizeCanvas(e.widthStyle,e.heightStyle,CriLaCanvasResolutionUsage.STYLE)}if("widthAttr" in e||"heightAttr" in e){this.resizeCanvas(e.widthAttr,e.heightAttr,CriLaCanvasResolutionUsage.ATTRIBUTE)}};a.setCanvas=function(e){this.canvas_=e;this.Sequencer.setRenderer(this.createRendererFromCanvas_(e))};a.getCanvas=function(){return this.canvas_};a.setupPlayerSize=function(){var e=this.controlWrapperElem_;this.resizeCanvas(e.style.width,e.style.height,CriLaCanvasResolutionUsage.STYLE)};a.setupControlWrapperElem=function(){if(this.controlWrapperElem_){return}var g=this.getCanvas();var e=g.parentNode;if(!e.classList.contains("lac-div")){e=document.createElement("div");e.classList.add("lac-div");e.classList.add("liveact-player__element--reset-highlight");if(CriUAChecker.isSmallScreen()){e.classList.add("lac-div--mobile")}var h=g.style;var i=CriLaHtmlCss.getComputedStyle(g).position;i=i==="static"?"relative":i;var f=[];Array.prototype.forEach.call(h,function(j){e.style[j]=h[j];f.push(j)});Array.prototype.forEach.call(f,function(j){h[j]=""});e.style.position=i;CriLaHtmlCss.wrap(g,e);g.classList.add("lac-div__fit")}this.controlWrapperElem_=e};a.createAndRegisterControl=function(e){this.setupControlWrapperElem();var f=this.CriLaP11g=new CriLaPlayerControl();f.setup(this.getCanvas(),e);var g=this;this.CriLaP11m.addEventListener(CriLaEvent.TAP_PLAY_ENABLED_CHANGE,function(){f.setScreenPlayVisibility(g.isTapPlayEnabled())});var h=this.controlWrapperElem_;f.append(h)};a.setControlClassName=function(g){var e=this.getControls();var f=this.getCanvas();if(!e||!f){return}e.setClassName(f,g)};a.resizeCanvas=function(g,f,h,i){var e=this.resizeCanvasImpl_.bind(this,g,f,h);if(!i){this.setResizeHistory_(g,f,h)}e()};a.resizeCanvasImpl_=function(h,g,i){if(i&CriLaCanvasResolutionUsage.STYLE){if(h&&!isNaN(Number(h))){h+="px"}if(g&&!isNaN(Number(g))){g+="px"}this.resizeCanvasStyle_(h,g)}if(i&CriLaCanvasResolutionUsage.ATTRIBUTE){var f=h?CriUnitValue.splitUnit(h,"px")[0]:0;var e=g?CriUnitValue.splitUnit(g,"px")[0]:0;this.resizeCanvasAttr_(f,e)}};a.resizeCanvasStyle_=function(j,i){var g=this.getCanvas();var h=g.parentNode;var e=this.controlWrapperElem_;var k=e.style.width=j||"";var f=e.style.height=i||"";if(k){e.classList.add("lac-div--width-set")}else{e.classList.remove("lac-div--width-set")}if(f){e.classList.add("lac-div--height-set")}else{e.classList.remove("lac-div--height-set")}};a.resizeCanvasAttr_=function(g,e){var f=this.getCanvas();f.width=g;f.height=e};a.resizeCanvasToCurrentScene=function(f,j){var g=this.getCurrentScene();if(g==null){return}var i=CriLaCanvasResolutionUsage.BOTH;if(f!=null){i=f}var h=g.getWidth();var e=g.getHeight();this.resizeCanvas(h,e,i,j)};a.isWiderThanParent_=function(){var e=this.controlWrapperElem_;var g=CriLaHtmlCss.getElementWidthHeight(e.parentNode);var h=g.getWidth()/g.getHeight();var f=this.getCurrentSceneWidth()/this.getCurrentSceneHeight();return f>h};a.resizeCanvasContain=function(e){if(e){if(this.isWiderThanParent_()){this.resizeCanvasToFixedRatioWidth("100%",CriLaCanvasResolutionUsage.STYLE,true)}else{this.resizeCanvasToFixedRatioHeight("100%",CriLaCanvasResolutionUsage.STYLE,true)}this.resizeType_="contain";this.centeringCanvas()}else{this.resizeType_="";this.uncenteringCanvas()}};a.resizeCanvasCover=function(e){if(e){if(this.isWiderThanParent_()){this.resizeCanvasToFixedRatioHeight("100%",CriLaCanvasResolutionUsage.STYLE,true)}else{this.resizeCanvasToFixedRatioWidth("100%",CriLaCanvasResolutionUsage.STYLE,true)}this.resizeType_="cover";this.centeringCanvas()}else{this.resizeType_="";this.uncenteringCanvas()}};a.resizeCanvasFill=function(e){if(e){var f=this.controlWrapperElem_.parentNode;this.resizeCanvas(f.clientWidth,f.clientHeight,CriLaCanvasResolutionUsage.ATTRIBUTE,true);this.resizeType_="fill"}else{this.resizeType_=""}};a.centeringCanvas=function(){var e=this.controlWrapperElem_;CriLaHtmlCss.center(e);CriLaHtmlCss.middle(e)};a.uncenteringCanvas=function(){var e=this.controlWrapperElem_.style;e.left=e.top=""};a.resizeCurrentSceneToCanvas=function(){var e=this.getCanvasSceneScales_();if(!e){return}this.CriLaP118.x=e.x;this.CriLaP118.y=e.y;this.CriLaP116.x=this.CriLaP116.y=0};a.resizeContentsToCanvasFixedRatio=function(){var e=this.getCanvasSceneScales_();if(!e){return}this.CriLaP118.x=this.CriLaP118.y=Math.min(e.x,e.y);this.CriLaP116.x=this.CriLaP116.y=0};a.getCanvasSceneScales_=function(){var f=this.CriLaP111;if(!f){return null}var e=this.getCanvas();var h=e.width/f.Width;var g=e.height/f.Height;return{x:h,y:g}};a.resizeCanvasToFixedRatioWidth=function(f,e,h){var g=CriLaCanvasResolutionUsage.STYLE;if(e!=null){g=e}this.resizeCanvas(f,void (0),g,h)};a.resizeCanvasToFixedRatioHeight=function(e,f,h){var g=CriLaCanvasResolutionUsage.STYLE;if(f!=null){g=f}this.resizeCanvas(void (0),e,g,h)};a.resizeFromParentElement=function(){this.resizeCanvasToFixedRatioWidth("100%",CriLaCanvasResolutionUsage.STYLE)};a.fullscreen=function(f){f=Boolean(f);if(f===this.isFullscreen()){return}if(f){this.fullscreenWrap_();var e=this.exitFullscreenByEscCallback_=this.exitFullscreenByEsc_.bind(this);window.addEventListener("keydown",e);this.fullscreenImpl_(true)}else{this.fullscreenUnwrap_();var e=this.exitFullscreenByEscCallback_;if(e){window.removeEventListener("keydown",e);this.exitFullscreenByEscCallback_=null}this.fullscreenImpl_(false);this.resizeFromHistory_()}this.setFullscreen_(f)};a.fullscreenWrap_=function(){var e=this.controlWrapperElem_;var h=e.style;this.lacDivPosition_=h.position;h.position="absolute";var g=document.createElement("div");g.classList.add("liveact-fullscreen-background");var f=this;g.addEventListener("click",function(i){if(i.eventPhase===2){f.fullscreen(false)}});CriLaHtmlCss.wrap(e,g)};a.fullscreenUnwrap_=function(){var e=this.controlWrapperElem_;var f=e.style;f.position=this.lacDivPosition_;CriLaHtmlCss.unwrap(e)};a.exitFullscreenByEsc_=function(e){if(e.key==="Escape"||e.keyCode===27){this.fullscreen(false)}};a.isFullscreen=function(){return this.isFullscreen_};a.setFullscreen_=function(e){e=Boolean(e);var f=this.isFullscreen();if(e!==f){this.isFullscreen_=e;this.dispatchEvent(CriLaEvent.FULLSCREEN_CHANGE)}};a.fullscreenNative=function(e){e=Boolean(e);if(e===this.isFullscreenNative_){return}try{if(e){CriLaPolyfill.Element.requestFullscreen(this.controlWrapperElem_)}else{CriLaPolyfill.Document.exitFullscreen()}}catch(f){console.warn(f.toString())}};a.setControlStyle=function(f){var e=this.getControls();e.setControlStyle(f)};a.setupControlCommon=function(){this.getControls().setScreenPlayVisibility(this.isTapPlayEnabled());var f=this.videoPointerMoved_.bind(this);var e=this.getCanvas();if(CriUAChecker.isMobile()===false){e.addEventListener("mousemove",f)}e.addEventListener("click",f)};a.setupVideoControl=function(){this.setupControlCommon();this.getControls().setupStyleVideo()};a.setupAudioControl=function(){this.setupControlCommon();this.getControls().setupStyleAudio()};a.setupDefaultControl=function(){this.setupControlCommon();this.getControls().setupStyleNoSeekBar()};a.setupAllaroundControl=function(){this.setupControlCommon();this.getControls().setupStyleAllaroundImage()};a.setupSwipeControl=function(){this.setupControlCommon();this.getControls().setupStyleSwipe()};a.setupTemplateControl=function(){this.setupControlCommon();this.getControls().setupStyleTemplate()};a.isEnabledControlTemplate=function(){return this.enabledControlTemplate_};a.videoPointerMoved_=function(f){this.getControls().resetAlpha()};a.getChapterSeparatorsFrame=function(){return this.chapterSeparatorsFrame_};a.getChapterSeparatorsTimeMs=function(){var e=this.getCurrentSceneFrameRate();return this.chapterSeparatorsFrame_.map(function(f){return CriUnitValue.frameToSecond(e,f)*1000},this)};a.setChapterSeparatorsFrame=function(e){if(e.length>this.maxChapterSeparatorNum_){return false}e=CriLaPolyfill.Array.from(e).sort(function(g,f){return g-f});if(CriLaUtility.Array.isEqual(e,this.chapterSeparatorsFrame_)){return}CriLaUtility.Array.copy(e,this.chapterSeparatorsFrame_);this.dispatchEvent(CriLaEvent.CHAPTER_SEPARATOR_CHANGE);return true};a.addChapterSeparatorFrame=function(f){if(this.chapterSeparatorsFrame_.length+1>this.maxChapterSeparatorNum_){return false}var j=CriLaPolyfill.Array.from(this.chapterSeparatorsFrame_);if(f){j.push(f)}else{var h=this.getFrame();var g=this.getCurrentSceneDuration();for(var e=0;e<j.length;++e){if(Math.floor(h)===Math.floor(j[e])){++h}else{if(h<j[e]){break}}}h=Math.min(h,g);j.push(h)}this.setChapterSeparatorsFrame(j);return true};a.sendAnalyticsCommon_=function(m,k){var h=k||{};var g=this.getCurrentSceneName();var l=this.getTrackingCode(true);var e=CriLaId.getClientId();var i=JSON.parse(JSON.stringify(h));i.client_id=e;i.hit_type="event";i.title=document.title;i.tracking_code=l;i.event_category="LiveAct(R) PRO";i.event_action=m;i.event_label=g;i.location=location.href;i.parent_location="";if(window!==window.parent){i.parent_location=document.referrer}i.runtime_version=this.getVersion().join(".");for(var p in i){var j=i[p];if(j==null){j=""}i[p]=encodeURIComponent(j)}var f="https://analytics.liveact.cri-mw.jp/v1/collect";var o=new XMLHttpRequest();o.open("POST",f,true);o.setRequestHeader("Content-Type","multipart/form-data");var n="3DXzd7PvP12UJ3YztLu0H1ZXBJciOMx8avkGEjq8";o.setRequestHeader("x-api-key",n);o.send(JSON.stringify(i))};a.CriLaM116=function(){this.sendAnalyticsCommon_("la-play")};a.sendAnalyticsClick_=function(f){var e=f.detail.point;this.sendAnalyticsCommon_("la-click",{x:e.x,y:e.y,time_ms:this.getTimeMs()})};a.addComponent=function(f,e){this.getControls().addComponent(f,e)};a.addComponents=function(e){this.getControls().addComponents(e)};a.getControls=function(){return this.CriLaP11g};a.setEventDispatcher_=function(e){this.CriLaP11m=e;this.CriLaP11k=new CriLaAnalytics(e)};a.addEventListener=function(e,f){this.CriLaP11m.addEventListener(e,f)};a.removeEventListener=function(e,f){this.CriLaP11m.removeEventListener(e,f)};a.dispatchEvent=function(f,e){this.CriLaP11m.dispatch(f,e)};a.isInIframe=function(){return window!==window.parent};a.calcDistanceFromViewport=function(l,q){var k=q.getHeight();var g=q.top+k/2;var f=l.getHeight();var p=l.top+f/2;var j=Math.abs(p-g);var o=j-((f/2)+(k/2));o=o<0?0:o;var i=q.getWidth();var h=q.left+i/2;var n=l.getWidth();var r=l.left+i/2;var e=Math.abs(r-h);var m=e-((n/2)+(i/2));m=m<0?0:m;this.distanceFromViewport_=[m,o,e,j]};a.notifyPositionChange=function(e,f){this.calcDistanceFromViewport(e,f);this.dispatchScrollInOutEvent_(e,f)};a.dispatchScrollInOutEvent_=function(f,g){var e=Boolean(this.scrollStatePrev_);var h=CriLaRectangle.isInViewPortWithMargin(g,f);if(e===h){return}this.scrollStatePrev_=h;this.dispatchEvent(h?CriLaEvent.SCROLL_IN:CriLaEvent.SCROLL_OUT)};a.dispatchContentInOutEvent_=function(j,m){var k=Boolean(this.contentInOutStatePrev_);var f=CriLiveActSharedSettings.ContentInMargin.distance;var i=m.bottom-m.top;var h=m.top+i/2;var g=j.bottom-j.top;var l=j.top+g/2;var e=Math.abs(l-h)<f+(g/2)+(i/2);if(k===e){return}this.contentInOutStatePrev_=e;this.dispatchEvent(e?CriLaEvent.CONTENT_IN:CriLaEvent.CONTENT_OUT)};a.notifyParentResize=function(){switch(this.resizeType_){case"contain":this.resizeCanvasContain(true);break;case"cover":this.resizeCanvasCover(true);break;case"fill":this.resizeCanvasFill(true)}};a.notifyFullscreenChange=function(e){this.setFullscreen_(e)};a.registerEvents=function(){this.registerScroll_();this.registerResize_();this.registerFullscreenNative_();this.serveAutoPause_();this.serveMemoryReduction_();this.serveAnalytics_();this.serveClick_();this.registerWatermark_();this.registerUpdateUi_();this.serveCanPlay_();this.serveCanDraw_();this.serveAdvancedAnalytics_();this.registerFinalize_()};a.registerScroll_=function(){var e=this;var f=function(){var g=e.getCanvas();if(CriLaHtmlCss.isAncestorFixed(g)){return}e.notifyPositionChange(CriLaRectangle.createFromViewPort(),CriLaRectangle.createFromElement(g))};window.addEventListener("scroll",CriLaFunctional.throttle(33,f));CriLaEventDispatcher.global.addEventListener("resize",f);CriLaEventDispatcher.global.addEventListener("domchanged",f);if(!e.isInIframe()){e.addEventListener(CriLaEvent.CAN_PLAY,f)}this.calcDistanceFromViewport(CriLaRectangle.createFromViewPort(),CriLaRectangle.createFromElement(this.getCanvas()))};a.registerResize_=function(){var e=this;CriLaEventDispatcher.global.addEventListener("resize",function(){e.notifyParentResize()})};a.registerFullscreenNative_=function(){var e=this;CriLaEventDispatcher.global.addEventListener("fullscreenchange",function(){var f=CriLaPolyfill.Document.fullscreenElement;e.isFullscreenNative_=(f!=null)})};a.serveAutoPause_=function(){var e=this;var f=true;e.addEventListener(CriLaEvent.PLAY_START,function(){f=false});e.addEventListener(CriLaEvent.PAUSE,function(){f=true});e.addEventListener(CriLaEvent.STOP,function(){f=true});window.addEventListener("blur",function(){if(!CriLiveActSharedSettings.autoPause){return}if(!f){e.pause();f=false}});window.addEventListener("focus",function(){if(!CriLiveActSharedSettings.autoPause){return}if(!f){e.play()}})};a.serveMemoryReduction_=function(){var e=this;window.addEventListener("blur",function(){var f=CriLiveActSharedSettings.autoPause||e.isPaused();if(!f){return}if(e.memoryReduction){e.unloadDecodedData_();criLiveActRelease()}});window.addEventListener("focus",function(){if(e.memoryReduction){e.reloadDecodedData_();criLiveActRelease()}})};a.serveAnalytics_=function(){if(!false){this.addEventListener(CriLaEvent.FIRST_PLAY_START,this.CriLaM116.bind(this));this.addEventListener(CriLaEvent.CLICK,this.sendAnalyticsClick_.bind(this))}};a.serveClick_=function(){var g=this;var f=g.getCanvas();var e=this.clickEmulator_=new CriLaClickEmulator(f);e.onclick=function(i){var l=CriLaHtmlCss.getElementWidthHeight(f);var h=i.x/l.getWidth()*g.getCurrentSceneWidth();var j=i.y/l.getHeight()*g.getCurrentSceneHeight();var o={x:h,y:j};var n=g.getContainedLayers(h,j,false);var k={point:o,layers:n};var m=new CriLaEventArgs(CriLaEvent.CLICK,g,k);g.dispatchEvent(CriLaEvent.CLICK,m)}};a.setClickThreshold=function(e,f){this.clickEmulator_.setThresholdPathLength(e);this.clickEmulator_.setThresholdDuration(f)};a.registerWatermark_=function(){this.addEventListener(CriLaEvent.WATERMARK_CLICK,function(){this.pagejump("https://www.cri-mw.co.jp/liveact/")}.bind(this))};a.setCanPlayPollingEvent_=function(){var f=this;function e(){if(f.canPlayCurrentScene()){f.dispatchEvent(CriLaEvent.CAN_PLAY);f.isPollingCanplay_=false}else{window.setTimeout(e,100)}}this.isPollingCanplay_=true;window.setTimeout(e,100)};a.serveCanPlay_=function(){this.addEventListener(CriLaEvent.LJT_LOADED,this.setCanPlayPollingEvent_.bind(this))};a.setCanDrawPollingEvent_=function(){var e=this;function f(){if(e.canDrawCurrentScene()){e.dispatchEvent(CriLaEvent.CAN_DRAW)}else{window.setTimeout(f,100)}}window.setTimeout(f,100)};a.serveCanDraw_=function(){this.addEventListener(CriLaEvent.LJT_LOADED,this.setCanDrawPollingEvent_.bind(this))};a.registerUpdateUi_=function(){var h=this;var e=h.getControls();h.addEventListener(CriLaEvent.FULLSCREEN_CHANGE,function(){e.setButtonState(CriLaControlComponentName.FULLSCREEN_BUTTON,h.isFullscreen())});var g=h.isInIframe()?function i(){h.dispatchEvent(CriLaEvent.FULLSCREEN_REQUESTED)}:function j(){h.fullscreen(!h.isFullscreen())};e.addEventListener(CriLaControlEvent.FULLSCREEN_BUTTON_CLICKED,g);h.addEventListener(CriLaEvent.CLICK,function(){if(e.isMiniMenuOpenAny({excludePinnedMiniMenu:true})){e.closeMiniMenuAll({excludePinnedMiniMenu:true})}else{if(h.isTapPlayEnabled()){e.dispatchEventByType(CriLaControlEvent.PLAY_BUTTON_CLICKED)}}});e.addEventListener(CriLaControlEvent.SCREEN_PLAY_BUTTON_CLICKED,function(){h.play()});h.addEventListener(CriLaEvent.FIRST_PLAY_START,function(){e.setScreenPlayVisibility(false)});h.addEventListener(CriLaEvent.PLAY_START,function(){e.setButtonState(CriLaControlComponentName.PLAY_BUTTON,true);e.closeMiniMenu("playbackRangeButton")});h.addEventListener(CriLaEvent.PLAY_END,function(){e.setButtonState(CriLaControlComponentName.PLAY_BUTTON,false);e.seekLastFrame()});h.addEventListener(CriLaEvent.PAUSE,function(){e.setButtonState(CriLaControlComponentName.PLAY_BUTTON,false);e.resetAlpha()});h.addEventListener(CriLaEvent.STOP,function(){e.setButtonState(CriLaControlComponentName.PLAY_BUTTON,false);e.resetAlpha();e.setFrame(0)});e.addEventListener(CriLaControlEvent.PLAY_BUTTON_CLICKED,function(){if(h.isPaused()){h.play()}else{h.pause()}});h.addEventListener(CriLaEvent.SEEKBAR_RESET_NEEDED,function(){var n=h.getCurrentSceneDuration();var l=h.getCurrentSceneFrameRate();e.resetSeekBar(n,l);var k=h.getPlaybackRangeFrame();e.setPlaybackRangeFrame(k.beginFrame,k.endFrame);var m=h.getFrame();e.setFrame(m)});h.addEventListener(CriLaEvent.FRAME_UPDATED,function(l){e.setFrame(h.getFrame());if(!h.isPaused()){var k=l.detail.stepTimeMs;e.updateAlpha(k)}});h.addEventListener(CriLaEvent.LOADED_FRAME_CHANGE,function(k){var l=k.detail.loadedFrames;e.setLoadedFrame(l)});h.addEventListener(CriLaEvent.VOLUME_CHANGE,function(){e.setVolume(h.getVolume()/100)});e.addEventListener(CriLaControlEvent.VOLUME_CHANGED,function(k){h.setVolume(k.detail.volume*100)});e.addEventListener(CriLaControlEvent.VOLUME_CHANGE_START,function(k){h.memoryVolume()});e.addEventListener(CriLaControlEvent.VOLUME_BUTTON_CLICKED,function(){h.mute(!h.isMuted())});h.addEventListener(CriLaEvent.LOOP_CHANGE,function(){e.setButtonState(CriLaControlComponentName.LOOP_BUTTON,h.getLoopFlg())});e.addEventListener(CriLaControlEvent.LOOP_BUTTON_CLICKED,function(){h.setLoopFlg(!h.getLoopFlg())});e.addEventListener(CriLaControlEvent.SEEK,function(k){h.setFrame(k.detail.frame)});var f;e.addEventListener(CriLaControlEvent.SEEK_START,function(k){f=h.isPaused();if(!f){h.pause()}});e.addEventListener(CriLaControlEvent.SEEK_END,function(k){if(!f){h.play()}});h.addEventListener(CriLaEvent.CHAPTER_SEPARATOR_CHANGE,function(k){var l=h.getChapterSeparatorsFrame();e.setChapterSeparatorsFrame(l);e.setChapterSeparatorAddButtonState(l.length!==this.maxChapterSeparatorNum_)}.bind(this));e.addEventListener(CriLaControlEvent.CHAPTER_SEPARATOR_CHANGED,function(k){h.setChapterSeparatorsFrame(k.detail.frames)});e.addEventListener(CriLaControlEvent.CHAPTER_SEPARATOR_ADDED,function(k){h.addChapterSeparatorFrame()});h.addEventListener(CriLaEvent.PLAYBACK_RANGE_CHANGE,function(l){var k=h.getPlaybackRangeFrame();e.setPlaybackRangeFrame(k.beginFrame,k.endFrame)});e.addEventListener(CriLaControlEvent.PLAYBACK_RANGE_CHANGED,function(k){h.setPlaybackRangeFrame(k.detail.beginFrame,k.detail.endFrame)});e.addEventListener(CriLaControlEvent.PLAYBACK_RANGE_RESET,function(k){h.resetPlaybackRange()});e.addEventListener(CriLaControlEvent.PLAYBACK_RANGE_ADJUSTMENT_MODE_CHANGED,function(k){if(k.detail.enabledMode&&h.isPlaying()){h.pause()}});e.addEventListener(CriLaControlEvent.PLAYBACK_RANGE_MOVE_START,function(k){if(h.isPlaying()){h.pause()}});e.addEventListener(CriLaControlEvent.PREV_FRAME_CLICKED,function(k){if(h.isPlaying()){h.pause()}h.stepFrame(-1,false)});e.addEventListener(CriLaControlEvent.NEXT_FRAME_CLICKED,function(k){if(h.isPlaying()){h.pause()}h.stepFrame(1,false)});h.addEventListener(CriLaEvent.PLAYBACK_RATE_CHANGE,function(k){});e.addEventListener(CriLaControlEvent.PLAYBACK_RATE_CHANGED,function(k){h.setPlaybackRate(k.detail.playbackRate)})};a.serveAdvancedAnalytics_=function(){var e=this;if(!true){e.addEventListener(CriLaEvent.CAN_PLAY,function(){e.serveAdvancedAnalyticsImpl_()})}};a.serveAdvancedAnalyticsImpl_=function(){var n=this;var k=n.getContentType();var l=["rotate360","allaround-sphere"];if(l.indexOf(k)!==-1){return}var f=new CriLaAdvancedAnalytics(n);var g=0;var j=function(){if(g<10000){g+=1000;return 1000}else{g+=5000;return 5000}};var m={header:{"Content-Type":"application/json","x-api-key":"isUQVw5MMd5ndighbCHdABs5uUigoL115mFLF4b0"},url:"https://analytics.liveact.cri-mw.jp/advanced1/records"};var o=function(s){var t=new XMLHttpRequest();t.open("POST",m.url,true);var q=m.header;for(var r in q){t.setRequestHeader(r,q[r])}t.send(s);if(CriLiveActSharedSettings.advancedAnalyticsDebug){}};var h=(function(q){return function(r){clearTimeout(e);e=null;p=false;return f.send(q,r)}})(o);var e=null;var p=false;var i=function(r){if(p){return}var q=h(r);if(!q){return}p=true;e=setTimeout(function(){p=false;i(r)},j())};n.addEventListener(CriLaEvent.CREATE_LOG,function(){h(true)});n.addEventListener(CriLaEvent.UPDATE_LOG,function(){i(false)});n.addEventListener(CriLaEvent.PAUSE,function(){h(false)})};a.registerFinalize_=function(){window.addEventListener("unload",this.finalize.bind(this))};a.unloadDecodedData_=function(){};a.reloadDecodedData_=function(){};a.setMemoryReduction=function(e){this.memoryReduction=e};a.unload=function(){};a.unloadVideoResource=function(){};a.isInvisible=function(){var e=this.getCanvas();return CriLaHtmlCss.isInvisible(e)};a.getContentType=function(){return this.contentType_};a.setContentType=function(e){this.contentType_=e};a.isPlaying=function(){return this.getStatus()===CriLaPlayStatus.PLAYING};a.isPaused=function(){return this.getStatus()===CriLaPlayStatus.PAUSE};a.isStopped=function(){return this.getStatus()===CriLaPlayStatus.STOP};a.setup=function(e){var g=this.getCanvas();if(!g){return false}this.CriLaP113=e.CriLaP113;this.registerResourceList_(e.resourceList);this.trackingCode_=e.trackingCode;var f=this.setupWatermarkElement_();return f};a.setupWatermarkElement_=function(){if(this.getNumScenes()<=0){return false}var g=this.CriLaP113[0];var e=g.getLayersByTag("WATERMARK");var f=e.map(function(h){return this.createWatermarkNode_(h,g.getWidth(),g.getHeight())},this);f.forEach(function(i){i.style.pointerEvents="";i.style.cursor="pointer";var h=new CriLaClickEmulator(i);h.onclick=function(){this.dispatchEvent(CriLaEvent.WATERMARK_CLICK)}.bind(this)},this);f.forEach(function(i){var h=this.getCanvas();h.parentElement.insertBefore(i,h.nextSibling)},this);return true};a.createWatermarkNode_=function(g,f,j){var e=function(m){return m*100+"%"};var l=g.resource;var h=document.createElement("div");var i=h.style;var k=l.getFullUrl(this.baseResourceDir_,this.sharedResourceDir_);i.backgroundImage="url("+k+")";i.backgroundRepeat="no-repeat";i.backgroundSize="contain";if(g.BlendMode===CriLaBlendMode.MULTIPLY){i.mixBlendMode="multiply"}i.position="absolute";i.left=e(g.position.x/f);i.top=e(g.position.y/j);i.width=e(l.width/f);i.height=e(l.height/j);i.transformOrigin=[e(g.pivot.x/l.width),e(g.pivot.y/l.height)].join(" ");i.transform="scale("+[g.scale.x,g.scale.y].join(",")+")";i.opacity=g.Alpha;i.pointerEvents="none";return h};a.registerResourceList_=function(e){e.forEach(function(f){this.setupResource_(f);this.resourceList.push(f)},this)};a.setupResource_=function(e){};a.getSceneByName=function(e){if(!this.CriLaP113){return null}return CriLaPolyfill.Array.find(this.CriLaP113,function(f){return f.name===e})};a.getSceneByIndex=function(e){if(!this.CriLaP113){return null}return this.CriLaP113[e]};a.getNumScenes=function(){return this.CriLaP113?this.CriLaP113.length:0};a.setCurrentSceneByName=function(e){var f=this.getSceneByName(e);return this.setCurrentScene(f)};a.setCurrentSceneByIndex=function(f){var e=this.getSceneByIndex(f);return this.setCurrentScene(e)};a.setCurrentScene=function(f){if(f){this.CriLaP111=f}this.timeManager_.setSceneParam(f);this.setMediaPlayerByScene(f);this.timeManager_.setFrame(0,false);var g=this.timeManager_.getFrame();this.CriLaP11k.createReport(f.name,f.getDuration());var e=this.isMuted();this.CriLaP11k.createLog(f.name,g,e);return true};a.setMediaPlayerByScene=function(g){var e=this.getCurrentVideoPlayer();var f=this.getCurrentAudioPlayer();if(this.enabledRequestLoadResource_===true){if(e){e.setup(g,this.resourceList,this.canvas_,this.Sequencer)}if(f){f.setup(g,this.resourceList,this.canvas_,this.Sequencer)}}};a.getCurrentScene=function(){return this.CriLaP111};a.getCurrentSceneWidth=function(){return this.getCurrentScene().Width};a.getCurrentSceneHeight=function(){return this.getCurrentScene().Height};a.getCurrentSceneName=function(){var e=this.getCurrentScene();return e?e.name:""};a.getCurrentSceneDuration=function(){return this.getCurrentScene().getDuration()};a.getCurrentSceneLength=function(){return this.getCurrentSceneDuration()};a.getCurrentSceneFrameRate=function(){return this.getCurrentScene().CriLaP115};a.setPlayableBufferSizeMs=function(e){this.setPlayableBufferSize(e,"ms")};a.setPlayableBufferSize=function(e,f){this.playableBufferTime_=e;this.playableBufferTimeUnit_=f};a.isTapPlayEnabled=function(){return this.tapPlayEnabled_};a.enableTapPlay=function(e){this.tapPlayEnabled_=e;this.dispatchEvent(CriLaEvent.TAP_PLAY_ENABLED_CHANGE)};a.getTrackingCode=function(f){var e=this.getTrackingCode_();if(!f){this.checkTrackingCodeValidity_(e)}return e};a.getTrackingCode_=function(){var e=this.trackingCode_||"";var h=CriLiveActSharedSettings.getCustomerCode();if(h==null){return e}var g=e.split("-");if(g==null||g.length!=2){return e}var f=h+"-"+g[1];return f};a.checkTrackingCodeValidity_=function(e){if(!this.isTrackingCodeValid_(e)){console.warn("トラッキングコードの指定が無効です。 trackingCode: "+e)}};a.isTrackingCodeValid_=function(e){var g=e.indexOf("-");if(g!=8){return false}var f=e.substring(0,g);if(f=="xxxxxxxx"){return false}return true};a.enableRequestLoadResource=function(e){this.enabledRequestLoadResource_=Boolean(e)};a.isRequestLoadResourceEnabled=function(){return this.enabledRequestLoadResource_};a.loadCurrentSceneResourcesAll=function(){this.setMediaPlayerByScene(this.getCurrentScene());this.requestLoadResourcesCurrentScene();this.setFrame(this.getFrame())};a.enableEveryFrameDrawing=function(e){this.everyFrameDrawingEnabled_=Boolean(e)};a.getDistanceFromViewport=function(){return this.distanceFromViewport_};a.drawCurrentSceneToCanvasForcibly=function(){};a.setPageJumpMode=function(){};a.restoreFromPageJumpState=function(){};a.setAlpha=function(e){this.CriLaP300=e};a.getAlpha=function(){return this.CriLaP300};a.getPositionXY=function(){return[this.CriLaP116.x,this.CriLaP116.y]};a.setPositionXY=function(e,f){this.CriLaP116.x=e;this.CriLaP116.y=f};a.getRotation=function(){return this.Rotation};a.setRotation=function(e){this.Rotation=e};a.getScaleXY=function(){return[this.CriLaP118.x,this.CriLaP118.y]};a.setScaleXY=function(e,f){this.CriLaP118.x=e;this.CriLaP118.y=f};a.getPivotXY=function(){return[this.CriLaP117.x,this.CriLaP117.y]};a.setPivotXY=function(e,f){this.setPivotSeparateXY(e,f,e,f)};a.setPivotSeparateXY=function(h,g,f,e){this.CriLaP117.x=h;this.CriLaP117.y=g;this.CriLaP119.x=f;this.CriLaP119.y=e};a.resetFontScale=function(){this.CriLaP11i=this.Sequencer.getDefaultFontScale()};a.setFontScale=function(e){this.resetFontScale();this.CriLaP11i*=e;return this};a.getFontScale=function(){return this.CriLaP11i};a.setResourceURLSuffix=function(e){this.resourceURLSuffix_=e};a.getNumResources=function(){return this.resourceList.length};a.getResourceByIndex=function(e){return this.resourceList[e]};a.getResourceById=function(e){return CriLaPolyfill.Array.find(this.resourceList,function(f){return f.id===e})};a.getResourcesByName=function(e){return this.resourceList.filter(function(f){return f.name===e})};a.isCompleteCurrentScene=function(){var e=this.getCurrentScene();return Boolean(e&&e.isComplete())};a.canPlayCurrentScene=function(){return this.getCurrentScene().canPlay(this.playableBufferTime_,this.playableBufferTimeUnit_)&&(!this.videoPlayer_||this.videoPlayer_.isLoaded())};a.canDrawCurrentScene=function(){return this.getCurrentScene().canDraw()};a.getLoadProgressCurrentScene=function(){return this.getCurrentScene().getLoadProgress()};a.setDefaultDimension_=function(f,e){this.defaultDimension_=CriGrxVector2.createFromXY(f,e)};a.createLjtLoader=function(g){var e=new CriLaC00c();e.addEventListener("error",function(i){var h=this.CriLaP11m.createEvent(CriLaEvent.ERROR,{message:i.detail.message});this.dispatchEvent(CriLaEvent.ERROR,h)}.bind(this));var f=g||{};if(f.frameblend){e.enableFrameBlend(f.frameblend)}e.setFontScale(this.CriLaP11i);e.resourceURLSuffix_=this.resourceURLSuffix_;e.defaultDimension_=this.defaultDimension_;return e};a.loadLjtCommon=function(i,h,g,j){var e=this.createLjtLoader(h);var f=g(e,i);if(!f){return false}f=this.setup(e);if(!f){return false}this.dispatchEvent(CriLaEvent.LJT_LOADED);return true};a.loadLjtFromUrl=function(e,f){return this.loadLjtCommon(e,f,function(g,h){return g.LoadDomFromURL(h)})};a.loadLjt=a.loadLjtFromUrl;a.loadLjtFromString=function(f,e){return this.loadLjtCommon(f,e,function(g,h){return g.CriLaM118(h)})};a.loadLjtWithResources=function(f,g){var e=this.loadLjtFromUrl(f,g);if(!e){return false}if(this.enabledRequestLoadResource_===false){console.warn("enableRequestLoadResourceでfalseが設定されたため、リソースの読み込みを行いません。");return true}this.CriLaP113.forEach(function(h){h.requestLoad(this.baseResourceDir_,this.sharedResourceDir_)},this);return true};a.requestLoadResourcesCurrentScene=function(){if(this.enabledRequestLoadResource_===false){console.warn("enableRequestLoadResourceでfalseが設定されたため、リソースの読み込みを行いません。");return}this.CriLaP111.requestLoad(this.baseResourceDir_,this.sharedResourceDir_)};a.requestLoadResourcesBySceneName=function(e){if(this.CriLaP113==null){return}if(this.enabledRequestLoadResource_===false){console.warn("enableRequestLoadResourceでfalseが設定されたため、リソースの読み込みを行いません。");return}this.CriLaP113.filter(function(f){return f.name===e}).forEach(function(f){f.requestLoad(this.baseResourceDir_,this.sharedResourceDir_)},this)};a.requestLoadResourcesBySceneIndex=function(f){if(this.enabledRequestLoadResource_===false){console.warn("enableRequestLoadResourceでfalseが設定されたため、リソースの読み込みを行いません。");return}var e=this.CriLaP113[f];e.requestLoad(this.baseResourceDir_,this.sharedResourceDir_)};a.requestLoadResources=function(){if(this.enabledRequestLoadResource_===false){console.warn("enableRequestLoadResourceでfalseが設定されたため、リソースの読み込みを行いません。");return}this.CriLaP113.forEach(function(e){e.requestLoad(this.baseResourceDir_,this.sharedResourceDir_)},this)};a.setResourcesBaseURL=function(e){this.baseResourceDir_=CriLaURL.appendSlash(e)};a.getResourcesBaseURL=function(){return this.baseResourceDir_};a.setSharedResourcesBaseURL=function(e){this.sharedResourceDir_=CriLaURL.appendSlash(e)};a.getSharedResourcesBaseURL=function(){return this.sharedResourceDir_};a.unloadCommon_=function(){if(this.videoPlayer_!=null){this.videoPlayer_.unload()}if(this.audioPlayer_!=null){this.audioPlayer_.unload()}};function c(e){e.unload()}a.unload=function(){this.unloadCommon_();this.CriLaP113.forEach(c)};function b(e){return Boolean(e.isSequentialImage)}a.reloadDecodedData_=function(){var e=this.resourceList.filter(b);e.forEach(function(f){f.reload()})};function d(e){e.unloadVideoResource()}a.unloadVideoResource=function(){this.unloadCommon_();this.CriLaP113.forEach(d);criLiveActRelease();if(this.isPollingCanplay_==false){this.setCanPlayPollingEvent_()}};a.unloadDecodedData_=function(){var f=function(m,j){var l=j.Keys;var h=j.Values;var i=l.indexOf(Math.floor(m));var k=l.indexOf(Math.ceil(m));return[h[i],h[k]]};var e=function(k,j){var i=null;for(var h=0;i=k.getLayerByIndex(h);h++){if(i.resource===j){break}}return i};var g=this.resourceList.filter(b);g.forEach(function(k){var j=this.CriLaP111;var l=this.getFrame();var i=e(j,k);var h=i.ImageIndexCurve;var m=f(l,h);k.unload(10,m)},this)};a.isSegmented=function(){return false};a.getCurrentVideoPlayer=function(){if(!this.isSegmented()){return this.videoPlayer_}if(this.pluginVideoGroup){return this.getCurrentVideoPlayerInSegmented_()}};a.getCurrentAudioPlayer=function(){return this.audioPlayer_};a.getCurrentMediaPlayer=function(){return this.getCurrentAudioPlayer()||this.getCurrentVideoPlayer()};a.draw=function(){var f=this.getFrame();if(!this.frameInterpolationEnabled){f=Math.floor(f)}var e=this.Sequencer;e.drawScene(this.getCurrentScene(),f,this.createDrawParameter_());this.lastDrawnFrame_=f;this.redrawRequested_=false;this.dispatchEvent(CriLaEvent.DRAW)};a.createDrawParameter_=function(){var e=criLaMg_getTransformMatrix(this.CriLaP116,this.Rotation,this.CriLaP118,this.CriLaP117,this.CriLaP119);return{trsMatrix:e,alpha:this.getAlpha()}};a.drawWithClear=function(){this.clear();this.draw()};a.enableFrameInterpolation=function(e){this.frameInterpolationEnabled=Boolean(e)};a.requestRedraw=function(){this.redrawRequested_=true};a.isDrawingNeeded_=function(){if(this.everyFrameDrawingEnabled_){return true}if(this.redrawRequested_){return true}if(this.lastDrawnFrame_!==this.getFrame()){return true}return false};a.getRectangle_=function(){var g=this.getCurrentScene();var f=this.CriLaP116;var i=this.CriLaP118;var h=g.getWidth()*i.x;var e=g.getHeight()*i.y;return CriLaRectangle.createFromXYWH(f.x,f.y,h,e)};a.enableBackgroundFill=function(e){this.CriLaP11a=e};a.fill=function(g){var e=this.getCurrentScene();var f=g||e.BackColor;this.Sequencer.fill(this.getRectangle_(),f)};a.clear=function(){if(this.CriLaP11a){this.Sequencer.fill(this.getRectangle_())}else{this.Sequencer.clear(this.getRectangle_())}};a.createRendererFromCanvas_=function(e){return CriLaMgRendererBase(e)};a.play=function(f){var e=this.timeManager_;if(e){e.play()}};a.pause=function(){var e=this.timeManager_;if(e){e.pause()}};a.stop=function(){var e=this.timeManager_;if(e){e.stop()}};a.stepFrame=function(e,h){if(e==undefined){e=1}if(h==null){h=true}var g=this.CriLaP111;var i=this.timeManager_.getFrame();var f=this.timeManager_.setFrame(i+e,h);return f};a.getFrame=function(){var e=this.timeManager_;return e?e.getFrame():0};a.getTimeMs=function(){var e=this.timeManager_;return e?e.getTimeMs():0};a.getLastFrame=function(){var e=this.timeManager_;return e?e.getLastFrame():0};a.isEnded=function(){var e=this.timeManager_;return e?e.isEnded():false};a.setFrame=function(f){var e=this.timeManager_;if(e){e.seekFrame(f)}};a.setTimeMs=function(f){var e=this.timeManager_;if(e){e.seekTimeMs(f)}};a.getStatus=function(){var f=this.timeManager_;if(f==null){return CriLaPlayStatus.STOP}var e=f.getStatus();return e};a.setPlaybackRate=function(e){if(isNaN(e)){e=1}if(e<0){e=0}var g=this.playbackRate_;var f=this.timeManager_;f.setPlaybackRate(e);var h=f.getPlaybackRate();if(h!=null){e=h}this.playbackRate_=e;if(g!==e){this.dispatchEvent(CriLaEvent.PLAYBACK_RATE_CHANGE)}};a.getPlaybackRate=function(){return this.playbackRate_};a.setLoopFlg=function(e){this.CriLaP114=e;if(this.timeManager_){this.timeManager_.setLoop(e)}};a.getLoopFlg=function(){var e=this.CriLaP114;if(this.timeManager_){e=this.timeManager_.getLoop()}return e};a.setProhibitTimeMsRange=function(g,i){var f=this.timeManager_;if(g==null&&i==null){f.setProhibitTimeMsRange(null,null);return}var e=null;var h=null;var l=this.CriLaP111;var j=l.getDuration();var k=l.CriLaP115;if(g==null||g<0){e=0}else{e=g*k/1000}h=i*k/1000;if(i==null||j<h){h=j}f.setProhibitTimeMsRange(e,h)};a.getProhibitTimeMsRange=function(){var f=this.timeManager_;var e=f.prohibitFrameBegin_;var k=f.prohibitFrameEnd_;if(e==null&&k==null){return null}var i=this.CriLaP111;var h=i.CriLaP115;var g=e*1000/h;var j=k*1000/h;return[g,j]};a.isSeeking=function(){var e=this.timeManger_;return Boolean(e)&&e.isSeeking()};a.setVolume=function(i){var j=this.isMuted();i=CriGrxMath.clamp(0,100,i);if(CriUAChecker.isSmallScreen()){i=i>0?100:0}var m=this.getCurrentVideoPlayer();if(m){m.setSoundVolume(i)}var f=this.getCurrentAudioPlayer();if(f){f.setSoundVolume(i)}if(this.pluginVideoGroup){var e=this.getNextVideoPlayer();if(e){e.setSoundVolume(i)}}this.soundVolume_=i;var k=this.isMuted();var l=this.timeManager_;if(j!==k&&l){var h=this.getCurrentSceneName();var g=l.getFrame();this.CriLaP11k.createLog(h,g,k)}this.dispatchEvent(CriLaEvent.VOLUME_CHANGE)};a.getVolume=function(){return this.soundVolume_};a.mute=function(f){f=Boolean(f);var e=this.isMuted();if(f===e){return}if(f){this.memoryVolume();this.setVolume(0)}else{this.setVolume(this.soundVolumeMemo_)}};a.isMuted=function(){var e=this.getCurrentMediaPlayer();return e?e.isMuted():true};a.memoryVolume=function(){if(this.soundVolume_!==0){this.soundVolumeMemo_=this.soundVolume_}};a.getPlaybackRangeFrame=function(){return this.timeManager_.getPlaybackRangeFrame()};a.setPlaybackRangeFrame=function(e,f){this.timeManager_.setPlaybackRangeFrame(e,f)};a.resetPlaybackRange=function(){var e=this.getCurrentSceneDuration();this.timeManager_.setPlaybackRangeFrame(0,e)};a.getAnalysisReport=function(){var e=this.CriLaP11k;e.updateReports();return e};a.clearAnalysisReport=function(){var e=this.CriLaP11k;var f=this.getCurrentScene();e.clear();e.createReport(f.name,f.getDuration())};a.drawCurrentSceneToCanvasForcibly=function(){if(this.timeManager_==null){return}var e=this.Sequencer;var f=e.CriLaP11d;e.CriLaP11d=true;this.draw();e.CriLaP11d=f};a.setPageJumpMode=function(){if(this.timeManager_!=null){this.timeManager_.setPageJumpMode()}};a.restoreFromPageJumpMode=function(){if(this.timeManager_!=null){this.timeManager_.restoreFromPageJumpMode();this.enabledReload=true}};a.onmain_=function(f){var l=this.updateMainLoopTime();if(l==false){return}var j=this.getStatus();if(j==CriLaPlayStatus.STOP){return}var m=this.isInvisible();if(this.canDrawCurrentScene()&&!m){if(this.isDrawingNeeded_()){if(this.CriLaP11a==true){this.fill()}else{this.clear()}this.draw()}}if(this.timeManager_){if(j==CriLaPlayStatus.PLAYING){var o=this.getDeltaTime();var h=this.getCurrentSceneFrameRate();var g=o/(1000/h);var i=this.getPlaybackRate();g*=i;var n=this.decelerateFunc_;if(n){var e=n(o);this.setPlaybackRate(e);if(e===0){this.pause()}}var k=this.canPlayCurrentScene();if(k==true){this.stepFrame(g,true)}}}};a.updateMainLoopTime=function(){var e=this.timeManager_;if(e==null){return false}e.updateMainLoopTime();return true};a.getDeltaTime=function(){var e=this.timeManager_;return e.getDeltaTime()};a.getStreamType=function(){var e=this.timeManager_;if(e==null){return null}return e.getStreamType()};a.setVideoPreloadType=function(e){if(this.videoPlayer_!=null){this.videoPlayer_.setVideoPreloadType(e)}if(this.audioPlayer_!=null){this.audioPlayer_.setVideoPreloadType(e)}this.videoPreloadType=e};a.getContainedLayers=function(e,j,i){i=Boolean(i);if(this.CriLaP111==null){return[]}var f=criLaMg_getTransformInverseMatrix(this.CriLaP116,this.Rotation,this.CriLaP118,this.CriLaP117,this.CriLaP119);var h=this.timeManager_.getFrame();var g=this.CriLaP111.GetContainLayers(e,j,h,i,f);return g};a.getContainedLayerName=function(e,i,f){var h=Boolean(f);var g=this.getContainedLayers(e,i,h);if(g.length==0){return""}return g[0].name};a.notifyMediaSrcChange=function(){var i=this.getCurrentMediaPlayer();if(!i){return}var h=i.getMediaElement();var f=this;function e(){i.notifyMediaSrcChange();f.timeManager_.notifyMediaSrcChange()}if(h.readyState>0){e()}else{h.addEventListener("loadedmetadata",function g(){h.removeEventListener("loadedmetadata",g);e()})}};a.pagejump=function(e,f){var h=f||"_self";if(this.isInIframe()){var g=new CriLaEventArgs(CriLaEvent.LINK_REQUESTED,this,{url:e,target:h});this.dispatchEvent(CriLaEvent.LINK_REQUESTED,g)}else{window.open(e,h)}}})(CriLaMgPlayerCommon.prototype);function CriLaC001(a){CriLaMgPlayerCommon.call(this);this.setEventDispatcher_(a);this.requireStop_=false;this.videoPlayer_=null;this.audioPlayer_=null;this.segmentCount_=1;this.loader_=null;this.enabledReload=false;if(this.initPluginVideoGroup_){this.initPluginVideoGroup_()}}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.setup=function(d){var g=a.setup.call(this,d);if(!g){return false}var f=this.getCanvas();var h=this.getSceneByIndex(0);var e;if(h.hasVideo()&&h.hasAudio()){var c=new CriLaC00u();this.videoPlayer_=c;if(this.pluginVideoGroup){this.setVideoPlayerFront_(c)}var i=new CriLaC0uu();this.audioPlayer_=i;this.setupVideoPlayer(c,this.resourceList,f);this.setupAudioPlayer(i,this.resourceList,f);e=this.setupVideoControl;this.timeManager_=new VideoAudioTimeManager()}else{if(h.hasVideo()){var c=new CriLaC00u();this.videoPlayer_=c;if(this.pluginVideoGroup){this.setVideoPlayerFront_(c)}this.setupVideoPlayer(c,this.resourceList,f);e=this.setupVideoControl;this.timeManager_=new CriLaC00Q()}else{if(h.hasAudio()){var i=new CriLaC0uu();this.audioPlayer_=i;this.setupAudioPlayer(i,this.resourceList,f);e=this.setupAudioControl;this.timeManager_=new CriLaC00R()}else{e=this.setupDefaultControl;this.timeManager_=new CriLaC00M()}}}if(this.isEnabledControlTemplate()===true){e=this.setupTemplateControl}e.call(this);if(this.initialControlStyle_){this.setControlStyle(this.initialControlStyle_)}this.setCurrentScene(h);this.timeManager_.initialize(this);this.timeManager_.setLoop(this.CriLaP114);this.setupPlayerSize();this.reattachPlayerToCanvas();return true};b.setupVideoPlayer=function(d,f,e){d.initialize(this.baseResourceDir_,f,e,this.CriLaP11k,this.CriLaP11m,this.tapPlayEnabled_,this.segmentCount_,this.videoPreloadType,this);var c=this.Sequencer;if(d.getRenderType()==LaVideoRenderType.CANVAS){c.CriLaP11d=true;this.enableBackgroundFill(true)}else{c.CriLaP11d=false;this.enableBackgroundFill(false)}c.CriLaP11b=d.getVideoElement()};b.setupAudioPlayer=function(d,e,c){d.initialize(this.baseResourceDir_,e,c,this.CriLaP11k,this.CriLaP11m,this.tapPlayEnabled_,this.segmentCount_,this.videoPreloadType,this)};b.resizeCanvasAttr_=function(e,c){var d=this.getCanvas();if(!e&&!c){return}if(e&&!c){c=Math.round(e*d.height/d.width)}else{if(!e&&c){e=Math.round(c*d.width/d.height)}}a.resizeCanvasAttr_.call(this,e,c);this.resizeCurrentSceneToCanvas();this.requestRedraw()};b.fullscreenImpl_=function(c){this.resizeCanvasContain(c)};b.reattachPlayerToCanvas=function(){if(this.Sequencer.CriLaP11d){this.Sequencer.CriLaP11b=this.getCurrentVideoPlayer().getMediaElement();this.Sequencer.CriLaP11e=this.getCurrentVideoPlayer().getAudioElement();if(this.pluginVideoGroup){var c=this.getNextVideoPlayer();if(c){c.getAudioElement().currentTime=0}}}};b.zoomTo=function(q,p){q=q<1?1:q>4?4:q;var m=this.getCurrentSceneWidth();var g=this.getCurrentSceneHeight();var s=p||CriGrxVector2.createFromXY(0,0);var f=s.x/m+0.5;var e=s.y/g+0.5;var k=f*m*(q-1);var j=e*g*(q-1);var i=-s.x-k;var n=-s.y-j;var h=m*q;var l=g*q;var o=i+h;var d=n+l;if(i>0){i=0}else{if(m-o>0){i=m-h}}if(n>0){n=0}else{if(g-d>0){i=g-l}}var c=i;var r=n;this.setPositionXY(c,r);this.setScaleXY(q,q)};b.createRendererFromCanvas_=function(c){return new CriLaMgRenderer2d(c,this.CriLaP11m)}})(CriLaC001.prototype,CriLaMgPlayerCommon.prototype);function CriLaC005(){this.image=null;this.retryCount_=0;this.isComplete_=false;this.isLoadFailed_=false;this.isComplete=function(){if(this.refType>0&&this.refImage==null){return false}return this.isComplete_&&this.image&&this.image.complete};this.srcRectEnabled=false;this.srcX=0;this.srcY=0;this.srcWidth=0;this.srcHeight=0;this.destRect=null;this.refImage=null;this.refType=0;this.url_=""}(function(a){a.finalize=function(){this.unload();this.url_="";delete this.image};a.setImage=function(b){this.image=b;this.isComplete_=true;this.url_=b.src};a.requestLoad=function(b){var c=b||this.url_;if(!c){return}if(this.isComplete_==true){return}this.isComplete_=false;if(this.image==null){this.image=new Image()}var d=this;this.image.onload=function(){d.isComplete_=true};this.image.onerror=function(f){d.retryCount_++;if(d.retryCount_>10){d.isLoadFailed_=true}else{if(d.image){d.image.src=c+"?"+d.retryCount_}}};this.image.src=c;this.url_=c};a.setSrcRect=function(b){this.setSrcRect_(b.left,b.top,b.getWidth(),b.getHeight())};a.setSrcRect_=function(c,e,d,b){this.srcRectEnabled=true;this.srcX=c;this.srcY=e;this.srcWidth=d;this.srcHeight=b};a.unload=function(){if(this.image){this.image.src="";this.image=null;this.isComplete_=false}};a.isDrawable=function(){var b=this.image;return this.isComplete()&&b.width>=1&&b.height>=1};a.drawWH=function(e,b,c){if(!this.isDrawable()){return}var h=this.destRect||CriLaRectangle.createFromXYWH(0,0,b,c);if(this.refImage){e.save();e.beginPath();var g=h.right;var d=h.bottom;e.rect(0,0,b,h.top);e.rect(0,d,b,c-d);e.rect(0,0,h.left,c);e.rect(g,0,b-g,c);e.closePath();e.clip();this.refImage.drawWH(e,b,c);e.restore()}var f=this.image;if(!this.srcRectEnabled){e.drawImage(f,h.left,h.top,h.getWidth(),h.getHeight())}else{e.drawImage(f,this.srcX,this.srcY,this.srcWidth,this.srcHeight,h.left,h.top,h.getWidth(),h.getHeight())}}})(CriLaC005.prototype);function CriLaPlayReport(b,a){this.sceneName=b;this.length=a;this.retentionFrame=0}function CriLaPlayLog(c,a,b){this.sceneName=c;this.startFrame=a;this.endFrame=a;this.muted=b}function CriLaAnalysisReport(){}function CriLaAnalytics(a){CriLaAnalysisReport.call(this);this.playReports=[];this.playLogs=[];this.lastMuted_=true;this.CriLaP11m=a}(function(a){a.clear=function(){this.playReports=[];this.playLogs=[];this.lastMuted_=true};a.createReport=function(e,d){var c=this.playReports.length;if(this.playReports.some(function(f){return f.sceneName===e})){return}var b=new CriLaPlayReport(e,d);this.playReports.push(b)};a.createLog=function(c,g,h,d){var e=d||0;var j=this.lastMuted_;if(h!=null){j=h;this.lastMuted_=j}var i=this.playLogs;var f=false;if(i.length>0){var b=i[i.length-1];if(b.endFrame-b.startFrame<=e){f=true}}var k=new CriLaPlayLog(c,g,j);if(f==true){i[i.length-1]=k}else{this.playLogs.push(k);this.CriLaP11m.dispatch(CriLaEvent.CREATE_LOG)}};a.updateSceneLength=function(d,c){var b=this.playReports;if(b.length<=0){return}var e=b[b.length-1];if(e.sceneName!=d){return}e.length=c};a.updateLog=function(f,e,c){var b=this.playLogs;var h=b.length;var d=this.lastMuted_;if(c!=null){d=c;this.lastMuted_=d}if(h==0){this.createLog(f,e,d);h=b.length}var g=b[h-1];if(e>g.endFrame){g.endFrame=e}this.CriLaP11m.dispatch(CriLaEvent.UPDATE_LOG)};a.updateReports=function(){var h={};var e=this.playLogs;for(var l=0;l<e.length;l++){var j=e[l];var c=j.sceneName;if(h[c]==undefined){h[c]=[]}h[c].push(j)}var b=this.playReports.length;for(var l=0;l<b;l++){var k=this.playReports[l];var e=h[k.sceneName];if(e==undefined){continue}var g=this.mergeLogs_(e);var d=g.length;var m=0;for(var n=0;n<d;n++){var j=g[n];var f=j.endFrame-j.startFrame;m+=f}k.retentionFrame=m}};a.mergeLogs_=function(b){b.sort(function(k,i){var l=k.startFrame;var j=i.startFrame;if(l<j){return -1}if(l>j){return 1}return 0});var h=b.length;for(var d=0;d<h;d++){var c=b[d];var f=new CriLaPlayLog(c.sceneName,c.startFrame,c.muted);f.endFrame=c.endFrame;b[d]=f;for(var e=d+1;e<h;e++){var g=b[e];if(f.startFrame>g.endFrame||g.startFrame>f.endFrame){break}f.startFrame=Math.min(f.startFrame,g.startFrame);f.endFrame=Math.max(f.endFrame,g.endFrame);b.splice(e,1);e--;h--}}return b}})(CriLaAnalytics.prototype);function CriLaAdvancedAnalytics(a){this.player_=a;this.clientId_=CriLaId.getClientId();this.watchId_=CriLaId.getIdFromObject(a);this.processId_=CriLaId.createUniqueId();this.lastSentDataStrList_=[]}(function(a){CriLaAdvancedAnalytics.PlayTypeEnum={thumbnail:1,inline:2,rotate360:3,"allaround-sphere":4};CriLaAdvancedAnalytics.AggregationTypeEnum={rotate360:2,"allaround-sphere":3};CriLaAdvancedAnalytics.KeyMap={aggreType:"ag",playType:"pt",clientId:"ci",processId:"pi",watchId:"wi",localTime:"lt",trackingCode:"tc",begin:"be",end:"en",total:"tl",muted:"mu",location:"lo",title:"tt",parentLocation:"pl",sceneName:"sn"};a.updateProcessId=function(b){this.processId_=b||CriLaId.createUniqueId()};a.send=function(d,c){var b=this.getData();if(c){this.updateProcessId()}if(!b){return false}var e=JSON.stringify(b);d(e);return true};a.getData=function(){var c=this;var d=this.player_;var b=d.getAnalysisReport();var g=b.playLogs;var f=g.length;if(!f){return null}var h=this.lastSentDataStrList_;var e=g.filter(function(k,j){var m=h[j];var l=JSON.stringify(k);if(m===l){return false}else{h[j]=l;return true}});e=e.map(function(i){return c.createDatum(i)});e=CriLaAdvancedAnalytics.formatData(e);if(!e.records.length){return null}return e};a.createDatum=function(r){var i=this;var q=i.player_;var j=q.getContentType();var g=CriLaAdvancedAnalytics.PlayTypeEnum[j]||0;var d=CriLaAdvancedAnalytics.AggregationTypeEnum[j]||1;var k=q.getCurrentSceneFrameRate();var m=r.startFrame;var h=r.endFrame;var p=r.muted?1:0;var f=r.sceneName;var o=q.getCurrentSceneDuration();if(o-h<=1){h=o}var e=function(s){return Math.round(s/k*1000)};var l=e(m);var c=e(h);var b=e(o);var n="";if(window!==window.parent){n=document.referrer}return{aggreType:d,playType:g,clientId:i.clientId_,processId:i.processId_,watchId:i.watchId_,localTime:Date.now(),trackingCode:q.getTrackingCode(true),begin:l,end:c,total:b,muted:p,location:location.href,title:document.title,parentLocation:n,sceneName:f}};CriLaAdvancedAnalytics.formatData=function(b){var c=b.map(CriLaAdvancedAnalytics.formatDatum);c=c.filter(Boolean);c=c.map(function(d){return{data:d,"partition-key":d[CriLaAdvancedAnalytics.KeyMap.clientId]}});c={records:c};return c};CriLaAdvancedAnalytics.formatDatum=function(b){var f={};if(b.begin===b.end){return null}var d=CriLaAdvancedAnalytics.KeyMap;for(var c in d){var g=d[c];f[g]=b[c]}for(var e in f){f[e]=encodeURIComponent(f[e])}return f}})(CriLaAdvancedAnalytics.prototype);function CriLaC00t(){this.elemMedia_=null;this.canvas_=null;this.divMediaCanvas_=null;this.frameUpdateFunc_=null;this.durationUpdateFunc_=null;this.getTimeFunc_=null;this.resouce_=null;this.scene_=null;this.CriLaP11m=null;this.CriLaP11k=null;this.CriLaP11l=false;this.tapPlayEnabled_=true;this.baseResourceDir_="";this.CriLaP114=false;this.segmentCount_=1;this.lamgPlayer_=null;this.parentDiv_=null;this.isLoaded_=false;this.isSeeked_=false;this.mediaTimeObject_=null;this.firstMediaEndedEvent_=null;this.fileUrl_=null;if(this.initPluginVideoGroup_){this.initPluginVideoGroup_()}}(function(a){a.initialize=function(p,b,e,m,n,i,h,c,l){if(this.elemMedia_){return false}var k=this.getMediaResource_(b);if(!k){return false}this.CriLaP1e8=k;this.baseResourceDir_=p;this.canvas_=e;this.CriLaP11k=m;this.CriLaP11m=n;this.tapPlayEnabled_=i;if(h!=null){this.segmentCount_=h}this.lamgPlayer_=l;var r=this.divMediaCanvas_=e.parentNode;var j=r.getElementsByTagName(this.MEDIA_TYPE);var o=null;var q=null;if(j.length===0){q=this.createMediaWrapperElem_(e);this.parentDiv_=q;r.insertBefore(q,e)}else{o=j[0];var g=this.getMediaWrapperClassName_();q=r.getElementsByClassName(g)[0]}var d=this.createMediaElem_();this.elemMedia_=d;this.mediaTimeObject_=d;this.CriLaP1e8.setElement(d);if(o==null){q.appendChild(d)}else{var f=this.createMediaWrapperElem_(e);this.parentDiv_=f;r.insertBefore(f,e);f.appendChild(d)}this.applyPreloadType_(c);this.lamgPlayer_.mute(true);this.registerEvents_();return true};a.applyPreloadType_=function(b){var c="";if(this.lamgPlayer_.isSegmented()){c="auto"}else{if(b!=null){c=b}else{c=CriUAChecker.isMobile()?"metadata":"auto"}}this.setVideoPreloadType(c)};a.getResourceUrl=function(){return this.CriLaP1e8.getFullUrl(this.baseResourceDir_,this.sharedResourceDir_)};a.getMediaResource_=function(b){var c=this.getMediaResources_(b);return c.length===0?null:c[0]};a.getMediaResources_=function(b){return b?b.filter(this.getMediaResourcePred_):[]};a.getRenderType=function(){return this.renderType_};a.getResource=function(){return this.CriLaP1e8};a.getMediaElement=function(){return this.elemMedia_};a.createMediaElem_=function(){var b=document.createElement(this.MEDIA_TYPE);b.muted=true;b.volume=0;CriLaHtmlCss.setVisibility(b,false);return b};a.createMediaWrapperElem_=function(d){var b=document.createElement("div");b.classList.add(this.getMediaWrapperClassName_());b.classList.add("lac-div__fit");var c=b.style;c.zIndex=d.style.zIndex;return b};a.getMediaWrapperClassName_=function(){return"lac-"+this.MEDIA_TYPE+"-div"};a.resetMediaDuration_=function(b){this.updateAnalyticsSceneLength_()};a.registerEvents_=function(){var b=this.elemMedia_;b.addEventListener("canplay",this.mediaCanplay_.bind(this),false);b.addEventListener("loadedmetadata",this.mediaLoadedMetaData_.bind(this),false);b.addEventListener("progress",this.getLoadedFrames_.bind(this),false)};a.getLoadedFrames_=function(k){var f=k.target.buffered;var j=[];var g=this.scene_.getFramerate();for(var d=0;d<f.length;d++){var c={};c.start=f.start(d)*g;c.end=f.end(d)*g;j.push(c)}var h=this.CriLaP11m.createEvent(CriLaEvent.LOADED_FRAME_CHANGE,{loadedFrames:j});this.CriLaP11m.dispatch(CriLaEvent.LOADED_FRAME_CHANGE,h)};a.mediaCanplay_=function(b){this.isLoaded_=true};a.mediaLoadedMetaData_=function(d){var c=this.scene_.getDuration();var b=33;if(c<=b){this.resetMediaDuration_(d.target)}};a.updateAnalyticsSceneLength_=function(){var d=this.scene_;var c=d.getName();var b=d.getDuration();this.CriLaP11k.updateSceneLength(c,b)};a.setSoundVolume=function(b){this.getSoundTargets_().forEach(function(c){if(c){c.volume=b/100;c.muted=(b===0)}})};a.isMuted=function(){return this.getSoundTargets_().some(function(b){return b.muted})};a.isLoaded=function(){return this.getMediaElement().readyState>=3};a.getSoundTargets_=function(){var c=[];var b=this.getMediaElement();if(b){c.push(b)}return c};a.getTimeManagerElement=function(){return this.getMediaElement()};a.setSource=function(b){this.load(b)};a.getMediaResourcePred_=function(b){return false};a.MEDIA_TYPE="";a.load=function(c){this.isLoaded_=false;var b=this.getMediaElement();b.src=c;b.load()};a.unload=function(){this.isLoaded_=false;var b=this.getMediaElement();b.removeAttribute("src");b.load()};a.reload=function(){this.load(this.fileUrl_)};a.isSetSource=function(){return this.elemMedia_.networkState==1||this.elemMedia_.networkState==2?true:false};a.notifyMediaSrcChange=function(){var b=this.getMediaElement();this.resetMediaDuration_(b)};a.isEmptySrc=function(){var b=this.elemMedia_;return b.src==""};a.isRequiredReload=function(){if(this.elemMedia_.buffered.length!=0){return false}else{if(this.isEmptySrc()==true){return false}else{if(this.elemMedia_.readyState!=1&&this.elemMedia_.networkState!=1){return false}}}return true};a.setMediaPreloadType=function(b){if(this.elemMedia_!=null){this.elemMedia_.setAttribute("preload",b)}};a.setVideoPreloadType=a.setMediaPreloadType})(CriLaC00t.prototype);function CriLaC00u(){CriLaC00t.call(this);this.CriLaP11e=null;this.blobUrl_=null;this.renderType_=LaVideoRenderType.VIDEO;this.mouseMoveFunc_=function(a){};this.blobXhr_=null;if(this.initPluginVideoGroup_){this.initPluginVideoGroup_()}}var LaVideoRenderType={VIDEO:0,CANVAS:1};Object.freeze(LaVideoRenderType);(function(b){var a=CriLaC00t.prototype;CriLaPolyfill.Object.setPrototypeOf(b,a);b.initialize=function(l,c,d,j,k,h,f,e,i){if(a.initialize.apply(this,arguments)===false){return false}this.updateRenderType_();if(this.renderType_==LaVideoRenderType.CANVAS){var g=new Audio();this.CriLaP11e=g;CriLaHtmlCss.setVisibility(this.parentDiv_,false)}this.lamgPlayer_.mute(true);return true};b.loadBlobResource_=function(g,e,d){if(this.fileUrl_==e){if(d!=null){d.setupFinishedCallback(g)}}else{var i=this.getMediaElement();i.src="";this.fileUrl_=e;var j=new XMLHttpRequest();j.open("GET",e,true);j.responseType="blob";var h=CriLiveActSharedSettings.getAdditionalRequestHeaders_();for(var f in h){j.setRequestHeader(f,h[f])}j.onload=function(m){this.blobXhr_=null;var k=j.response;var l=window.URL.createObjectURL(k);this.blobUrl_=l;i.src=l;if(d!=null){d.setupFinishedCallback(g)}}.bind(this);var c=function(k){this.blobXhr_=null}.bind(this);j.onerror=c;j.onabort=c;j.ontimeout=c;j.send(null);this.blobXhr_=j}};b.setup=function(j,c,f,k,n){if(j.hasVideo()==false){return}var h=j.getVideoResourceIndex();var m=c[h];this.CriLaP1e8=m;var e=this.elemMedia_;this.scene_=j;if(m.type==CriLaResourceType.VIDEO){var d=this.getResourceUrl();var l=this;if(this.isSrcBlobbing()){this.loadBlobResource_(l,d,n)}else{if(e.src!=d){e.src=d;e.load();if(n!=null){n.setupFinishedCallback(l)}}}}f.style.position="relative";if(this.renderType_==LaVideoRenderType.CANVAS){var i=this.CriLaP11e;i.src=d;i.load();k.CriLaP11b=e;k.CriLaP11e=i}var g=CriLaPolyfill.Array.find(j.getLayerList(),function(o){return o.resource&&o.resource.isVideo()});this.rotateMediaWrapperElem_(e.parentNode,g.rotation.z,j.Width/j.Height)};b.getVideo=function(){return this.getMediaElement()};b.getVideoElement=function(){return this.getMediaElement()};b.setMouseMoveCallback=function(c){this.mouseMoveFunc_=c};b.load=function(c){a.load.call(this,c);if(this.renderType_==LaVideoRenderType.CANVAS){this.CriLaP11e.src=c;this.CriLaP11e.load()}};b.unload=function(){a.unload.call(this);if(this.CriLaP11e){this.CriLaP11e.removeAttribute("src");this.CriLaP11e.load()}};b.resetMediaDuration_=function(d){var g=d.duration;if((g!==g)){return}var f=this.scene_;var c=0;var e=f.getFramerate();f.layerList_.forEach(function(h){var i=h.startFrame_;var j=h.duration_;if(h.resource&&h.resource.isVideo()){j=g*e}if(c<j+i){c=j+i}});f.setDuration(c);this.updateAnalyticsSceneLength_();this.CriLaP11m.dispatch(CriLaEvent.SEEKBAR_RESET_NEEDED)};b.clicked_=function(c){if(this.scene_.hasVideo()){this.mouseMoveFunc_(c)}};b.isSrcBlobbing=function(){var c=CriLiveActSharedSettings.getAdditionalRequestHeaders_();if(c!=null&&0<Object.keys(c).length){return true}return false};b.updateRenderType_=function(){var d=CriUAChecker.getOS();var e=CriUAChecker.getOSVersion();var c=!(d===CriUAOS.iOS&&e<10);this.renderType_=c?LaVideoRenderType.VIDEO:LaVideoRenderType.CANVAS};b.getAudioElement=function(){return this.CriLaP11e};b.getMediaResourcePred_=function(c){return c.isVideo()};b.MEDIA_TYPE="video";b.registerEvents_=function(){a.registerEvents_.call(this);var f=this.elemMedia_;var d=this.canvas_;var c=this;["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"].forEach(function(g){f.addEventListener(g,function(j){var k={};for(var i in j){k[i]=j[i]}var h=new CriLaPolyfill.Event.MouseEvent(g,k);d.dispatchEvent(h)},false)});["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"].forEach(function(g){f.addEventListener(g,function(i){var k={};for(var h in i){k[h]=i[h]}var j=new CriLaPolyfill.Event.PointerEvent(g,k);d.dispatchEvent(j)},false)});var e=this;d.addEventListener("click",this.clicked_.bind(this),false);d.addEventListener("mousemove",function(g){e.mouseMoveFunc_(g)},false);f.addEventListener("contextmenu",function(g){g.preventDefault()},false)};b.getSoundTargets_=function(){var c=a.getSoundTargets_.call(this);var d=this.getAudioElement();if(d){c.push(d)}return c};b.getTimeManagerElement=function(){return this.getAudioElement()||this.getMediaElement()};b.rotateMediaWrapperElem_=function(h,g,e){var c=Math.round(g/Math.PI*180);var f=Math.round(c/90);if(f<0){var i=Math.ceil(-f/4);f+=i*4}else{f=(4+f)%4}if(f===0){return}var d=h.style;if(f===2){d.transformOrigin="center";d.transform="rotate(180deg)";return}d.width=(100/e)+"%";d.height=(100*e)+"%";if(f===1){d.left="100%";d.right="";d.top="0";d.transformOrigin="left top";d.transform="rotate(90deg)"}else{d.right="100%";d.left="";d.top="0";d.transformOrigin="right top";d.transform="rotate(-90deg)"}};b.createMediaElem_=function(){var d=a.createMediaElem_.call(this);if(this.isSrcBlobbing()){}else{var c=this.getResourceUrl();this.fileUrl_=c}d.classList.add("liveact-video");d.classList.add("lac-div__fit");d.setAttribute("playsinline","true");return d}})(CriLaC00u.prototype);function CriLaC0uu(){CriLaC00t.call(this);this.divMediaCanvas_=null}(function(b){var a=CriLaC00t.prototype;CriLaPolyfill.Object.setPrototypeOf(b,a);b.setup=function(i,h,d,c){var f=i.getAudioResourceIndex();var g=h[f];this.CriLaP1e8=g;var e=this.elemMedia_;e.src=this.getResourceUrl();e.load();this.scene_=i};b.getMediaResourcePred_=function(c){return c.type===CriLaResourceType.AUDIO};b.MEDIA_TYPE="audio";b.createMediaElem_=function(){var d=a.createMediaElem_.call(this);var c=this.getResourceUrl();this.fileUrl_=c;return d};b.createMediaWrapperElem_=function(d){var c=a.createMediaWrapperElem_.call(this,d);c.style.pointerEvents="none";return c}})(CriLaC0uu.prototype);var CriLaControlEvent={PLAY_BUTTON_CLICKED:"playbuttonclicked",SEEK:"seek",SCREEN_PLAY_BUTTON_CLICKED:"screenplaybuttonclicked",VOLUME_BUTTON_CLICKED:"volumebuttonclicked",LOOP_BUTTON_CLICKED:"loopbuttonclicked",FULLSCREEN_BUTTON_CLICKED:"fullscreenbuttonclicked",ZOOM_IN_BUTTON_PRESSED:"zoominbuttonpressed",ZOOM_OUT_BUTTON_PRESSED:"zoomoutbuttonpressed",SWIPE_MODE_BUTTON_CLICKED:"swipemodebuttonclicked",GYRO_BUTTON_CLICKED:"gyrobuttonclicked",SEEK_START:"seekstart",SEEK_END:"seekend",CHAPTER_SEPARATOR_CHANGED:"chapterseparatorchanged",CHAPTER_SEPARATOR_ADDED:"chapterseparatoradded",PLAYBACK_RANGE_CHANGED:"playbackrangechanged",PLAYBACK_RANGE_RESET:"playbackrangereset",PLAYBACK_RANGE_ADJUSTMENT_MODE_CHANGED:"playbackrangeadjustmentmodechanged",PLAYBACK_RANGE_MOVE_START:"playbackrangemovestart",PLAYBACK_RANGE_MOVE_END:"playbackrangemoveend",PREV_FRAME_CLICKED:"prevframeclicked",NEXT_FRAME_CLICKED:"nextframeclicked",VOLUME_CHANGE_START:"volumechangestart",VOLUME_CHANGED:"volumechanged"};Object.freeze(CriLaControlEvent);var CriLaControlComponentName={SCREEN_PLAY_BUTTON:"screenPlayButton",PLAY_BUTTON:"playButton",SEEKBAR:"seekBar",TIME:"time",VOLUME_BUTTON:"volumeButton",LOOP_BUTTON:"loopButton",FULLSCREEN_BUTTON:"fullscreenButton",ZOOM_IN_BUTTON:"zoomIn",ZOOM_OUT_BUTTON:"zoomOut",SWIPE_MODE_BUTTON:"swipeMode",GYRO_BUTTON:"gyro",CHAPTER_BUTTON:"chapterButton",PLAYBACK_RANGE_BUTTON:"playbackRangeButton",PLAYBACK_RATE_BUTTON:"playbackRateButton",PREV_FRAME_BUTTON:"prevFrameButton",NEXT_FRAME_BUTTON:"nextFrameButton",VOLUME_SLIDER:"volumeSlider"};Object.freeze(CriLaControlComponentName);function CriLaPlayerControl(){this.lastAlpha_=1;this.componentDict_={};var a=document.createElement("div");this.controlElem_=a;this.rows_=[];this.wrapperElem_=null;this.time_=null;this.seekBar_=null;this.fadeTimeMs_=3500;this.showDuration_=3500;this.miniMenuFieldElem_=document.createElement("div");this.miniMenuDict_={};this.enabledTemplate_=false;this.enabledPlaybackRangeAdjustmentMode_=false;this.resetAlpha()}(function(a){a.setup=function(d,x){var l=this.wrapperElem_=d.parentNode;var m=this.controlElem_;m.style.opacity=1;var e=this.miniMenuFieldElem_;e.classList.add("lac-minimenu-field");m.appendChild(e);this.enabledTemplate_=x!=null;if(this.enabledTemplate_){CriLaPolyfill.Array.from(x.childNodes).forEach(function(z){m.appendChild(z)});this.rows_=CriLaPolyfill.Array.from(m.getElementsByClassName("lac-row"));this.rows_.forEach(function(z){this.registerRowEventCommon_(z)},this)}else{this.addRow()}var k=CriLaPlayerControlButton.create(CriLaControlComponentName.SCREEN_PLAY_BUTTON,this);this.addScreenPlayButton(k);var p=CriLaPlayerControlButton.create(CriLaControlComponentName.PLAY_BUTTON,this);var f=new CriLaC00X(d.parentNode,this);var h=new CriLaC00W(this);var j=CriLaPlayerControlButton.create(CriLaControlComponentName.VOLUME_BUTTON,this);var v=CriLaPlayerControlButton.create(CriLaControlComponentName.LOOP_BUTTON,this);var u=CriLaPlayerControlButton.create(CriLaControlComponentName.SWIPE_MODE_BUTTON,this);var n=CriLaPlayerControlButton.create(CriLaControlComponentName.GYRO_BUTTON,this);var c=CriLaPlayerControlPressButton.create(CriLaControlComponentName.ZOOM_IN_BUTTON,this);var o=CriLaPlayerControlPressButton.create(CriLaControlComponentName.ZOOM_OUT_BUTTON,this);var s=CriLaPlayerControlButton.create(CriLaControlComponentName.FULLSCREEN_BUTTON,this);var r=CriLaPlayerControlMiniMenuButton.create(CriLaControlComponentName.CHAPTER_BUTTON,this);var b=CriLaPlayerControlMiniMenuButton.create(CriLaControlComponentName.PLAYBACK_RANGE_BUTTON,this);var t=CriLaPlayerControlButton.create(CriLaControlComponentName.PREV_FRAME_BUTTON,this);var q=CriLaPlayerControlButton.create(CriLaControlComponentName.NEXT_FRAME_BUTTON,this);var y=new CriLaVolumeSliderComponent(d.parentNode,this);var w=CriLaPlayerControlMiniMenuButton.create(CriLaControlComponentName.PLAYBACK_RATE_BUTTON,this);this.seekBar_=f;this.time_=h;this.chapterMiniMenu_=r.getMiniMenu();this.playbackRangeMiniMenu_=b.getMiniMenu();this.volumeSlider_=y;this.playbackRateMiniMenu_=w.getMiniMenu();this.expandOrAddComponent_(CriLaControlComponentName.PLAY_BUTTON,p);this.expandOrAddComponent_(CriLaControlComponentName.SEEKBAR,f);this.expandOrAddComponent_(CriLaControlComponentName.TIME,h);this.expandOrAddComponent_(CriLaControlComponentName.VOLUME_BUTTON,j);this.expandOrAddComponent_(CriLaControlComponentName.LOOP_BUTTON,v);this.expandOrAddComponent_(CriLaControlComponentName.SWIPE_MODE_BUTTON,u);this.expandOrAddComponent_(CriLaControlComponentName.GYRO_BUTTON,n);this.expandOrAddComponent_(CriLaControlComponentName.ZOOM_IN_BUTTON,c);this.expandOrAddComponent_(CriLaControlComponentName.ZOOM_OUT_BUTTON,o);this.expandOrAddComponent_(CriLaControlComponentName.FULLSCREEN_BUTTON,s);this.expandOrAddComponent_(CriLaControlComponentName.CHAPTER_BUTTON,r);this.expandOrAddComponent_(CriLaControlComponentName.PLAYBACK_RANGE_BUTTON,b);this.expandOrAddComponent_(CriLaControlComponentName.PREV_FRAME_BUTTON,t);this.expandOrAddComponent_(CriLaControlComponentName.NEXT_FRAME_BUTTON,q);this.expandOrAddComponent_(CriLaControlComponentName.PLAYBACK_RATE_BUTTON,w);if(this.enabledTemplate_){this.expandCustomComponents_()}this.expandOrAddVolumeSliderComponent_();w.updatePlaybackRateList();this.append(l);this.setControlStyle({visibility:false});var g=this.resetAlpha.bind(this);if(CriUAChecker.isMobile()===false){this.addEventListener("mousemove",g)}this.addEventListener("click",g);var i=this;this.addEventListener(CriLaControlEvent.SEEK,function(z){i.time_.setFrame(z.detail.frame)});this.playbackRangeMiniMenu_.addEventListener("open",function(){this.enablePlaybackRangeAdjustmentMode(true)}.bind(this));this.playbackRangeMiniMenu_.addEventListener("close",function(){this.enablePlaybackRangeAdjustmentMode(false)}.bind(this));this.playbackRangeMiniMenu_.addEventListener("playbackrangechanged",function(z){this.dispatchEventByType(CriLaControlEvent.PLAYBACK_RANGE_CHANGED,{beginFrame:z.detail.beginFrame,endFrame:z.detail.endFrame})}.bind(this));this.playbackRangeMiniMenu_.addEventListener("playbackrangereset",function(z){this.dispatchEventByType(CriLaControlEvent.PLAYBACK_RANGE_RESET)}.bind(this));this.chapterMiniMenu_.addEventListener("separatorchanged",function(z){this.dispatchEventByType(CriLaControlEvent.CHAPTER_SEPARATOR_CHANGED,{frames:z.detail.frames})}.bind(this));this.chapterMiniMenu_.addEventListener("separatoradded",function(z){this.dispatchEventByType(CriLaControlEvent.CHAPTER_SEPARATOR_ADDED)}.bind(this));this.playbackRateMiniMenu_.addEventListener("playbackratechanged",function(z){this.dispatchEventByType(CriLaControlEvent.PLAYBACK_RATE_CHANGED,{playbackRate:z.detail.playbackRate})}.bind(this))};a.resetStyle_=function(){var d=CriLaControlComponentName;var e={visibility:false};for(var c in d){var b=d[c];e[b]=false}this.setControlStyle(e)};a.setupStyleVideo=function(){this.resetStyle_();var b={visibility:true};b[CriLaControlComponentName.SCREEN_PLAY_BUTTON]=true;b[CriLaControlComponentName.PLAY_BUTTON]=true;b[CriLaControlComponentName.SEEKBAR]=true;b[CriLaControlComponentName.TIME]=true;b[CriLaControlComponentName.VOLUME_BUTTON]=true;b[CriLaControlComponentName.FULLSCREEN_BUTTON]=true;this.setControlStyle(b);this.setClassName(null,"")};a.setupStyleTemplate=function(){this.resetStyle_();var b={visibility:true,showDuration:-1};Object.keys(this.componentDict_).forEach(function(c){b[c]=true});this.setControlStyle(b);this.setClassName(null,"")};a.setupStyleNoSeekBar=function(){this.resetStyle_();var b={visibility:false,showDuration:-1};this.setControlStyle(b);this.setClassName(null,"liveact-controls--no-seekbar")};a.setupStyleAudio=function(){this.setupStyleNoSeekBar();var b={visibility:true};b[CriLaControlComponentName.VOLUME_BUTTON]=true;this.setControlStyle(b);this.setClassName(null,"liveact-controls--audio")};a.setupStyleSwipe=function(){this.setupStyleNoSeekBar();var b={visibility:true};b[CriLaControlComponentName.SWIPE_MODE_BUTTON]=true;b[CriLaControlComponentName.ZOOM_IN_BUTTON]=true;b[CriLaControlComponentName.ZOOM_OUT_BUTTON]=true;this.setControlStyle(b);this.setClassName(null,"liveact-controls--swipe")};a.setupStyleAllaroundImage=function(){this.setupStyleNoSeekBar();var b={visibility:true};b[CriLaControlComponentName.GYRO_BUTTON]=false;b[CriLaControlComponentName.ZOOM_IN_BUTTON]=true;b[CriLaControlComponentName.ZOOM_OUT_BUTTON]=true;b[CriLaControlComponentName.FULLSCREEN_BUTTON]=true;this.setControlStyle(b);this.setClassName(null,"liveact-controls--swipe")};a.resetSeekBar=function(b,c){this.seekBar_.reset(b,c);this.time_.reset(b,c);this.chapterMiniMenu_.reset(b,c);this.playbackRangeMiniMenu_.reset(b,c);this.setChapterSeparatorsFrame([]);this.setFrame(0)};a.getFrame=function(){return this.seekBar_.getFrame()};a.setFrame=function(b){this.seekBar_.setFrame(b);this.time_.setFrame(b)};a.setPlaybackRangeFrame=function(b,c){this.seekBar_.setPlaybackRangeFrame(b,c);this.time_.setPlaybackRangeFrame(b,c);this.playbackRangeMiniMenu_.setPlaybackRangeFrame(b,c)};a.getChapterSeparatorsFrame=function(){return this.seekBar_.getSeparatorsFrame()};a.getChapterSeparatorsTimeMs=function(){return this.seekBar_.getSeparatorsTimeMs()};a.setChapterSeparatorsFrame=function(b){this.seekBar_.setSeparatorsFrame(b);this.chapterMiniMenu_.setSeparators(b,"frame")};a.setControlVisibility=function(b){var c=this.controlElem_;CriLaHtmlCss.setVisibility(c,b)};a.getAlpha=function(){return this.controlElem_.style.opacity};a.setAlpha=function(c){if(this.lastAlpha_===c){return}var e=this.controlElem_;e.style.opacity=c;this.lastAlpha_=c;var b="liveact-controls--faded-out";var d=c<0.1;if(d){e.classList.add(b)}else{e.classList.remove(b)}};a.setScreenPlayVisibility=function(b){var c={};c[CriLaControlComponentName.SCREEN_PLAY_BUTTON]=Boolean(b);this.setControlStyle(c)};a.addRow=function(){var b=document.createElement("div");b.classList.add("lac-row");this.registerRowEventCommon_(b);var d=this.rows_;var c=this.controlElem_;if(d.length===0){c.appendChild(b);d.push(b)}else{c.insertBefore(b,d[0]);d.unshift(b)}};a.expandOrAddComponent_=function(c,b){if(this.enabledTemplate_){this.expandComponent_(c,b)}else{this.addComponent(c,b)}};a.addComponent=function(c,b,d){var e=this.rows_;if(d==null){d=e.length-1}if(d<0||d>=e.length){throw new Error("不正なコントロール行です: "+d)}e[d].appendChild(b.getElement());this.addComponentDict_(c,b);if(b instanceof CriLaPlayerControlMiniMenuButton){this.addMiniMenu_(c,b)}};a.addComponents=function(g){var d=this.componentDict_;try{for(var c in g){var b=g[c];this.addComponent(c,b)}}catch(f){this.componentDict_=d;throw f}};a.expandComponent_=function(f,e){var b=e.getSelector();var d=CriLaPolyfill.Array.from(this.controlElem_.querySelectorAll(b));if(d.length===0){return}if(d.length>1){throw new Error("同じコンポーネントを2つ以上配置することはできません")}var c=d[0];e.copyCssClasses(c);e.copyAttributes(c);c.parentNode.replaceChild(e.getElement(),c);this.addComponentDict_(f,e);if(e instanceof CriLaPlayerControlMiniMenuButton){this.addMiniMenu_(f,e)}};a.expandCustomComponents_=function(){var c=CriLaPlayerControlTemplateCustomButton.CSS_CLASS_NAME;var b=CriLaPolyfill.Array.from(this.controlElem_.getElementsByClassName(c));b.forEach(function(d){var f=d.getAttribute("data-name");if(!f){throw new Error("名前のないカスタムコンポーネントは追加できません。data-name属性を付与してください。")}var e=new CriLaPlayerControlTemplateCustomButton();this.expandCustomComponent_(f,e,d)},this)};a.expandCustomComponent_=function(d,c,b){c.copyCssClasses(b);c.copyAttributes(b);b.parentNode.replaceChild(c.getElement(),b);this.addComponentDict_(d,c);this.addMiniMenu_(d,c)};a.addMiniMenu_=function(d,c){if(!(c instanceof CriLaPlayerControlMiniMenuButton)){throw new Error("指定したコンポーネントはMiniMenuを持ちません")}d=String(d);c.addEventListener("click",function(g){this.closeOtherMiniMenu(d);g.stopPropagation()}.bind(this));var e=c.getMiniMenu();var b=c.getElement();var f=b.getAttribute("data-title");if(f!=null){e.setTitle(f)}this.miniMenuFieldElem_.appendChild(e.getElement());this.miniMenuDict_[d]=e};a.addScreenPlayButton=function(b){this.addComponentDict_(CriLaControlComponentName.SCREEN_PLAY_BUTTON,b);this.wrapperElem_.appendChild(b.getElement())};a.expandOrAddVolumeSliderComponent_=function(){if(!this.enabledTemplate_){return}if(CriUAChecker.isSmallScreen()){return}var c=this.getComponent(CriLaControlComponentName.VOLUME_BUTTON);if(c==null){return}var b=c.getElement();if(b.getAttribute("data-slider")!=="true"){return}var e=this.volumeSlider_;var d=e.getElement();b.insertAdjacentElement("afterend",d);this.addComponentDict_(CriLaControlComponentName.VOLUME_SLIDER,e)};a.addComponentDict_=function(c,b){c=String(c);if(!c){throw new Error("コントロールのコンポーネントに名前が設定されていません")}if(c in this.componentDict_){throw new Error("コントロールのコンポーネント名は重複させることができません")}this.componentDict_[c]=b};a.getComponent=function(b){b=String(b);return this.componentDict_[b]};a.registerRowEventCommon_=function(b){b.addEventListener("click",this.closeMiniMenuAll.bind(this,{excludePinnedMiniMenu:true}))};a.setControlStyle=function(e){var f=function(g){return g==="true"?true:g==="false"?false:Boolean(g)};if("visibility" in e){var b=e.visibility;this.setControlVisibility(f(b))}if("zoom" in e){var b=e.zoom;if(!("zoomIn" in e)){e.zoomIn=b}if(!("zoomOut" in e)){e.zoomOut=b}}if("showDuration" in e){this.setShowDuration_(Number(e.showDuration))}for(var d in e){var c=this.componentDict_[d];if(c){var b=e[d];c.setVisibility(f(b))}}};a.setClassName=function(c,d){var b=this.controlElem_;b.className="liveact-controls";if(d){b.classList.add(d)}};a.append=function(b){b.appendChild(this.controlElem_)};a.addEventListener=function(b,d,c){this.controlElem_.addEventListener(b,d,c)};a.dispatchEvent=function(b){this.controlElem_.dispatchEvent(b)};a.dispatchEventByType=function(d,b){var c=b||{};this.dispatchEvent(new CriLaPolyfill.Event.CustomEvent(d,{bubbles:false,cancellable:false,detail:c}))};a.setButtonState=function(b,c){if(this.componentDict_[b]){this.componentDict_[b].setState(c)}};a.setChapterSeparatorAddButtonState=function(b){this.chapterMiniMenu_.enableAddButton(b)};a.seekLastFrame=function(){this.seekBar_.seekLastFrame();this.time_.seekLastFrame()};a.setLoadedFrame=function(b){this.seekBar_.setLoadedFrame(b)};a.setVolume=function(b){this.volumeSlider_.setVolume(b);this.setButtonState(CriLaControlComponentName.VOLUME_BUTTON,b>0)};a.getVolume=function(){this.volumeSlider_.getVolume()};a.stepFadeTimeMs_=function(b){this.setFadeTimeMs_(this.fadeTimeMs_+b)};a.setFadeTimeMs_=function(b){b=Math.max(b,0);b=Math.min(b,this.showDuration_);this.fadeTimeMs_=b};a.updateAlpha=function(c){var b=1;if(this.showDuration_>=0){this.stepFadeTimeMs_(-c);b=Math.min(1,this.fadeTimeMs_/500)}this.setAlpha(b)};a.resetAlpha=function(){this.setAlpha(1);this.fadeTimeMs_=this.showDuration_};a.setShowDuration_=function(b){this.showDuration_=b;this.resetAlpha()};a.getMiniMenuNames=function(b){b=b||{excludePinnedMiniMenu:false};var d=b.excludePinnedMiniMenu===true;var c=Object.keys(this.miniMenuDict_);if(d){c=c.filter(function(e){return !this.miniMenuDict_[e].isPinned()},this)}return c};a.isMiniMenuOpen=function(b){return this.miniMenuDict_[b].isOpen()};a.isMiniMenuOpenAny=function(b){return this.getMiniMenuNames(b).some(this.isMiniMenuOpen,this)};a.closeMiniMenu=function(b){var c=this.miniMenuDict_[b];if(c){c.close()}};a.closeMiniMenuAll=function(b){this.getMiniMenuNames(b).forEach(this.closeMiniMenu,this)};a.closeOtherMiniMenu=function(b){Object.keys(this.miniMenuDict_).filter(function(c){return c!==b},this).forEach(this.closeMiniMenu,this)};a.isEnabledPlaybackRangeAdjustmentMode=function(){return this.enabledPlaybackRangeAdjustmentMode_};a.enablePlaybackRangeAdjustmentMode=function(c){if(this.enabledPlaybackRangeAdjustmentMode_===c){return}this.enabledPlaybackRangeAdjustmentMode_=c;var b="liveact-controls--playback-range-adjustment-mode";if(c){this.controlElem_.classList.add(b);this.playbackRangeMiniMenu_.open()}else{this.controlElem_.classList.remove(b);this.playbackRangeMiniMenu_.close()}this.dispatchEventByType(CriLaControlEvent.PLAYBACK_RANGE_ADJUSTMENT_MODE_CHANGED,{enabledMode:c})}})(CriLaPlayerControl.prototype);function CriLaC00T(a){this.elem_=document.createElement("div");this.selector_="."+a;this.addClassName(a)}(function(a){a.addClassName=function(b){this.elem_.classList.add(b)};a.removeClassName=function(b){this.elem_.classList.remove(b)};a.setVisibility=function(b){var c=this.elem_;CriLaHtmlCss.setVisibility(c,b)};a.getElement=function(){return this.elem_};a.getSelector=function(){return this.selector_};a.copyAttributes=function(b){CriLaPolyfill.Array.from(b.attributes).forEach(function(c){if(c.name!=="class"){this.elem_.setAttribute(c.name,c.value)}},this)};a.copyCssClasses=function(b){CriLaPolyfill.Array.from(b.classList).forEach(function(c){this.elem_.classList.add(c)},this)};a.addEventListener=function(b,d,c){this.elem_.addEventListener(b,d,c)};a.removeEventListener=function(b,c){this.elem_.removeEventListener(b,c)};a.dispatchEvent=function(b){this.elem_.dispatchEvent(b)};a.dispatchEventByType=function(d,b){var c=b||{};this.dispatchEvent(new CriLaPolyfill.Event.CustomEvent(d,{bubbles:false,cancellable:false,detail:c}))}})(CriLaC00T.prototype);function CriLaTimeSubcomponent(){this.frame_=0;this.framerate_=30;this.sceneFrameRange_=new CriLaFrameRange(0,30);this.playbackFrameRange_=new CriLaFrameRange(0,30)}(function(a){a.reset=function(b,c){this.framerate_=c;this.sceneFrameRange_.duration=b;this.playbackFrameRange_.begin=0;this.playbackFrameRange_.duration=b};a.setFrame=function(b){b=this.playbackFrameRange_.clamp(b);if(this.playbackFrameRange_.isExceededLastFrame(b)){this.seekLastFrame()}else{this.setFrame_(b)}};a.setFrame_=function(b){this.frame_=b};a.getFrame=function(){return this.frame_};a.getPlayableFrame=function(){return this.playbackFrameRange_.clampWithPlayableFrame(this.frame_)};a.seekLastFrame=function(){this.setFrame_(this.playbackFrameRange_.end)};a.setPlaybackRangeFrame=function(c,d){var b=this.playbackFrameRange_;if(b.eq(b.begin,c)&&b.eq(b.end,d)){return}b.begin=c;b.end=d;this.setFrame(this.getFrame())};a.getPlaybackFrameRange=function(){return this.playbackFrameRange_};a.getSceneFrameRange=function(){return this.sceneFrameRange_};a.isProhibitedFrame=function(d){var b=this.playbackFrameRange_;var c=b.between(b.begin,b.end,d);return !c};a.getPositionFromFrame=function(c){var b=this.sceneFrameRange_.duration;if(b===0){return 0}return CriGrxMath.clamp(0,1,c/b)};a.getFrameFromPosition=function(b,c){var d=b*this.sceneFrameRange_.duration;if(c){d=Math.round(d)}return d};a.getSecondFromFrame=function(b){return CriUnitValue.frameToSecond(this.framerate_,b)}})(CriLaTimeSubcomponent.prototype);function CriLaC00W(){CriLaC00T.call(this,"lac-time");this.time_=new CriLaTimeSubcomponent()}(function(b,c){CriLaPolyfill.Object.setPrototypeOf(b,c);b.reset=function(d,e){this.time_.reset(d,e)};b.setPlaybackRangeFrame=function(d,e){this.time_.setPlaybackRangeFrame(d,e)};b.setFrame=function(d){this.time_.setFrame(d);this.updateFrame_()};b.seekLastFrame=function(){this.time_.seekLastFrame();this.updateFrame_()};b.updateFrame_=function(){var i=this.time_.getFrame();var d=this.time_.getSceneFrameRange();var h=a(this.time_.getSecondFromFrame(i));var f=a(this.time_.getSecondFromFrame(d.end));var e=h+"/"+f;var g=this.elem_;if(g.innerText!==e){g.innerText=e}};function a(d){d=Math.floor(d);var e=Math.floor(d/60);d=d%60;d=("00"+d).slice(-2);return e+":"+d}})(CriLaC00W.prototype,CriLaC00T.prototype);function CriLaC00U(a){CriLaC00T.call(this,a);this.cpe_=new CriLaCustomPointerEvent(this.getElement());this.addClassName("lac-button")}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.setState=function(c){c?this.addClassName("lac-buttonon"):this.removeClassName("lac-buttonon")};a.addEventListener=function(c,e,d){if(c==="click"){b.addEventListener.call(this,c,e,d);return}this.cpe_.addEventListener(c,e,d)};a.removeEventListener=function(c,d){if(c==="click"){b.removeEventListener.call(this,c,d);return}this.cpe_.removeEventListener(c,d)}})(CriLaC00U.prototype,CriLaC00T.prototype);function CriLaPlayerControlButton(c,a){var b=this;CriLaC00U.call(b,c);if(a){b.addEventListener("down",function(){a()})}}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a)})(CriLaPlayerControlButton.prototype,CriLaC00U.prototype);function CriLaPlayerControlPressButton(f,d){var c=this;CriLaC00U.call(c,f);var b=false;var a;var e=(function(){return function(i){if(!a){a=i}var h=i-a;a=i;return h}})();var g=function(h){if(b){d(e(h));requestAnimationFrame(g)}};c.addEventListener("down",function(){b=true;a=void (0);requestAnimationFrame(g)});c.addEventListener("up",function(){b=false});c.addEventListener("out",function(){b=false})}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a)})(CriLaPlayerControlPressButton.prototype,CriLaC00U.prototype);function CriLaPlayerControlMiniMenuButton(c,b,e,d){var a=this;a.minimenu_=b;b.addEventListener("open",function(){a.setState(true)});b.addEventListener("close",function(){a.setState(false)});if(e){b.addEventListener("open",e)}if(d){b.addEventListener("close",d)}CriLaPlayerControlButton.call(this,c);a.addEventListener("click",function(){if(a.minimenu_.isOpen()){a.minimenu_.close()}else{a.minimenu_.open()}})}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.getMiniMenu=function(){return this.minimenu_}})(CriLaPlayerControlMiniMenuButton.prototype,CriLaPlayerControlButton.prototype);function CriLaPlaybackRateButton(a){var b=new CriLaPlayerControlPlaybackRateMiniMenu();CriLaPlayerControlMiniMenuButton.call(this,"lac-playback-rate",b);b.addEventListener("playbackratechanged",function(d){var c=d.detail.playbackRate;this.setPlaybackRate(c)}.bind(this));this.setPlaybackRate(1)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.setPlaybackRate=function(c){this.elem_.setAttribute("data-playback-rate",c.toFixed(2));this.minimenu_.setPlaybackRate(c)};b.updatePlaybackRateList=function(){var d=this.getElement().getAttribute("data-list")||"0.5,1,1.5,2";var c=d.split(",").map(function(e){return e.trim()}).map(Number).filter(Boolean).filter(CriGrxMath.clamp.bind(null,0,2));if(c.length===0){console.warn("再生速度UIの設定が不正です。data-listアトリビュートをご確認ください。")}c.push(1);c.sort();c=c.filter(function(h,g,f){return g===f.indexOf(h)});c.reverse();this.minimenu_.setPlaybackRateList(c)}})(CriLaPlaybackRateButton.prototype,CriLaPlayerControlMiniMenuButton.prototype);function CriLaPlayerControlTemplateCustomButton(){var a=new CriLaPlayerControlCustomMiniMenu();CriLaPlayerControlMiniMenuButton.call(this,this.constructor.CSS_CLASS_NAME,a)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.setMenuHeaderHtml=function(c){this.minimenu_.setHeaderHtml(c)};b.setMenuHeaderElement=function(c){this.minimenu_.setHeaderElement(c)};b.setMenuBodyHtml=function(c){this.minimenu_.setBodyHtml(c)};b.setMenuBodyElement=function(c){this.minimenu_.setBodyElement(c)};b.setMenuFooterHtml=function(c){this.minimenu_.setFooterHtml(c)};b.setMenuFooterElement=function(c){this.minimenu_.setFooterElement(c)};b.addMenuCssClassName=function(c){this.minimenu_.addClassName(c)};b.removeMenuCssClassName=function(c){this.minimenu_.removeClassName(c)};b.setMenuHtml=b.setMenuBodyHtml;b.setMenuElement=b.setMenuBodyElement})(CriLaPlayerControlTemplateCustomButton.prototype,CriLaPlayerControlMiniMenuButton.prototype);CriLaPlayerControlTemplateCustomButton.CSS_CLASS_NAME="lac-custom-button";CriLaPlayerControlButton.create=function(b,a){var f="";var d="click";var e="";switch(b){case CriLaControlComponentName.SCREEN_PLAY_BUTTON:f="lac-screen-play";e=CriLaControlEvent.SCREEN_PLAY_BUTTON_CLICKED;break;case CriLaControlComponentName.PLAY_BUTTON:f="lac-play";e=CriLaControlEvent.PLAY_BUTTON_CLICKED;break;case CriLaControlComponentName.FULLSCREEN_BUTTON:f="lac-fullscreen";e=CriLaControlEvent.FULLSCREEN_BUTTON_CLICKED;break;case CriLaControlComponentName.VOLUME_BUTTON:f="lac-volume";e=CriLaControlEvent.VOLUME_BUTTON_CLICKED;break;case CriLaControlComponentName.LOOP_BUTTON:f="lac-loop";e=CriLaControlEvent.LOOP_BUTTON_CLICKED;break;case CriLaControlComponentName.SWIPE_MODE_BUTTON:f="lac-swipe-ui-mode-toggle";e=CriLaControlEvent.SWIPE_MODE_BUTTON_CLICKED;d="down";break;case CriLaControlComponentName.GYRO_BUTTON:f="lac-gyro-sensor";e=CriLaControlEvent.GYRO_BUTTON_CLICKED;d="down";break;case CriLaControlComponentName.PREV_FRAME_BUTTON:f="lac-prev-frame";e=CriLaControlEvent.PREV_FRAME_CLICKED;d="down";break;case CriLaControlComponentName.NEXT_FRAME_BUTTON:f="lac-next-frame";e=CriLaControlEvent.NEXT_FRAME_CLICKED;d="down";break;default:return null}var c=new CriLaPlayerControlButton(f);c.addEventListener(d,function(){var g=new CriLaPolyfill.Event.CustomEvent(e);a.dispatchEvent(g)});return c};CriLaPlayerControlPressButton.create=function(b,a){var c="";var d="";switch(b){case CriLaControlComponentName.ZOOM_IN_BUTTON:c="lac-swipe-ui-zoom-in";d=CriLaControlEvent.ZOOM_IN_BUTTON_PRESSED;break;case CriLaControlComponentName.ZOOM_OUT_BUTTON:c="lac-swipe-ui-zoom-out";d=CriLaControlEvent.ZOOM_OUT_BUTTON_PRESSED;break;default:return null}return new CriLaPlayerControlPressButton(c,function(e){var f={deltaTime:e};var g=new CriLaPolyfill.Event.CustomEvent(d,{bubbles:false,cancelable:false,detail:f});a.dispatchEvent(g)})};CriLaPlayerControlMiniMenuButton.create=function(b,a){var e;var d;switch(b){case CriLaControlComponentName.CHAPTER_BUTTON:e="lac-chapter";d=new CriLaPlayerControlChapterMiniMenu();break;case CriLaControlComponentName.PLAYBACK_RANGE_BUTTON:e="lac-playback-range";d=new CriLaPlayerControlPlaybackRangeMiniMenu();break;case CriLaControlComponentName.PLAYBACK_RATE_BUTTON:var c=new CriLaPlaybackRateButton(a);return c;default:return null}return new CriLaPlayerControlMiniMenuButton(e,d)};function CriLaSliderBase(b,a){CriLaC00T.call(this,"lac-slider");this.initialize_(b,a);this.setup_()}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.initialize_=function(f,e){var g=this.getElement();var j=document.createElement("div");j.classList.add("lac-slider-wrap");g.appendChild(j);var d=document.createElement("div");d.classList.add("lac-slider-background");j.appendChild(d);var h=document.createElement("div");h.classList.add("lac-slider-background-inner");d.appendChild(h);var c=document.createElement("div");c.classList.add("lac-slider-base");j.appendChild(c);var i=document.createElement("div");i.classList.add("lac-slider-pointer");j.appendChild(i);this.sliderElem_=g;this.sliderWrapElem_=j;this.sliderBackgroundElem_=d;this.sliderBackgroundInnerElem_=h;this.sliderBaseElem_=c;this.pointerElem_=i;this.isHolding_=false;d.addEventListener("touchstart",this.onDownSlider_.bind(this));d.addEventListener("mousedown",this.onDownSlider_.bind(this));i.addEventListener("touchstart",this.onStartHoldingPointer_.bind(this));i.addEventListener("mousedown",this.onStartHoldingPointer_.bind(this));f.addEventListener("touchmove",this.onMovePointer_.bind(this));f.addEventListener("mousemove",this.onMovePointer_.bind(this));f.addEventListener("touchend",this.onEndHoldingPointer_.bind(this));f.addEventListener("mouseup",this.onEndHoldingPointer_.bind(this))};b.setup_=function(){this.position_=0;this.setPosition(this.position_)};b.setPosition=function(c){c=CriGrxMath.clamp(0,1,c);this.setPositionToElem_(this.pointerElem_,c);this.position_=c};b.getPosition=function(){return this.position_};b.getPositionStyleString_=function(c){return c*100+"%"};b.setPositionToElem_=function(d,c){d.style.left=this.getPositionStyleString_(c)};b.dispatchChangeEvent_=function(d){var c=this.getPosition();this.dispatchEventByType(d,{position:c})};b.setPositionByEvent_=function(d){var c=CriLaHtmlCss.calcEventNormalizedLeftPosition(this.sliderBaseElem_,d);var e=this.position_;this.setPosition(c);if(e!==c){this.dispatchChangeEvent_("change")}};b.onDownSlider_=function(c){this.isHolding_=true;c.preventDefault();this.dispatchChangeEvent_("changestart");this.setPositionByEvent_(c);this.dispatchChangeEvent_("changeend")};b.onStartHoldingPointer_=function(c){if(!this.isHolding_){this.isHolding_=true;c.preventDefault();this.dispatchChangeEvent_("changestart")}};b.onMovePointer_=function(c){if(this.isHolding_){this.setPositionByEvent_(c);c.preventDefault()}};b.onEndHoldingPointer_=function(c){if(this.isHolding_){this.isHolding_=false;c.preventDefault();this.dispatchChangeEvent_("changeend")}}})(CriLaSliderBase.prototype,CriLaC00T.prototype);function CriLaC00X(b,a){CriLaSliderBase.call(this,b,a)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.initialize_=function(h,k){a.initialize_.call(this,h,k);this.addClassName("lac-slider--seek");this.addClassName("lac-seekbar");this.selector_=".lac-seekbar,.lac-slider.lac-slider--seek";this.time_=new CriLaTimeSubcomponent();this.lastLoadedFrame_=null;this.loadedColor_="rgba(140, 140, 140, 1)";this.loadingColor_="rgba(70, 70, 70, 1)";this.prohibitedColor_="rgba(0, 0, 0, 1)";this.playbackColor_="rgba(0, 0, 0, 0)";this.sliderWrapElem_.classList.add("lac-seekbar-wrap");this.sliderBackgroundElem_.classList.add("lac-seekbar-background");this.sliderBackgroundInnerElem_.classList.add("lac-seekbar-background-inner");this.sliderBaseElem_.classList.add("lac-seekbar-base");this.pointerElem_.classList.add("lac-seekbar-pointer");var d=this.sliderWrapElem_;var e=document.createElement("div");e.classList.add("lac-seekbar-loading");d.appendChild(e);var g=document.createElement("div");g.classList.add("lac-seekbar-current");d.appendChild(g);var j=document.createElement("div");j.classList.add("lac-seekbar-prohibited");d.appendChild(j);this.seekbarCurrentElem_=g;this.seekbarLoadingElem_=e;this.seekbarProhibitedElem_=j;var f=document.createElement("div");f.classList.add("lac-seekbar-separator-list");d.appendChild(f);var i=document.createElement("div");i.classList.add("lac-playback-range-arrow-list");d.appendChild(i);var c=document.createElement("div");var l=document.createElement("div");[c,l].forEach(function(m){m.classList.add("lac-playback-range-arrow");i.appendChild(m)});this.separatorListElem_=f;this.separatorElems_=[];this.separatorsFrame_=[];this.playbackRangeArrowListElem_=i;this.playbackRangeArrowBeginElem_=c;this.playbackRangeArrowEndElem_=l;this.isHolding_=false;this.holdingPlaybackRangeArrowElem_=null;[c,l].forEach(function(m){m.addEventListener("touchstart",this.onStartHoldingPlaybackRangeArrow_.bind(this));m.addEventListener("mousedown",this.onStartHoldingPlaybackRangeArrow_.bind(this))},this);h.addEventListener("touchmove",this.onMovePlaybackRangeArrow_.bind(this));h.addEventListener("mousemove",this.onMovePlaybackRangeArrow_.bind(this));h.addEventListener("touchend",this.onEndHoldingPlaybackRangeArrow_.bind(this));h.addEventListener("mouseup",this.onEndHoldingPlaybackRangeArrow_.bind(this));this.addEventListener("changestart",function(m){k.dispatchEventByType(CriLaControlEvent.SEEK_START)});this.addEventListener("changeend",function(m){k.dispatchEventByType(CriLaControlEvent.SEEK_END)});this.addEventListener("change",function(m){this.onChangeEvent_(m,k)}.bind(this));this.addEventListener("separatorchanged",function(m){k.dispatchEventByType(CriLaControlEvent.CHAPTER_SEPARATOR_CHANGED,{frames:m.detail.frames})});this.addEventListener("playbackrangechanged",function(m){k.dispatchEventByType(CriLaControlEvent.PLAYBACK_RANGE_CHANGED,{beginFrame:m.detail.beginFrame,endFrame:m.detail.endFrame})});this.addEventListener("playbackrangemovestart",function(m){k.dispatchEventByType(CriLaControlEvent.PLAYBACK_RANGE_MOVE_START)});this.addEventListener("playbackrangemoveend",function(m){k.dispatchEventByType(CriLaControlEvent.PLAYBACK_RANGE_MOVE_END)})};b.setup_=function(){a.setup_.call(this);this.setLoadedFrame([]);this.setFrame(0);this.updatePlaybackRangeArrowPosition_();this.updateProhibitedSeekbar_()};b.reset=function(c,d){this.time_.reset(c,d)};b.getNormalizePosition=function(c){return this.time_.getPositionFromFrame(c)};b.setLoadedFrame=function(e){var f=function(h,g){return h.start===g.start&&h.end===g.end};if(CriLaUtility.Array.isEqual(e,this.lastLoadedFrame_,f)){return}this.lastLoadedFrame_=e;var c=[];e.forEach(function(g){c.push(this.getNormalizePosition(g.start)*100);c.push(this.getNormalizePosition(g.end)*100)},this);var d=CriLaHtmlCss.createHorizontalStripedGradient(this.loadingColor_,this.loadedColor_,c);this.seekbarLoadingElem_.style.background=d};b.setFrame=function(c){this.time_.setFrame(c);this.updateFrame_()};b.seekLastFrame=function(){this.time_.seekLastFrame();this.updateFrame_()};b.updateFrame_=function(){var d=this.time_.getFrame();var c=this.getNormalizePosition(d);this.setPosition(c)};b.getFrame=function(){return this.time_.getPlayableFrame()};b.setPosition=function(c){a.setPosition.call(this,c);this.seekbarCurrentElem_.style.width=this.getPositionStyleString_(c)};b.updateProhibitedSeekbar_=function(){var c=this.time_.getPlaybackFrameRange();var d=this.getNormalizePosition(c.begin);var e=this.getNormalizePosition(c.end);var f=CriLaHtmlCss.createHorizontalStripedGradient(this.prohibitedColor_,this.playbackColor_,[d*100,e*100]);this.seekbarProhibitedElem_.style.background=f};b.isProhibitedFrame_=function(c){return this.time_.isProhibitedFrame(c)};b.onChangeEvent_=function(e,c){var d=this.getFrame();var g=e.detail.position||0;var f=this.time_.getFrameFromPosition(g);this.setFrame(f);f=this.getFrame();if(d!==f){c.dispatchEventByType(CriLaControlEvent.SEEK,{frame:f})}};b.onDownSeekbar_=function(c){var f=CriLaHtmlCss.calcEventNormalizedLeftPosition(this.sliderBaseElem_,c);var d=this.time_.getFrameFromPosition(f);if(this.isProhibitedFrame_(d)){return}a.onDownSeekbar_.call(this,c)};b.setPlaybackRangeFrame=function(c,d){this.time_.setPlaybackRangeFrame(c,d);this.updatePlaybackRangeArrowPosition_();this.updateProhibitedSeekbar_()};b.onStartHoldingPlaybackRangeArrow_=function(c){this.holdingPlaybackRangeArrowElem_=c.target;this.dispatchEventByType("playbackrangemovestart")};b.onMovePlaybackRangeArrow_=function(h){if(!this.holdingPlaybackRangeArrowElem_){return}var k=CriLaHtmlCss.calcEventNormalizedLeftPosition(this.sliderBaseElem_,h);var i=this.time_.getFrameFromPosition(k,true);var f=this.time_.getPlaybackFrameRange().clone();var d=this.holdingPlaybackRangeArrowElem_===this.playbackRangeArrowBeginElem_;var j=d?i:f.begin;var g=d?f.end:i;if(CriLaFrameRange.op.gt(j,g)){var c=j;j=g;g=c;if(d){this.holdingPlaybackRangeArrowElem_=this.playbackRangeArrowEndElem_}else{this.holdingPlaybackRangeArrowElem_=this.playbackRangeArrowBeginElem_}}this.time_.setPlaybackRangeFrame(j,g);this.updatePlaybackRangeArrowPosition_();this.dispatchEventByType("playbackrangechanged",{beginFrame:j,endFrame:g})};b.onEndHoldingPlaybackRangeArrow_=function(c){if(this.holdingPlaybackRangeArrowElem_){this.holdingPlaybackRangeArrowElem_=null;this.dispatchEventByType("playbackrangemoveend")}};b.updatePlaybackRangeArrowPosition_=function(){var c=this.time_.getPlaybackFrameRange();var e=c.begin;var f=this.getNormalizePosition(e);this.setPositionToElem_(this.playbackRangeArrowBeginElem_,f);var d=c.end;var g=this.getNormalizePosition(d);this.setPositionToElem_(this.playbackRangeArrowEndElem_,g)};b.getSeparatorsFrame=function(){return this.separatorsFrame_};b.getSeparatorsTimeMs=function(){return this.separatorsFrame_.map(function(c){return this.time_.getSecondFromFrame(c)*1000},this)};b.setSeparatorsFrame=function(c){if(CriLaUtility.Array.isEqual(c,this.separatorsFrame_)){return}CriLaUtility.Array.copy(c,this.separatorsFrame_);this.updateSeparatorElems();this.dispatchEventByType("separatorchanged",{frames:this.separatorsFrame_})};b.updateSeparatorElems=function(){this.separatorElems_.forEach(function(c){this.separatorListElem_.removeChild(c)},this);this.separatorElems_=this.separatorsFrame_.map(this.createSeparatorElem_,this);this.separatorElems_.forEach(function(c){this.separatorListElem_.appendChild(c)},this)};b.createSeparatorElem_=function(d){var e=this.getNormalizePosition(d);var c=document.createElement("div");c.classList.add("lac-seekbar-separator");this.setPositionToElem_(c,e);return c}})(CriLaC00X.prototype,CriLaSliderBase.prototype);function CriLaVolumeSliderComponent(b,a){CriLaSliderBase.call(this,b,a)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.initialize_=function(d,c){a.initialize_.call(this,d,c);this.addClassName("lac-slider--volume");this.addClassName("lac-volume-slider");this.selector_=".lac-volume-slider,.lac-slider.lac-slider--volume";this.sliderWrapElem_.classList.add("lac-volume-slider-wrap");this.sliderBackgroundElem_.classList.add("lac-volume-slider-background");this.sliderBackgroundInnerElem_.classList.add("lac-volume-slider-background-inner");this.sliderBaseElem_.classList.add("lac-volume-slider-base");this.pointerElem_.classList.add("lac-volume-slider-pointer");this.addEventListener("change",function(f){c.dispatchEventByType(CriLaControlEvent.VOLUME_CHANGED,{volume:f.detail.position})});this.addEventListener("changestart",function(f){c.dispatchEventByType(CriLaControlEvent.VOLUME_CHANGE_START,{volume:f.detail.position})})};b.setVolume=function(d){d=CriGrxMath.clamp(0,1,d);if(CriUAChecker.isMobile()){d=d>0?1:0}var c=d;this.setPosition(c)};b.getVolume=function(){return this.getPosition()}})(CriLaVolumeSliderComponent.prototype,CriLaSliderBase.prototype);function CriLaPlayerControlMiniMenuBase(){CriLaC00T.call(this,"lac-minimenu");this.isOpen_=false;this.isPinned_=false;var c=this.elem_;var b=document.createElement("div");b.classList.add("lac-minimenu-wrap");c.appendChild(b);var f=document.createElement("div");f.classList.add("lac-minimenu-header");b.appendChild(f);var d=document.createElement("div");d.classList.add("lac-minimenu-pin");d.classList.add("lac-button");d.classList.add("lac-pin");b.appendChild(d);d.addEventListener("click",function(){var g=!this.isPinned();this.enablePin(g);if(g){d.classList.add("lac-buttonon")}else{d.classList.remove("lac-buttonon")}}.bind(this),false);var a=document.createElement("div");a.classList.add("lac-minimenu-body");b.appendChild(a);var e=document.createElement("div");e.classList.add("lac-minimenu-footer");b.appendChild(e);this.wrapElem_=b;this.headerElem_=f;this.bodyElem_=a;this.footerElem_=e;this.pinButton_=d}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.open=function(){if(!this.isOpen_){this.isOpen_=true;this.addClassName("lac-minimenu--open");this.dispatchEventByType("open")}};a.close=function(){if(this.isOpen_){this.isOpen_=false;this.removeClassName("lac-minimenu--open");this.dispatchEventByType("close")}};a.isOpen=function(){return this.isOpen_};a.enablePin=function(c){this.isPinned_=c};a.isPinned=function(){return this.isPinned_};a.setTitle=function(c){this.headerElem_.textContent=c}})(CriLaPlayerControlMiniMenuBase.prototype,CriLaC00T.prototype);function CriLaPlayerControlCustomMiniMenu(){var a=this;CriLaPlayerControlMiniMenuBase.call(a);a.addClassName("lac-custom-minimenu")}(function(c,b){CriLaPolyfill.Object.setPrototypeOf(c,b);c.open=function(){if(this.hasContent()){b.open.call(this)}};c.setHeaderHtml=function(e){this.headerElem_.innerHTML=e};c.setBodyHtml=function(e){this.bodyElem_.innerHTML=e};c.setFooterHtml=function(e){this.footerElem_.innerHTML=e};c.setHeaderElement=function(e){a(this.headerElem_);this.headerElem_.appendChild(e)};c.setBodyElement=function(e){a(this.bodyElem_);this.bodyElem_.appendChild(e)};c.setFooterElement=function(e){a(this.footerElem_);this.footerElem_.appendChild(e)};c.resetContent=function(){[this.headerElem_,this.bodyElem_,this.footerElem_].forEach(a)};c.hasContent=function(){return[this.headerElem_,this.bodyElem_,this.footerElem_].some(d)};function a(e){while(e.firstChild){e.removeChild(e.firstChild)}}function d(e){return e.firstChild!=null}})(CriLaPlayerControlCustomMiniMenu.prototype,CriLaPlayerControlMiniMenuBase.prototype);function CriLaTimeInputSubComponent(c,b,e,d){this.CriLaP11m=new CriLaSubEventDispatcher();this.CriLaP11m.delegate(this);this.frame_=0;this.framerate_=c;this.range_=new CriLaFrameRange(Math.floor(b),Math.floor(e));var a=this.elem_=document.createElement("input");a.type="number";a.addEventListener("change",function(g){var f=Number(a.value);f=isNaN(f)?0:f;this.setValue(f)}.bind(this));this.unit_=null;this.setUnitByString(d)}(function(a){a.getElement=function(){return this.elem_};a.setUnit=function(c){var b=this.unit_;this.unit_=c;this.onUnitChange_(b,c)};a.setUnitByString=function(c){var b=c==="frame"?CriLaTimeInputSubComponent.Unit.FRAME:CriLaTimeInputSubComponent.Unit.SECOND;this.setUnit(b)};a.onUnitChange_=function(b,c){if(b===c){return}this.update_()};a.getFrame=function(){return this.frame_};a.setFrame=function(c){var b=this.frame_;this.frame_=c;this.update_();if(b!==c){this.dispatchEvent("change",{frame:c})}};a.setValue=function(b){this.unit_.setValueTo(this,b)};a.setFramerate=function(b){this.framerate_=b;this.update_()};a.setMinFrame=function(b){this.range_.begin=b;this.update_()};a.setMaxFrame=function(b){this.range_.end=b;this.update_()};a.update_=function(){var c=this.elem_;var d=this.unit_.getMin(this);var b=this.unit_.getMax(this);var e=this.unit_.getStep();c.min=d;c.max=b;c.step=e;var f=this.unit_.getValueFrom(this);this.elem_.value=f}})(CriLaTimeInputSubComponent.prototype);(function(){function a(){}(function(d){d.setValueTo=function(f,e){};d.getValueFrom=function(e){};d.getMin=function(e){};d.getMax=function(e){};d.getStep=function(){}})(a.prototype);function c(){a.call(this)}(function(d,e){CriLaPolyfill.Object.setPrototypeOf(d,e);d.setValueTo=function(g,f){g.setFrame(f)};d.getValueFrom=function(f){return f.getFrame()};d.getMin=function(f){return f.range_.begin};d.getMax=function(f){return f.range_.end};d.getStep=function(){return 1}})(c.prototype,a.prototype);function b(){a.call(this)}(function(d,e){CriLaPolyfill.Object.setPrototypeOf(d,e);d.setValueTo=function(g,f){var h=f*g.framerate_;h=Math.round(h);g.setFrame(h)};d.getValueFrom=function(g){var h=g.getFrame();var f=h/g.framerate_;return f.toFixed(1)};d.getMin=function(f){return f.range_.begin/f.framerate_};d.getMax=function(f){return f.range_.end/f.framerate_};d.getStep=function(){return 0.1}})(b.prototype,a.prototype);CriLaTimeInputSubComponent.Unit={FRAME:new c(),SECOND:new b()}})();function CriLaOnMiniMenuButton(d,e,b){CriLaC00T.call(this,"lac-onminimenu-button");var c=this.elem_;if(e){c.classList.add(e)}var a=document.createElement("div");a.classList.add("lac-onminimenu-inner-button");c.appendChild(a);if(b){a.classList.add(b)}if(d){a.textContent=d}this.innerElem_=a;this.isEnabled_=true}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.addEventListener=function(d,f,e){var c=this;b.addEventListener.call(this,d,function(){if(c.isEnabled_){f.apply(this,arguments)}},e)};a.getInnerElement=function(){return this.innerElem_};a.setText=function(c){return this.innerElem_.textContent=c};a.enable=function(c){this.isEnabled_=c;if(c){this.elem_.classList.remove("lac-onminimenu-button--disabled")}else{this.elem_.classList.add("lac-onminimenu-button--disabled")}};a.isEnabled=function(){return this.isEnabled_}})(CriLaOnMiniMenuButton.prototype,CriLaC00T.prototype);function CriLaOnMiniMenuButtonTimeUnit(){CriLaOnMiniMenuButton.call(this,"","lac-toggle-unit");this.unit_="";this.setUnit("frame")}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.toggleUnit=function(){var c=this.unit_==="frame"?"second":"frame";this.setUnit(c)};b.setUnit=function(c){this.unit_=c;this.setText("単位: "+(c==="frame"?"フレーム":"秒"))};b.getUnit=function(){return this.unit_}})(CriLaOnMiniMenuButtonTimeUnit.prototype,CriLaOnMiniMenuButton.prototype);function CriLaPlayerControlChapterMiniMenu(){var c=this;CriLaPlayerControlMiniMenuBase.call(c);this.sceneFrameRange_=new CriLaFrameRange(0,30);this.framerate_=30;this.separatorsFrame_=[];this.timeUnit_="frame";this.elem_.classList.add("lac-chapter-minimenu");this.headerElem_.textContent="チャプター設定";var b=document.createElement("ol");this.bodyElem_.appendChild(b);var a=new CriLaOnMiniMenuButton("追加","lac-chapter-add");this.footerElem_.appendChild(a.getElement());a.addEventListener("click",this.dispatchAddEvent_.bind(this),false);var d=new CriLaOnMiniMenuButton(this.getUnitButtonTextContent_(),"lac-toggle-unit");this.footerElem_.appendChild(d.getElement());d.addEventListener("click",this.onToggleUnit_.bind(this),false);this.itemListElem_=b;this.addButton_=a;this.toggleUnitButton_=d}(function(c,a){CriLaPolyfill.Object.setPrototypeOf(c,a);c.getTimeUnit=function(){return this.timeUnit_};c.addSeparator=function(e,d){d=d||"frame";var f=this.convertValue_(d,"frame",Number(e));f=this.sceneFrameRange_.clamp(f);this.separatorsFrame_.push(f);this.separatorsFrame_.sort(b);this.dispatchChangeEvent_();this.updateForm_()};c.updateSeparator=function(f,d,e){e=e||"frame";var g=this.convertValue_(e,"frame",Number(f));g=this.sceneFrameRange_.clamp(g);this.separatorsFrame_.splice(d,1,g);this.separatorsFrame_.sort(b);this.dispatchChangeEvent_();this.updateForm_();this.focusInputElemByFrame_(g)};c.setSeparators=function(d,e){e=e||"frame";var f=d.map(function(g){var h=this.convertValue_(e,"frame",Number(g));return this.sceneFrameRange_.clamp(h)},this).sort(b);if(CriLaUtility.Array.isEqual(f,this.separatorsFrame_)){return}CriLaUtility.Array.copy(f,this.separatorsFrame_);this.dispatchChangeEvent_();this.updateForm_()};c.removeSeparator=function(d){this.separatorsFrame_.splice(d,1);this.dispatchChangeEvent_();this.updateForm_()};c.clearSeparators=function(){this.separatorsFrame_.length=0;this.dispatchChangeEvent_();this.updateForm_()};c.reset=function(d,e){this.sceneFrameRange_.duration=d;this.framerate_=e;this.clearSeparators()};c.toggleTimeUnit=function(){this.timeUnit_=this.getNextTimeUnit_();this.updateForm_()};c.enableAddButton=function(d){this.addButton_.enable(d)};c.onChange_=function(g,f){var d=this.getItemElems_().indexOf(f);this.updateSeparator(g.target.value,d,this.timeUnit_)};c.onRemove_=function(g,f){var d=this.getItemElems_().indexOf(f);this.removeSeparator(d)};c.onToggleUnit_=function(d){this.toggleTimeUnit()};c.dispatchChangeEvent_=function(){this.dispatchEventByType("separatorchanged",{frames:this.separatorsFrame_})};c.dispatchAddEvent_=function(d){this.dispatchEventByType("separatoradded")};c.updateForm_=function(){var k=this.separatorsFrame_.map(function(i){return this.convertValue_("frame",this.timeUnit_,i)},this);var g=this.getItemElems_();if(k.length!==g.length){var f=0;while(f<k.length&&f<g.length){var j=k[f];var m=g[f];var h=m.querySelector("input");var l=this.formatValue_(j);var d=Number(h.value);if(l<d){var e=this.addItemElem_(f);e.querySelector("input").value=l;g.splice(f,0,e);++f}else{if(l>d){this.removeItemElem_(m);g.splice(f,1)}else{++f}}}while(g.length<k.length){var m=this.addItemElem_();g.push(m)}while(g.length>k.length){var m=g.pop();this.removeItemElem_(m)}}CriLaUtility.Array.zip(g,k).forEach(function(n){var i=n[0].querySelector("input");i.value=this.formatValue_(n[1]);i.step=this.getNumberStep_();i.max=this.getNumberMax_()},this);this.toggleUnitButton_.setText(this.getUnitButtonTextContent_())};c.getItemElems_=function(){return CriLaPolyfill.Array.from(this.itemListElem_.querySelectorAll(".lac-separator-form-item"))};c.removeItemElem_=function(d){this.itemListElem_.removeChild(d)};c.addItemElem_=function(d){var h=document.createElement("li");h.classList.add("lac-separator-form-item");h.classList.add("lac-separator-form-item--added-animation");var j=document.createElement("span");h.appendChild(j);j.classList.add("lac-separator-number");var g=document.createElement("input");h.appendChild(g);g.type="number";g.min=0;h.addEventListener("change",function(k){this.onChange_(k,h)}.bind(this),false);var i=document.createElement("span");h.appendChild(i);i.classList.add("lac-remove");i.addEventListener("click",function(k){this.onRemove_(k,h)}.bind(this),false);if(d!=null){var f=this.getItemElems_();if(d<f.length){f[d].insertAdjacentElement("beforebegin",h)}else{this.itemListElem_.appendChild(h)}}else{this.itemListElem_.appendChild(h)}var e=function(){h.classList.remove("lac-separator-form-item--added-animation");h.removeEventListener("animationend",e);g.focus()};h.addEventListener("animationend",e,false);return h};c.focusInputElemByFrame_=function(g){var d=this.getItemElems_().map(function(h){return h.querySelector("input")});var f=this.convertValue_("frame",this.timeUnit_,g);var e=CriLaPolyfill.Array.find(d,function(h){return Number(h.value)===f});if(e){e.focus()}};c.getUnitButtonTextContent_=function(){return"単位: "+this.getTimeUnitString_()};c.formatValue_=function(d){switch(this.timeUnit_){case"frame":return Number(d.toFixed(0));case"second":return Number(d.toFixed(2));default:throw new Error("Invalid time unit: "+this.timeUnit_)}};c.convertValue_=function(f,d,e){if(f===d){return e}switch(d){case"frame":return CriUnitValue.secondToFrame(this.framerate_,e);case"second":return CriUnitValue.frameToSecond(this.framerate_,e);default:throw new Error("Invalid time unit: "+d)}};c.getNumberMax_=function(){switch(this.timeUnit_){case"frame":return this.sceneFrameRange_.end;case"second":return CriUnitValue.frameToSecond(this.framerate_,this.sceneFrameRange_.end);default:throw new Error("Invalid time unit: "+this.timeUnit_)}};c.getNumberStep_=function(){switch(this.timeUnit_){case"frame":return 1;case"second":return 0.1;default:throw new Error("Invalid time unit: "+this.timeUnit_)}};c.getNextTimeUnit_=function(){switch(this.timeUnit_){case"frame":return"second";case"second":return"frame";default:throw new Error("Invalid time unit: "+this.timeUnit_)}};c.getTimeUnitString_=function(){switch(this.timeUnit_){case"frame":return"フレーム";case"second":return"秒";default:throw new Error("Invalid time unit: "+this.timeUnit_)}};function b(e,d){return e-d}})(CriLaPlayerControlChapterMiniMenu.prototype,CriLaPlayerControlMiniMenuBase.prototype);function CriLaPlayerControlPlaybackRangeMiniMenu(){var d=this;CriLaPlayerControlMiniMenuBase.call(d);d.sceneFrameRange_=new CriLaFrameRange(0,30);d.playbackFrameRange_=new CriLaFrameRange(0,30);d.enablePin(true);d.elem_.classList.add("lac-playback-range-minimenu");d.headerElem_.textContent="再生範囲調整モード";var a=this.createItem_("開始");var b=this.createItem_("終了");d.bodyElem_.appendChild(a.item);d.bodyElem_.appendChild(b.item);d.inputBegin_=a.input;d.inputEnd_=b.input;d.inputBegin_.addEventListener("change",d.onChange_.bind(d,d.inputBegin_));d.inputEnd_.addEventListener("change",d.onChange_.bind(d,d.inputEnd_));var e=new CriLaOnMiniMenuButtonTimeUnit();this.toggleUnitButton_=e;this.footerElem_.appendChild(e.getElement());e.addEventListener("click",this.onToggleUnitButtonClicked_.bind(this));var c=new CriLaOnMiniMenuButton("範囲リセット");this.rangeResetButton_=c;this.footerElem_.appendChild(c.getElement());c.addEventListener("click",this.onRangeResetButtonClicked_.bind(this))}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.reset=function(c,d){this.sceneFrameRange_.duration=c;this.inputBegin_.setFramerate(d);this.inputBegin_.setMaxFrame(c);this.inputEnd_.setFramerate(d);this.inputEnd_.setMaxFrame(c)};b.setPlaybackRangeFrame=function(c,d){this.inputBegin_.setFrame(c);this.inputEnd_.setFrame(d)};b.onChange_=function(d,f){var g=this.inputBegin_.getFrame();var h=this.inputEnd_.getFrame();if(g>h){var c=this.inputBegin_===d?this.inputEnd_:this.inputBegin_;c.setFrame(d.getFrame())}this.dispatchChangeEvent_()};b.createItem_=function(f){var e=document.createElement("div");e.classList.add("lac-playback-range-minimenu-item");var d=document.createElement("label");d.textContent=f;e.appendChild(d);var c=new CriLaTimeInputSubComponent(30,0,30,"frame");d.appendChild(c.getElement());return{item:e,label:d,input:c}};b.dispatchChangeEvent_=function(){var c=this.inputBegin_.getFrame();var d=this.inputEnd_.getFrame();this.dispatchEventByType("playbackrangechanged",{beginFrame:c,endFrame:d})};b.onToggleUnitButtonClicked_=function(f){var d=this.toggleUnitButton_;d.toggleUnit();var c=d.getUnit();this.inputBegin_.setUnitByString(c);this.inputEnd_.setUnitByString(c)};b.onRangeResetButtonClicked_=function(c){this.dispatchEventByType("playbackrangereset")}})(CriLaPlayerControlPlaybackRangeMiniMenu.prototype,CriLaPlayerControlMiniMenuBase.prototype);function CriLaPlaybackRateSlider(b,a){CriLaSliderBase.call(this,b,a)}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.initialize_=function(d,c){b.initialize_.call(this,d,c);this.addClassName("lac-slider--playback-rate");this.selector_=".lac-slider.lac-slider--playback-rate"}})(CriLaPlaybackRateSlider.prototype,CriLaSliderBase.prototype);function CriLaPlayerControlPlaybackRateMiniMenu(e){var c=this;CriLaPlayerControlMiniMenuBase.call(c);c.addClassName("lac-playback-rate-minimenu");c.playbackRate_=1;c.playbackRateMin_=1;c.playbackRateMax_=2;c.playbackRateList_=[c.playbackRate_];c.headerElem_.textContent="再生速度設定";var d=document.createElement("div");d.classList.add("lac-playback-rate-minimenu-line");c.bodyElem_.appendChild(d);var b=new CriLaPlaybackRateSlider(this.getElement());this.slider_=b;d.appendChild(b.getElement());b.addEventListener("change",this.onChangeSlider_.bind(this));var a=document.createElement("select");this.select_=a;d.appendChild(a);a.addEventListener("change",this.onChangeSelect_.bind(this))}(function(c,a){CriLaPolyfill.Object.setPrototypeOf(c,a);c.setPlaybackRateList=function(e){var d=e.map(b);this.select_.innerHTML="";d.forEach(function(f){this.select_.appendChild(f)},this);this.playbackRateList_=e;this.playbackRateMax_=Math.max.apply(null,e);this.playbackRateMin_=Math.min.apply(null,e);this.setPlaybackRate(1)};c.setPlaybackRate=function(e){var f=this.playbackRate_;var h=this.playbackRateList_.map(function(j){return Math.abs(j-e)});var g=Number.POSITIVE_INFINITY;var i=0;h.forEach(function(k,j){if(k<g){g=k;i=j}});e=this.playbackRateList_[i];var d=this.getPositionFromPlaybackRate_(e);this.slider_.setPosition(d);if(f!==e){this.select_.selectedIndex=i;this.playbackRate_=e;this.dispatchEventByType("playbackratechanged",{playbackRate:e})}};function b(d){var e=document.createElement("option");e.value=d;e.innerText=d.toFixed(2);if(d===1){e.selected=true}return e}c.getPositionFromPlaybackRate_=function(e){var f=this.playbackRateMin_;var d=this.playbackRateMax_;var g=d-f;if(g===0){return 0.5}return(e-f)/g};c.getPlaybackRateFromPosition_=function(d){return CriGrxMath.lerp(this.playbackRateMin_,this.playbackRateMax_,d)};c.onChangeSelect_=function(e){var d=Number(this.select_.value);this.setPlaybackRate(d)};c.onChangeSlider_=function(e){var d=this.getPlaybackRateFromPosition_(e.detail.position);this.setPlaybackRate(d)}})(CriLaPlayerControlPlaybackRateMiniMenu.prototype,CriLaPlayerControlMiniMenuBase.prototype);var CriLaPlayStatus={STOP:0,PLAYING:1,PAUSE:2};CriLaPlayStatus.BEFORE_PAGE_JUMP=3;Object.freeze(CriLaPlayStatus);var CriLaCanvasResolutionUsage={STYLE:1,ATTRIBUTE:2,BOTH:3};Object.freeze(CriLaCanvasResolutionUsage);function CriLaPlayer(){this.implPlayer_=null;if(this.initPluginVideoGroup_){this.initPluginVideoGroup_()}}var criLaRequestAnimationFrame_=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1000/15)};var criLaCancelAnimationFrame_=window.cancelAnimationFrame||window.mozcancelAnimationFrame||window.webkitcancelAnimationFrame||window.mscancelAnimationFrame||function(a){window.clearTimeout(a)};(function(a){a.getVersion=function(){return this.implPlayer_.getVersion()};a.initialize=function(d,c){var e=new CriLaEventDispatcher(this);var b=new CriLaC001(e);b.initialize(d,c);this.implPlayer_=b};a.finalize=function(){if(this.implPlayer_){this.implPlayer_.finalize();this.implPlayer_=null}};a.setCanvas=function(b){this.implPlayer_.setCanvas(b)};a.getCanvas=function(){return this.implPlayer_.getCanvas()};a.loadLjtWithResources=function(b,c){return this.implPlayer_.loadLjtWithResources(b,c)};a.setResourcesBaseURL=function(b){this.implPlayer_.setResourcesBaseURL(b);return this};a.setSharedResourcesBaseURL=function(b){this.implPlayer_.setSharedResourcesBaseURL(b);return this};a.getResourcesBaseURL=function(){return this.implPlayer_.getResourcesBaseURL()};a.getSharedResourcesBaseURL=function(b){return this.implPlayer_.getSharedResourcesBaseURL(b)};a.loadLjt=function(b,c){return this.implPlayer_.loadLjtFromUrl(b,c)};a.loadLjtFromString=function(c,b){return this.implPlayer_.loadLjtFromString(c,b)};a.requestLoadResourcesCurrentScene=function(){this.implPlayer_.requestLoadResourcesCurrentScene()};a.requestLoadResourcesBySceneName=function(b){this.implPlayer_.requestLoadResourcesBySceneName(b)};a.requestLoadResources=function(){this.implPlayer_.requestLoadResources()};a.isCompleteCurrentScene=function(){return this.implPlayer_.isCompleteCurrentScene()};a.getCurrentScene=function(){return this.implPlayer_.getCurrentScene()};a.getCurrentSceneWidth=function(){return this.implPlayer_.getCurrentSceneWidth()};a.getCurrentSceneHeight=function(){return this.implPlayer_.getCurrentSceneHeight()};a.resizeCanvasToCurrentScene=function(b,c){this.implPlayer_.resizeCanvasToCurrentScene(b,c)};a.resizeCanvasToFixedRatioWidth=function(c,b,d){this.implPlayer_.resizeCanvasToFixedRatioWidth(c,b,d)};a.resizeCanvasToFixedRatioHeight=function(b,c,d){this.implPlayer_.resizeCanvasToFixedRatioHeight(b,c,d)};a.resizeCanvasContain=function(b){this.implPlayer_.resizeCanvasContain(b)};a.resizeCanvasCover=function(b){this.implPlayer_.resizeCanvasCover(b)};a.resizeCurrentSceneToCanvas=function(){this.implPlayer_.resizeCurrentSceneToCanvas()};a.resizeCurrentSceneToCanvasFixedRatio=function(){this.implPlayer_.resizeContentsToCanvasFixedRatio()};a.resizeFromParentElement=function(){this.implPlayer_.resizeFromParentElement()};a.fullscreen=function(b){this.implPlayer_.fullscreen(b)};a.isFullscreen=function(){return this.implPlayer_.isFullscreen()};a.fullscreenNative=function(b){this.implPlayer_.fullscreenNative(b)};a.getCurrentSceneDuration=function(){return this.implPlayer_.getCurrentSceneDuration()};a.getCurrentSceneLength=function(){return this.implPlayer_.getCurrentSceneDuration()};a.getCurrentSceneFrameRate=function(){return this.implPlayer_.getCurrentSceneFrameRate()};a.getNumScenes=function(){return this.implPlayer_.getNumScenes()};a.getSceneByIndex=function(b){return this.implPlayer_.getSceneByIndex(b)};a.getSceneByName=function(b){return this.implPlayer_.getSceneByName(b)};a.setCurrentSceneByIndex=function(b){return this.implPlayer_.setCurrentSceneByIndex(b)};a.setCurrentSceneByName=function(b){return this.implPlayer_.setCurrentSceneByName(b)};a.getCurrentSceneName=function(){return this.implPlayer_.getCurrentSceneName()};a.setFrame=function(b){this.implPlayer_.setFrame(b);return b};a.getFrame=function(){return this.implPlayer_.getFrame()};a.setTime=function(b){return this.setTimeMs(b)};a.setTimeMs=function(b){this.implPlayer_.setTimeMs(b);return this};a.getTime=function(){return this.getTimeMs()};a.getTimeMs=function(){return this.implPlayer_.getTimeMs()};a.stepFrame=function(b,c){return this.implPlayer_.stepFrame(b,c)};a.setProhibitTimeMsRange=function(b,c){this.implPlayer_.setProhibitTimeMsRange(b,c)};a.getProhibitTimeMsRange=function(){return this.implPlayer_.getProhibitTimeMsRange()};a.setLoopFlg=function(b){this.implPlayer_.setLoopFlg(b)};a.getLoopFlg=function(){return this.implPlayer_.getLoopFlg()};a.enableBackgroundFill=function(b){this.implPlayer_.enableBackgroundFill(b)};a.enableTapPlay=function(b){this.implPlayer_.enableTapPlay(b)};a.isTapPlayEnabled=function(){return this.implPlayer_.isTapPlayEnabled()};a.clear=function(){this.implPlayer_.clear()};a.fill=function(b){this.implPlayer_.fill(b)};a.drawWithClear=function(){this.implPlayer_.drawWithClear()};a.draw=function(){return this.implPlayer_.draw()};a.enableEveryFrameDrawing=function(b){this.implPlayer_.enableEveryFrameDrawing(b)};a.setPlayableBufferSizeMs=function(b){this.implPlayer_.setPlayableBufferSizeMs(b)};a.setPlayableBufferSize=function(b,c){this.implPlayer_.setPlayableBufferSize(b,c)};a.play=function(b){this.implPlayer_.play(b)};a.pause=function(){this.implPlayer_.pause()};a.isPaused=function(){return this.implPlayer_.isPaused()};a.stop=function(){this.implPlayer_.stop()};a.isStopped=function(){return this.implPlayer_.isStopped()};a.getPositionXY=function(){return this.implPlayer_.getPositionXY()};a.setPositionXY=function(b,c){this.implPlayer_.setPositionXY(b,c)};a.getRotation=function(){return this.implPlayer_.getRotation()};a.setRotation=function(b){this.implPlayer_.setRotation(b)};a.getScaleXY=function(){return this.implPlayer_.getScaleXY()};a.setScaleXY=function(b,c){this.implPlayer_.setScaleXY(b,c)};a.getPivotXY=function(){return this.implPlayer_.getPivotXY()};a.setPivotXY=function(b,c){this.implPlayer_.setPivotXY(b,c)};a.setPivotSeparateXY=function(e,d,c,b){this.implPlayer_.setPivotSeparateXY(e,d,c,b)};a.setAlpha=function(b){this.implPlayer_.setAlpha(b)};a.getAlpha=function(){return this.implPlayer_.getAlpha()};a.setFontScale=function(b){return this.implPlayer_.setFontScale(b)};a.getFontScale=function(){return this.implPlayer_.getFontScale()};a.getContainedLayerName=function(b,d,c){return this.implPlayer_.getContainedLayerName(b,d,c)};a.getContainedLayers=function(b,d,c){return this.implPlayer_.getContainedLayers(b,d,c)};a.getNumResources=function(){return this.implPlayer_.getNumResources()};a.getResourceByIndex=function(b){return this.implPlayer_.getResourceByIndex(b)};a.getResourceById=function(b){return this.implPlayer_.getResourceById(b)};a.getResourcesByName=function(b){return this.implPlayer_.getResourcesByName(b)};a.resetFontScale=function(){this.implPlayer_.resetFontScale()};a.addEventListener=function(b,c){this.implPlayer_.addEventListener(b,c);return this};a.removeEventListener=function(b,c){this.implPlayer_.removeEventListener(b,c);return this};a.dispatchEvent=function(c,b){this.implPlayer_.dispatchEvent(c,b);return this};a.getAnalysisReport=function(){return this.implPlayer_.getAnalysisReport()};a.clearAnalysisReport=function(){this.implPlayer_.clearAnalysisReport()};a.setControlStyle=function(b){this.implPlayer_.setControlStyle(b);return this};a.getTrackingCode=function(b){return this.implPlayer_.getTrackingCode(b)};a.getStreamType=function(){return this.implPlayer_.getStreamType()};a.canPlayCurrentScene=function(){return this.implPlayer_.canPlayCurrentScene()};a.setVolume=function(b){this.implPlayer_.setVolume(b)};a.getVolume=function(){return this.implPlayer_.getVolume()};a.mute=function(b){this.implPlayer_.mute(b)};a.isMuted=function(){return this.implPlayer_.isMuted()};a.setClickThreshold=function(b,c){this.implPlayer_.setClickThreshold(b,c)};a.setResourceURLSuffix=function(b){this.implPlayer_.setResourceURLSuffix(b)};a.setDefaultDimension_=function(c,b){this.implPlayer_.setDefaultDimension_(c,b)};a.setPlaybackRate=function(b){this.implPlayer_.setPlaybackRate(b)};a.getPlaybackRate=function(){return this.implPlayer_.getPlaybackRate()};a.isInvisible=function(){return this.implPlayer_.isInvisible()};a.getContentType=function(){return this.implPlayer_.getContentType()};a.setContentType=function(b){this.implPlayer_.setContentType(b)};a.isEnded=function(){return this.implPlayer_.isEnded()};a.zoomTo=function(b,c){this.implPlayer_.zoomTo(b,c)};a.reloadDecodedData_=function(){this.implPlayer_.reloadDecodedData_()};a.unloadDecodedData_=function(){this.implPlayer_.unloadDecodedData_()};a.setMemoryReduction=function(b){this.implPlayer_.setMemoryReduction(b)};a.setControlClassName=function(b){this.implPlayer_.setControlClassName(b)};a.addComponent=function(c,b){this.implPlayer_.addComponent(c,b)};a.addComponents=function(b){this.implPlayer_.addComponents(b)};a.getControls=function(){return this.implPlayer_.getControls()};a.isSeeking=function(){return this.implPlayer_.isSeeking()};a.getChapterSeparatorsFrame=function(){return this.implPlayer_.getChapterSeparatorsFrame()};a.getChapterSeparatorsTimeMs=function(){return this.implPlayer_.getChapterSeparatorsTimeMs()};a.setChapterSeparatorsFrame=function(b){return this.implPlayer_.setChapterSeparatorsFrame(b)};a.setPlaybackRangeFrame=function(b,c){this.implPlayer_.setPlaybackRangeFrame(b,c)};a.resetPlaybackRange=function(){this.implPlayer_.resetPlaybackRange()};a.getPlaybackRangeFrame=function(){return this.implPlayer_.getPlaybackRangeFrame()};a.setupVideoControl=function(){this.implPlayer_.setupVideoControl()};a.setupAudioControl=function(){this.implPlayer_.setupAudioControl()};a.setupDefaultControl=function(){this.implPlayer_.setupDefaultControl()};a.setupAllaroundControl=function(){this.implPlayer_.setupAllaroundControl()};a.setupSwipeControl=function(){this.implPlayer_.setupSwipeControl()};a.setupTemplateControl=function(){this.implPlayer_.setupTemplateControl()};a.isEnabledControlTemplate=function(){this.implPlayer_.isEnabledControlTemplate()};a.isInIframe=function(){return this.implPlayer_.isInIframe()};a.notifyPositionChange=function(c,b){this.implPlayer_.notifyPositionChange(c,b)};a.notifyParentResize=function(){this.implPlayer_.notifyParentResize()};a.notifyFullscreenChange=function(b){this.implPlayer_.notifyFullscreenChange(b)};a.unload=function(){return this.implPlayer_.unload()};a.unloadVideoResource=function(){return this.implPlayer_.unloadVideoResource()};a.setVideoPreloadType=function(b){return this.implPlayer_.setVideoPreloadType(b)};a.enableRequestLoadResource=function(b){this.implPlayer_.enableRequestLoadResource(b)};a.isRequestLoadResourceEnabled=function(){return this.implPlayer_.isRequestLoadResourceEnabled()};a.loadCurrentSceneResourcesAll=function(){this.implPlayer_.loadCurrentSceneResourcesAll()};a.notifyMediaSrcChange=function(){this.implPlayer_.notifyMediaSrcChange()};a.enableFrameInterpolation=function(b){this.implPlayer_.enableFrameInterpolation(b)};a.requestRedraw=function(){this.implPlayer_.requestRedraw()};a.getDistanceFromViewport=function(){return this.implPlayer_.getDistanceFromViewport()};a.drawCurrentSceneToCanvasForcibly=function(){this.implPlayer_.drawCurrentSceneToCanvasForcibly()};a.setPageJumpMode=function(){this.implPlayer_.setPageJumpMode()};a.restoreFromPageJumpMode=function(){this.implPlayer_.restoreFromPageJumpMode()};a.memoryVolume=function(){this.implPlayer_.memoryVolume()};a.pagejump=function(b,c){this.implPlayer_.pagejump(b,c)}})(CriLaPlayer.prototype);var CriLaStreamType={SEQ:0,RANDOM:1};Object.freeze(CriLaStreamType);function CriLaC00K(){this.timerCurrentTime_=0;this.frame_=0;this.delta_=0;this.sceneFPS_=0;this.sceneName_=0;this.sceneFrameRange_=new CriLaFrameRange(0,0);this.calculatedSceneDuration_=0;this.CriLaP11m=null;this.prohibitFrameRange_=new CriLaFrameRange(0,0);this.enabledProhibitFrameRange_=false;this.playbackFrameRange_=new CriLaFrameRange(0,0);this.CriLaP11k=null;this.CriLaP11l=false;this.loop=false;this.firstPlayStart=false;this.firstPlayEnd=false;this.status_=CriLaPlayStatus.STOP;this.objectType=null;this.streamType_=CriLaStreamType.RANDOM;this.restoreState=null}(function(a){a.initialize=function(b){this.setup(b)};a.setup=function(e){var d=this.CriLaP11m=e.CriLaP11m;this.CriLaP11k=e.CriLaP11k;var c=e.CriLaP111;this.setSceneParam(c);d.dispatch(CriLaEvent.SEEKBAR_RESET_NEEDED);var b=this;d.addEventListener(CriLaEvent.ANALYTICS_UPDATED,function(h){var g=h.detail;var f=g.isSequential;var i=g.exceeded;b.updateAnalytics(f,i)})};a.setSceneParam=function(b){this.sceneFPS_=b.getFramerate();this.sceneName_=b.getName();this.sceneFrameRange_.duration=b.getDuration();this.playbackFrameRange_.duration=b.getDuration();this.calculatedSceneDuration_=b.getCalculatedDuration()};a.updateMainLoopTime=function(){var b=this.getTimeMs_();this.delta_=(b-this.timerCurrentTime_);this.timerCurrentTime_=b};a.getDeltaTime=function(){return this.delta_};a.isEnded=function(){return this.isExceededLastFrame_(this.frame_)};a.isExceededLastFrame_=function(b){return this.playbackFrameRange_.isExceededLastFrame(b)};a.getVideoLastFrame=function(){return this.sceneFrameRange_.last};a.getBeginFrame=function(){return this.playbackFrameRange_.begin};a.getEndFrame=function(){return this.playbackFrameRange_.end};a.getLastFrame=function(){return this.playbackFrameRange_.last};a.seekLastFrame=function(){this.seekFrame(this.getLastFrame())};a.replay=function(){this.seekFrame(this.getBeginFrame())};a.validateSequential_=function(d,c,b){if(d==true&&c==true){b=false}return b};a.parseInFrame=function(b){b=this.playbackFrameRange_.clampWithPlayableFrame(b);b=this.fixFrameProhibited(b);return b};a.seekFrame=function(b){this.setFrame(b,false);this.seekingCommon();this.seekedCommon()};a.seekTimeMs=function(b){var c=CriUnitValue.secondToFrame(this.sceneFPS_,b/1000);this.seekFrame(c)};a.setFrame=function(g,e){var f=this.isExceededLastFrame_(g);var d=this.loop;var c=Boolean(e);var b=this.parseInFrame(g);if(this.frame_===b){return}if(this.getIsFrameProhibited(b)){this.seekFrame(Math.max(0,this.prohibitFrameRange_.begin-this.sceneFPS_));this.dispatchFrameUpdated_();this.pause();return}this.frame_=b;this.dispatchAnalyticsUpdated_(e,f);this.dispatchFrameUpdated_();if(f){this.seekLastFrame();if(c){if(!d){this.end()}this.dispatchFirstPlayEnd()}if(d&&this.isPlaying()){this.replay()}}};a.updateAnalytics=function(b,d){if(this.isSeeking()){return}var c=this.getFrame();if(d==true){var e=this.getEndFrame();this.CriLaP11k.updateLog(this.sceneName_,e)}if(b==true){this.CriLaP11k.updateLog(this.sceneName_,c)}else{this.CriLaP11k.createLog(this.sceneName_,c)}};a.dispatchAnalyticsUpdated_=function(b,d){var e=CriLaEvent.ANALYTICS_UPDATED;var c=this.CriLaP11m;c.dispatch(e,c.createEvent(e,{isSequential:b,exceeded:d}))};a.setTimeMs=function(c,b){var d=(c*this.sceneFPS_/1000);this.setFrame(d,b)};a.getFrame=function(){return this.parseInFrame(this.frame_)};a.getTimeMs=function(){return this.getFrame()/this.sceneFPS_*1000};a.seekingCommon=function(){this.dispatch(CriLaEvent.SEEKING)};a.seekedCommon=function(){this.dispatch(CriLaEvent.SEEKED)};a.play=function(){var c=this.getFrame();var b=this.isExceededLastFrame_(c);if(b){this.replay()}if(this.playbackFrameRange_.duration===0&&this.sceneFrameRange_.duration!==0){return false}if(this.getIsFrameProhibited(this.getFrame())){return false}if(this.isPlaying()){this.updateMainLoopTime()}this.setStatus_(CriLaPlayStatus.PLAYING);this.dispatchFirstPlayStart();return true};a.pause=function(){this.setStatus_(CriLaPlayStatus.PAUSE);return true};a.stop=function(){this.seekFrame(this.getBeginFrame());this.setStatus_(CriLaPlayStatus.STOP);return true};a.end=function(){this.pause();this.dispatch(CriLaEvent.PLAY_END);return true};a.dispatchFirstPlayStart=function(){if(this.firstPlayStart==false){this.firstPlayStart=true;this.dispatch(CriLaEvent.FIRST_PLAY_START)}};a.dispatchFirstPlayEnd=function(){if(this.firstPlayEnd==false){this.firstPlayEnd=true;this.dispatch(CriLaEvent.FIRST_PLAY_END)}};a.isSeeking=function(){return this.CriLaP11l};a.getTimeMs_=function(){return criLaTimer_GetTimeMs()};a.fixFrameProhibited=function(b){if(this.getIsFrameProhibited(b)){return this.prohibitFrameRange_.begin}return b};a.getIsFrameProhibited=function(b){return this.enabledProhibitFrameRange_&&this.prohibitFrameRange_.isInnerFrame(b)};a.setProhibitTimeMsRange=function(b,c){this.prohibitFrameRange_.begin=CriUnitValue.secondToFrame(this.sceneFPS_,b/1000);this.prohibitFrameRange_.end=CriUnitValue.secondToFrame(this.sceneFPS_,c/1000);this.enabledProhibitFrameRange_=true};a.setPlaybackRangeFrame=function(f,g){var b=this.playbackFrameRange_;var e=this.sceneFrameRange_.duration;f=this.sceneFrameRange_.clampWithPlayableFrame(f);g=CriGrxMath.clamp(f,e,g);f=Math.round(f);g=Math.round(g);var d=b.eq(b.begin,f);var c=b.eq(b.end,g);if(d&&c){return}if(this.isPlaying()){this.pause()}b.begin=f;b.end=g;this.dispatch(CriLaEvent.PLAYBACK_RANGE_CHANGE);if(!d){this.seekFrame(this.getBeginFrame())}else{this.seekLastFrame()}};a.getPlaybackRangeFrame=function(){return{beginFrame:this.playbackFrameRange_.begin,endFrame:this.playbackFrameRange_.end}};a.setLoop=function(b){this.loop=b;this.dispatch(CriLaEvent.LOOP_CHANGE)};a.getLoop=function(){return this.loop};a.setStatus_=function(b){this.status_=b;var c="";switch(b){case CriLaPlayStatus.PLAYING:c=CriLaEvent.PLAY_START;break;case CriLaPlayStatus.PAUSE:c=CriLaEvent.PAUSE;break;case CriLaPlayStatus.STOP:c=CriLaEvent.STOP;break}if(c){this.dispatch(c)}};a.getStatus=function(){return this.status_};a.isPlaying=function(){return this.getStatus()===CriLaPlayStatus.PLAYING};a.getStreamType=function(){return this.streamType_};a.setPlaybackRate=function(b){return this.setPlaybackRateImpl_(b)};a.getPlaybackRate=function(){return this.getPlaybackRateImpl_()};a.setPlaybackRateImpl_=function(b){};a.getPlaybackRateImpl_=function(){};a.switchStatus_=function(){var b=this.status_;if(b!=CriLaPlayStatus.PLAYING){this.play()}else{this.pause()}};a.dispatchFrameUpdated_=function(){var b=this.CriLaP11m;var c=b.createEvent(CriLaEvent.FRAME_UPDATED,{stepTimeMs:this.getDeltaTime()});this.dispatch(CriLaEvent.FRAME_UPDATED,c)};a.dispatch=function(c,b){this.CriLaP11m.dispatch(c,b)};a.notifyMediaSrcChange=function(){};a.setPageJumpMode=function(){this.restoreState=this.getStatus();this.pause();this.setStatus_(CriLaPlayStatus.BEFORE_PAGE_JUMP)};a.restoreFromPageJumpMode=function(){switch(this.restoreState){case CriLaPlayStatus.PLAYING:break;case CriLaPlayStatus.PAUSE:break;case CriLaPlayStatus.STOP:break}this.setStatus_(this.restoreState);this.restoreState=null};a.refMediaTime=function(){return false};a.forceSeekForChromeVideo=function(){};a.shouldForceSeekForChromeVideo=function(){return false}})(CriLaC00K.prototype);function CriLaC00M(){CriLaC00K.call(this)}CriLaPolyfill.Object.setPrototypeOf(CriLaC00M.prototype,CriLaC00K.prototype);function CriLaC00O(a,b){this.elem_=a;this.canPlay_=false;this.requestPlayOnCanPlay_=false;this.sceneFPS_=b;this.activated_=false;this.frame_=0;this.CriLaP11m=document.createElement("eventdispatcher");this.frameRange_=new CriLaFrameRange(0,0);this.showFrameRange_=new CriLaFrameRange(0,0);this.playableUrlSet_={};this.registerEvents_()}(function(a){a.getReadyState=function(){return this.elem_.readyState};a.setFrame=function(c){var b=this.elem_;if(b.readyState===0){this.frameQueued_=c;return}this.updateFrameRangeByElem_();if(c<0){this.setFrame(0);return}if(this.isExceededLastShowFrame_(c)){this.seekLastFrame_();return}this.setFrame_(c)};a.setFrame_=function(b){this.elem_.currentTime=b/this.sceneFPS_;this.frame_=b};a.getFrame=function(){return this.elem_.currentTime*this.sceneFPS_};a.getDuration=function(){var b=Number(this.elem_.duration);if(isNaN(b)){b=0}var c=Math.round(b*this.sceneFPS_);return Math.max(c,0)};a.getLastFrame=function(){this.updateFrameRangeByElem_();return this.frameRange_.last};a.getLastShowFrame_=function(){this.updateFrameRangeByElem_();return this.showFrameRange_.last};a.containsFrame=function(b){this.updateFrameRangeByElem_();return this.frameRange_.isPlayableFrame(b)};a.play=function(e){if(this.isPlaying()||this.requestPlayOnCanPlay_){return false}function b(){if(typeof e==="function"){e()}}this.updateFrameRangeByElem_();if(this.isExceededLastShowFrame_(this.getFrame())){return false}var d=this.elem_.play();if(d!=null){d.then(function(){},function(g){var h=String(g);if(CriLaBrowserSetting.isSaveData()==true||h.match(/interact/)!=null){b()}else{if(h.match(/NotAllowedError/)!=null){b()}}})}if(!this.isPlaying()){var c=CriUAChecker.getOS();var f=CriUAChecker.getOSVersion();if(c===CriUAOS.iOS&&f<10){b();return false}this.requestPlayOnCanPlay_=true;return false}else{this.canPlay_=true;return true}};a.pause=function(){this.requestPlayOnCanPlay_=false;if(!this.isPlaying()){return}this.elem_.pause()};a.stop=function(){this.requestPlayOnCanPlay_=false;this.elem_.pause()};a.setVisibility=function(b){CriLaHtmlCss.setVisibility(this.elem_,b)};a.canPlayEvent_=function(b){if(this.requestPlayOnCanPlay_){this.requestPlayOnCanPlay_=false;this.play()}};a.isPlaying=function(){return !this.elem_.paused};a.canPlay=function(){return this.canPlay_};a.addEventListener=function(b,d,c){this.CriLaP11m.addEventListener(b,d,c)};a.dispatchEvent=function(b){this.CriLaP11m.dispatchEvent(b)};a.setPlaybackRate=function(b){var c=this.elem_;c.playbackRate=b;c.defaultPlaybackRate=b};a.getPlaybackRate=function(){return parseFloat(this.elem_.playbackRate)};a.seekLastFrame_=function(){function b(){var d=navigator.userAgent;if(!d.match(/MSIE/)&&!d.match(/Trident/)){return false}var c=d.match(/(MSIE\s|rv:)([\d\.]+)/)[2];if(c!=11){return false}var e=/(Windows 7|Windows NT 6.1)/;if(!e.test(d)){return false}return true}if(!b()){this.setFrame_(this.getLastShowFrame_())}};a.loadByInteraction_=function(){if(this.elem_.networkState===0){this.load()}};a.load=function(){this.elem_.load()};a.registerEvents_=function(){var e=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];var d=this;var c=this.elem_;e.forEach(function(f){c.addEventListener(f,function(){var g=new CriLaPolyfill.Event.CustomEvent(f);d.dispatchEvent(g)},false)});c.addEventListener("canplay",this.canPlayEvent_.bind(this));c.addEventListener("click",this.loadByInteraction_.bind(this));c.addEventListener("waiting",function(){d.isWaiting_=true;d.waitStartPos_=d.getFrame()},false);c.addEventListener("timeupdate",function(f){if(d.waitStartPos_!==d.getFrame()){d.isWaiting_=false}},false);c.addEventListener("timeupdate",function b(f){d.activate();d.playableUrlSet_[c.src]=true;c.removeEventListener("timeupdate",b,false)},false);c.addEventListener("loadedmetadata",function(){if(d.frameQueued_!=null){d.setFrame(d.frameQueued_);d.frameQueued_=null}});c.addEventListener("error",function(){var h=false;var f=c.error;if(f&&f.code===4){if(d.playableUrlSet_[c.src]){h=true}}if(h){var g=new CriLaPolyfill.Event.CustomEvent("crash");d.dispatchEvent(g)}})};a.isMuted=function(){return this.elem_.muted||this.elem_.volume===0};a.isWaiting=function(){return this.isWaiting_};a.activate=function(){if(this.isActivated()){return}this.setFrame(this.frame_);this.activated_=true};a.isActivated=function(){return this.activated_};a.updateFrameRangeByElem_=function(){var b=this.getDuration();if(b===0){return}this.frameRange_.duration=b;this.showFrameRange_.duration=b-1};a.isExceededLastShowFrame_=function(b){return this.showFrameRange_.isExceededLastFrame(b)};a.shouldForceSeekForChromeVideo=function(){if(this.elem_.readyState==1&&this.elem_.paused==false&&this.elem_.currentTime==0){return true}return false}})(CriLaC00O.prototype);function CriLaC00P(){CriLaC00K.call(this);this.streamType_=CriLaStreamType.SEQ;this.media_=null;this.videoFrameRange_=null;this.requestValidateRefMediaInSeeked_=false}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.TARGET_RESOURCE_TYPE=CriLaResourceType.VIDEO;b.setup=function(c){a.setup.call(this,c);this.media_=new CriLaC00O(c.getCurrentMediaPlayer().getTimeManagerElement(),this.sceneFPS_);this.registerEvent_()};b.registerEvent_=function(){var d=this.media_;d.addEventListener("timeupdate",this.videoTimeUpdateEvent_.bind(this),false);d.addEventListener("seeking",this.videoSeekingEvent_.bind(this),false);d.addEventListener("seeked",this.videoSeekedEvent_.bind(this),false);d.addEventListener("loadedmetadata",this.mediaLoadedMetaDataEvent_.bind(this),false);var c=0;d.addEventListener("crash",function(){if(c<10){c++;window.setTimeout(function(){d.load()},Math.random()*1000)}});this.CriLaP11m.addEventListener(CriLaEvent.FRAME_UPDATED,this.validateRefMediaTime.bind(this))};b.setSceneParam=function(k){a.setSceneParam.call(this,k);var c=k.getNumLayers();var g=null;for(var f=0;f<c;f++){var e=k.getLayerByIndex(f);var j=e.resource;if(j&&j.type===this.TARGET_RESOURCE_TYPE){g=e;break}}var h=0;var d=this.sceneFrameRange_.duration;if(g){h=g.getStartShowFrame();d=g.getShowDuration()}h=isNaN(h)?0:h;d=isNaN(d)?60*this.sceneFPS_:d;this.videoFrameRange_=new CriLaFrameRange(h,d)};b.validateRefMediaTime=function(){if(this.requestValidateRefMediaInSeeked_==true){return}this.refMediaTime_()};b.hasTimeLag_=function(e){var d=Math.abs(e-this.getSceneFrameFromMedia_())/this.sceneFPS_;var c=d>0.3;return c};b.isMediaWaiting_=function(){var c=this.media_.isWaiting();return c};b.setFrame=function(i,f){var e=true;if(this.refMediaTime_()){var d=this.isMediaWaiting_();var c=this.hasTimeLag_(i);if(f&&(d||c)){e=false}if(this.shouldForceSeekForChromeVideo()==true){this.forceSeekForChromeVideo()}}if(e){a.setFrame.call(this,i,f);var g=this.media_;if(!f&&g){var h=this.getMediaFrame_();this.media_.setFrame(h)}}if(this.refMediaTime_()){this.syncMedia_()}};b.getSceneFrameFromMedia_=function(){return this.videoFrameRange_.start+this.media_.getFrame()};b.getMediaFrame_=function(){return this.getFrame()-this.videoFrameRange_.start};b.resetMediaDuration_=function(){var c=this.media_.getDuration();if(isNaN(c)){return}var d=this.videoFrameRange_?this.videoFrameRange_.start:0;this.calculatedSceneDuration_=Math.max(this.calculatedSceneDuration_,d+c);this.sceneFrameRange_.duration=Math.max(this.sceneFrameRange_.duration,this.calculatedSceneDuration_);this.playbackFrameRange_.duration=this.sceneFrameRange_.duration;this.videoDuration_=new CriLaFrameRange(d,this.sceneFrameRange_.duration);this.CriLaP11k.updateSceneLength(this.sceneName_,c);this.CriLaP11m.dispatch(CriLaEvent.SEEKBAR_RESET_NEEDED)};b.play=function(){var c=a.play.call(this);this.media_.play(this.pause.bind(this));if(this.refMediaTime_()){this.syncMedia_()}else{this.media_.pause()}return c};b.pause=function(){this.media_.pause();return a.pause.call(this)};b.stop=function(){this.media_.stop();return a.stop.call(this)};b.videoTimeUpdateEvent_=function(c){if(!this.refMediaTime_()){return}if(!this.media_){return}if(this.media_.getReadyState()===0){return}this.checkAndResetMediaDuration_();this.syncToMedia_()};b.videoSeekingEvent_=function(c){this.CriLaP11l=true;this.seekingCommon()};b.videoSeekedEvent_=function(c){var d=this.media_.getFrame();this.CriLaP11k.createLog(this.sceneName_,d);this.requestValidateRefMediaInSeeked_=false;this.seekedCommon();this.CriLaP11l=false};b.mediaLoadedMetaDataEvent_=function(c){this.checkAndResetMediaDuration_()};b.checkAndResetMediaDuration_=function(){if(this.sceneFrameRange_.duration<this.sceneFPS_){this.resetMediaDuration_()}};b.setPlaybackRateImpl_=function(c){this.media_.setPlaybackRate(c)};b.getPlaybackRateImpl_=function(){return this.media_.getPlaybackRate()};b.refMediaTime=function(){return this.refMediaTime_()};b.refMediaTime_=function(){var d=Boolean(this.refMediaTimeOld_);var c=this.refMediaTimeImpl_();this.refMediaTimeOld_=c;if(d!==c){this.onRefMediaTimeChange_(c)}return c};b.refMediaTimeImpl_=function(){var c=this.media_;var d=this.getMediaFrame_();return Boolean(c&&c.containsFrame(d))};b.onRefMediaTimeChange_=function(c){var e=this.media_;var g=this.isPlaying();if(c){if(g){e.play(this.pause.bind(this))}}else{e.pause()}var d=c;this.media_.setVisibility(d);var f=this.getMediaFrame_();this.media_.setFrame(f)};b.syncMedia_=function(){var c=this.media_;if(!c){return}if(this.isPlaying()===c.isPlaying()){return}if(!c.containsFrame(this.getMediaFrame_())){return}if(this.isPlaying()&&!c.isPlaying()){c.play(this.pause.bind(this))}else{if(!this.isPlaying()&&c.isPlaying()){c.pause()}}};b.syncToMedia_=function(){if(!this.isPlaying()){return}if(!this.media_.isActivated()){return}var c=this.getSceneFrameFromMedia_();this.setFrame(c,true)};b.notifyMediaSrcChange=function(){this.resetMediaDuration_()}})(CriLaC00P.prototype,CriLaC00K.prototype);function CriLaC00Q(){CriLaC00P.call(this)}(function(b,a){CriLaPolyfill.Object.setPrototypeOf(b,a);b.forceSeekForChromeVideo=function(){var d=1;var c=this.media_.getFrame();if(c<d){this.media_.setFrame(d)}};b.shouldForceSeekForChromeVideo=function(){var c=this.getStatus();if(CriUAChecker.isMobile()==true||CriUAChecker.getBrowser()!=CriUABrowser.Chrome){return false}return this.media_.shouldForceSeekForChromeVideo()}})(CriLaC00Q.prototype,CriLaC00P.prototype);function CriLaC00R(){CriLaC00P.call(this);this.streamType_=CriLaStreamType.RANDOM}(function(c,b,a){CriLaPolyfill.Object.setPrototypeOf(c,b);c.TARGET_RESOURCE_TYPE=CriLaResourceType.AUDIO;c.refMediaTimeImpl_=function(){return b.refMediaTimeImpl_.call(this)&&!this.media_.isMuted()};c.play=function(){var d=a.play.call(this);if(this.media_.isMuted()==true){return d}this.media_.play(this.pause.bind(this));if(this.refMediaTime_()){this.syncMedia_()}else{this.media_.pause()}return d}})(CriLaC00R.prototype,CriLaC00P.prototype,CriLaC00K.prototype);function VideoAudioTimeManager(){CriLaC00Q.call(this);this.videoFrameRangeSub_=null}(function(b,c,a){CriLaPolyfill.Object.setPrototypeOf(b,c);b.setup=function(d){a.setup.call(this,d);this.media_=new CriLaC00O(d.getCurrentVideoPlayer().getTimeManagerElement(),this.sceneFPS_);this.subMedia_=new CriLaC00O(d.getCurrentAudioPlayer().getTimeManagerElement(),this.sceneFPS_);this.registerEvent_()};b.registerEvent_=function(){c.registerEvent_.call(this);var d=this.subMedia_;d.addEventListener("pause",function(){d.pause()})};b.play=function(){c.play.call(this);this.syncSubMedia_()};b.pause=function(){this.subMedia_.pause();c.pause.call(this)};b.setSceneParam=function(l){c.setSceneParam.call(this,l);var d=l.getNumLayers();var k=null;for(var g=0;g<d;g++){var f=l.getLayerByIndex(g);var j=f.resource;if(j&&j.type===CriLaResourceType.AUDIO){k=f;break}}var h=0;var e=this.sceneFrameRange_.duration;if(k){h=k.getStartShowFrame();e=k.getShowDuration()}this.videoFrameRangeSub_=new CriLaFrameRange(h,e)};b.getSubMediaFrame_=function(){return this.getFrame()-this.videoFrameRangeSub_.start};b.syncSubMediaTime_=function(){this.subMedia_.setFrame(this.getSubMediaFrame_())};b.syncMedia_=function(){c.syncMedia_.call(this);this.syncSubMedia_()};b.syncSubMedia_=function(){var d=this.subMedia_;if(!d){return}if(!this.videoFrameRangeSub_.isPlayableFrame(this.getFrame())){d.pause();return}if(this.isPlaying()===d.isPlaying()){return}if(!d.containsFrame(this.getSubMediaFrame_())){return}if(this.isPlaying()&&!d.isPlaying()){this.syncSubMediaTime_();d.play()}else{if(!this.isPlaying()&&d.isPlaying()){d.pause()}}}})(VideoAudioTimeManager.prototype,CriLaC00Q.prototype,CriLaC00K.prototype);function CriLaAction(){this.event_=null}(function(a){a.preAction=function(){};a.doAction=function(b){}})(CriLaAction.prototype);function CriLaActionOpenURL(a,b){CriLaAction.call(this);this.url_=a;this.target_=b}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.doAction=function(c){window.open(this.url_,this.target_)}})(CriLaActionOpenURL.prototype,CriLaAction.prototype);function CriLaActionExecFunction(a){CriLaAction.call(this);this.functionName_=a}(function(a,b){CriLaPolyfill.Object.setPrototypeOf(a,b);a.doAction=function(c){var d=this.functionName_;if(CriLaUtility.functionExists(d)){window[d](c)}}})(CriLaActionExecFunction.prototype,CriLaAction.prototype);var CriLaClickableMapShapeType={RECT:"rect"};function CriLaClickableAnimation(){}function CriLaC010(){this.position=CriGrxVector2.createFromXY(0,0);this.scale=CriGrxVector2.createFromXY(100,100);this.pivot=CriGrxVector2.createFromXY(0,0);this.rotate=0}function CriLaClickableArea(b,a){this.shape=CriLaClickableMapShapeType.RECT;this.startTime=0;this.duration=0;this.name="";this.actionObj=null;this.animation=null;this.resolution=[b,a];this.transform=new CriLaC010();this.fillStyle=CriLaClickableArea.generateColor_()}CriLaClickableArea.generateColor_=(function(){var b=360;var a=0;return function(){var e=a.toString(2);var g=Array.prototype.reverse.call(e.split("")).join("");var d=parseInt(g,2);var h=1<<e.length;var f=Math.round(b*d/h);++a;var c="hsla("+f+", 100%, 50%, 0.25)";return c}})();(function(a){Object.defineProperty(a,"end",{get:function(){return this.startTime+this.duration},set:function(b){this.duration=b-this.startTime}});a.isValid=function(c){var d=this.startTime;var b=this.end;return d<=c&&c<b};a.isClicked=function(b,i){var h=this.transform.position;var e=this.resolution;var g=h.x;var d=h.x+e[0];var f=h.y;var c=h.y+e[1];return g<=b&&b<d&&f<=i&&i<c};a.draw=function(m,f){var b=m.canvas;var c=b.width;var l=b.height;var i=f[0];var d=f[1];var j=this.transform.position.x;var g=this.transform.position.y;var k=this.resolution[0];var e=this.resolution[1];j=j/i*c;g=g/d*l;k=k/i*c;e=e/d*l;m.beginPath();m.rect(j,g,k,e);m.fillStyle=this.fillStyle;m.fill()}})(CriLaClickableArea.prototype);function CriLaClickableMap(){this.isLoaded=false;this.isVisible_=false;this.list_=[];this.sceneFPS_=0;this.sceneResolution=[0,0];this.CriLaP11m=document.createElement("eventdispatcher")}(function(a){a.initialize=function(i,h){var d=this;var c=i.getCanvas();var k=c.getContext("2d");var e=false;var f=c.parentNode.getElementsByClassName("lac-video-div")[0]||c;var j=function(l){if(l){return f.style.cursor=l}else{return f.style.cursor}};i.addEventListener("click",function(o){var m=o.detail.layers;var n=m.map(function(v){return v.name});var t=d.list_.some(function(w){var v=w.name;if(v&&n.indexOf(v)!==-1){w.actionObj.preAction(i);w.actionObj.doAction(o);return true}return false});if(t){return}var s=o.detail.point;var r=s.x;var q=s.y;var p=i.getFrame();for(var l=0;l<d.list_.length;l++){var u=d.list_[l];if(!u.isValid(p)){continue}if(u.isClicked(r,q)){u.actionObj.preAction(i);u.actionObj.doAction(o);break}}});i.addEventListener(CriLaEvent.DRAW,function(n){var m=i.getFrame();if(d.getVisibility()){d.list_.forEach(function(o){if(o.isValid(m)){d.drawClickableArea_(k,o)}})}var l=d.list_.some(function(o){return o.isValid(m)});if(e!=l){j(l?"pointer":"unset");e=l}});d.addEventListener("load",function(){if(d.getVisibility()){return}var m=d.list_.map(function(n){return n.name}).filter(Boolean);var l=i.getSceneByName(i.getCurrentSceneName());m.forEach(function(o){var n=l.getLayersByName(o);n.forEach(function(p){p.visibility=false})})});this.sceneFPS_=i.getCurrentSceneFrameRate();var g=i.getCurrentSceneWidth();var b=i.getCurrentSceneHeight();this.sceneResolution=[g,b];this.setup_(h)};a.setup_=function(b){this.load_(b)};a.setVisibility=function(b){this.isVisible_=b};a.getVisibility=function(){return this.isVisible_};a.load_=function(b){var c=this;CriLaXHR.requestLoad(b,"json",function(d){c.list_=c.createArea_(d);c.isLoaded=true;c.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("load"))},null,{async:true})};a.createArea_=function(e){var c=e.clickable_area;if(!c){return[]}var d=this;var b=e.clickable_area.map(function(i){var f=d.sceneResolution;var h=new CriLaClickableArea(f[0],f[1]);h.startTime=d.parseTime_(i.start_time,0);h.duration=d.parseTime_(i.duration,0);var g=d.parseTime_(i.end,-1);if(g>=0){h.end=g}h.name=String(i.name||"");h.transform=d.parseTransform_(i.transform,h.transform);h.resolution=d.parseResolution_(i,h.resolution);h.actionObj=d.createAction_(i.click_action);return h});return b};a.parseTime_=function(c,b){var d=b;var e=CriUnitValue.splitUnitFloat(c,"s");if(e[0]==null){return d}d=e[0];if(e[1]=="s"){d*=this.sceneFPS_}return d};a.parseTransform_=function(d,b){var c=b;if(d!=null){c.position=this.parseTransformXY_(d.position,c.position);c.pivot=this.parseTransformXY_(d.pivot,c.pivot);c.scale=this.parseTransformXY_(d.scale,c.scale);c.rotate=this.parseRotate_(d.rotate,c.rotate)}return c};a.parseRotate_=function(f,b){var c=this.validateValue_(f.rotate,b);var e=CriUnitValue.splitUnitFloat(c,"deg");var d=e[0];return d};a.parseArray2D_=function(f,e,b){if(e==null){return b}var d=this;var c=f.map(function(g,h){return d.validateValue_(e[g],b[h])});c=c.map(function(g,j){var h=CriUnitValue.splitUnitFloat(g,"px");var l=h[0];var k=h[1];if(k==="%"){l=Math.round(l*d.sceneResolution[j]/100)}return l});return c};a.parseTransformXY_=function(d,b){var c=this.parseArray2D_(["x","y"],d,[b.x,b.y]);return CriGrxVector2.createFromXY(c[0],c[1])};a.parseResolution_=function(c,b){return this.parseArray2D_(["width","height"],c,b)};a.validateValue_=function(c,b){if(c==null){return b}return c};a.createAction_=function(f){var c=new CriLaAction();if(f==null){return c}if(f.url!=null){var e=CriLaURL.sanitize(f.url,true);if(!e){return c}var d=this.validateValue_(f.target,"");c=new CriLaActionOpenURL(e,d)}else{if(f["function"]!=null){c=new CriLaActionExecFunction(f["function"])}else{}}var b=this.validateValue_(f.player,"pause");if(b=="pause"){c.preAction=function(g){g.pause()}}return c};a.drawClickableArea_=function(c,d){var b=this.sceneResolution;d.draw(c,b)};a.addEventListener=function(b,d,c){this.CriLaP11m.addEventListener(b,d,c)};a.dispatchEvent=function(b){this.CriLaP11m.dispatchEvent(b)}})(CriLaClickableMap.prototype);function CriLaControlTemplateLoader(){}(function(c){c.parser=new DOMParser();c.loadTemplateFromString=function(d){return b(this.parser,d)};c.loadTemplateFromUrl=function(e){var d=a(e);return this.loadTemplateFromString(d)};function a(e){var f=CriLaXHR.requestLoadSync(e);if(f.status!==200){var d="コントロールテンプレートの読み込みに失敗しました。XHR status: "+f.status;throw new CriLaControlTemplateLoaderError(d,{xhr:f})}return f.response}function b(h,d){var g=h.parseFromString(d,"text/html");if(g.getElementsByTagName("parsererror").length>0){var e="コントロールテンプレートのパースに失敗しました。";throw new CriLaControlTemplateLoaderError(e,{doc:g})}var f=document.createElement("div");CriLaPolyfill.Array.from(g.body.childNodes).forEach(function(i){f.appendChild(i)});return f}})(CriLaControlTemplateLoader);function CriLaControlTemplateLoaderError(b,a){Error.call(this,b);this.message=b;this.detail=a||{}}CriLaPolyfill.Object.setPrototypeOf(CriLaControlTemplateLoaderError.prototype,Error.prototype);var CriLiveActSharedSettings={customerCode_:null,additionalRequestHeaders_:null};CriLiveActSharedSettings.setCustomerCode=function(a){this.customerCode_=a};CriLiveActSharedSettings.getCustomerCode=function(){return this.customerCode_};CriLiveActSharedSettings.setAdditionalRequestHeaders_=function(a){this.additionalRequestHeaders_=a};CriLiveActSharedSettings.getAdditionalRequestHeaders_=function(){var b=this.additionalRequestHeaders_;if(!b){return null}var a={};Object.keys(b).forEach(function(c){var d=b[c];a[c]=d});return a};function CriLiveActViewMargin(c){var h=function(i){var k=CriTypeUtil.typeOf(i);if(k=="Number"){return i}else{if(k=="String"){var j=CriUnitValue.splitUnit(i,"%");if(j[1]=="%"){return j[0]}console.warn("マージン設定の単位は%のみ有効です。 value: "+i)}}return null};var g={};var e={head:null,tail:null};var b=c;var d=function(i){var j=e[i];return j==null?b:j};var a=function(j,i){e[j]=h(i)};var f=function(i){Object.defineProperty(g,i,{get:d.bind(null,i),set:a.bind(null,i)})};f("head");f("tail");return g}function CriLiveActContentMargin(a){this.distance=a}CriLiveActSharedSettings.ScrollInViewMargin=new CriLiveActViewMargin(50);CriLiveActSharedSettings.ContentInMargin=new CriLiveActContentMargin(100);CriLiveActSharedSettings.autoPause=(function(){var a=CriUAChecker.getOS();return a===CriUAOS.iOS||a===CriUAOS.Android})();CriLiveActSharedSettings.advancedAnalyticsDebug=false;

/****************************************************************************
 *
 * LiveAct(R) PRO
 * Framework
 *
 * (c) 2016 CRI Middleware Co., Ltd.
 * Version : 1.63.531.0
 *
 ****************************************************************************/
"use strict";
var CriLaPlayTrigger={TAP:"tap",AUTO:"auto",SCROLL:"scroll",SCRIPT:"script"};var CriLaPlayerType={NORMAL:"2d",WEBGL:"webgl"};var CriLaBaseURL={CURRENT:"./",LJT_LOCATION:"[LA_LJT_LOCATION]",LJT_LOCATION_REGEX:/\[LA_LJT_LOCATION\]/g};CriLaBaseURL.DEFAULT=CriLaBaseURL.LJT_LOCATION;function CriLaFw(){}CriLaFw.isScriptLoaded=false;CriLaFw.playCount_=0;CriLaFw.playerList_=[];CriLaFw.isFirstPlayList_=[];CriLaFw.loopStartFrame_=0;CriLaFw.debug={};CriLaFw.parentDivList_=[];CriLaFw.isStartLoaded_=false;CriLaFw.playerContexts_={};CriLaFw.getPlayerByIndex=function(a){return CriLaFw.playerList_[a]||null};CriLaFw.getNumPlayers=function(){return CriLaFw.playerList_.length};CriLaFw.getNumPlayer=CriLaFw.getNumPlayers;CriLaFw.getPlayCount=function(){return CriLaFw.playCount_};CriLaFw.getPlayerIndex_=function(b){var a=CriLaFw.playerList_.indexOf(b);return a>=0?a:void (0)};CriLaFw.getParentDivByIndex=function(a){return CriLaFw.parentDivList_[a]||null};CriLaFw.getParentDivByPlayer=function(a){var b=CriLaFw.getPlayerIndex_(a);if(b==undefined){return undefined}return CriLaFw.getParentDivByIndex(b)};CriLaFw.countFirstPlay_=function(a){var c=a.player;var b=CriLaFw.getPlayerIndex_(c);if(CriLaFw.isFirstPlayList_[b]==true){CriLaFw.playCount_++;if(CriLaFw.playCounted!=undefined){CriLaFw.playCounted(c)}c.removeEventListener("play",CriLaFw.countFirstPlay_)}};CriLaFw.sendEndedCount=function(a){var b=a.player;if(CriLaFw.endCounted!=undefined){CriLaFw.endCounted(b)}};CriLaFw.createAndInitializeLaPlayer=function(a,b){return CriLaFw.createAndInitializeLaPlayerCommon_(CriLaPlayer,a,b)};CriLaFw.createAndInitializeLaPlayerWebGL=function(a,b){return CriLaFw.createAndInitializeLaPlayerCommon_(CriLaPlayerWebGL,a,b)};CriLaFw.createAndInitializeLaPlayerCommon_=function(a,b,d){var c=new a();c.initialize(b,d);CriLaFw.initializeLaPlayerCommon_(c);return c};CriLaFw.initializeLaPlayerCommon_=function(a){a.addEventListener("play",CriLaFw.countFirstPlay_);a.addEventListener("firstended",CriLaFw.sendEndedCount);CriLaFw.playerList_.push(a);CriLaFw.isFirstPlayList_.push(true);if(CriLaFw.setupPlayer!=null){CriLaFw.setupPlayer(a)}};CriLaFw.setupContent=(function(){var a=0;return function(b){CriLaFw.setupContent_(b,a++)}})();CriLaFw.setupContent_=function(p,z){var m=parseInt(p.getAttribute("data-width"),10)||0;var u=parseInt(p.getAttribute("data-height"),10)||0;var h=p.getAttribute("data-swipe-direction")||"right";var K=p.getAttribute("data-swipe-angle-limit")||"";var H=p.getAttribute("data-prevent-scroll");var d=true;if(H==null||H==""||H==="true"){d=true}else{d=false}var g=p.getAttribute("data-duration");var w=Number(g);if(!Boolean(g)||isNaN(w)){w=0}if(w<0){w=0}var x=p.getAttribute("data-autoplay-type");var y=p.getAttribute("data-start-frame");var G=0;if(y!==null){G=parseFloat(y)}var s=p.getAttribute("data-play-trigger");var k=CriLaPlayTrigger.SCROLL;for(var B in CriLaPlayTrigger){if(CriLaPlayTrigger[B]==s){k=CriLaPlayTrigger[B];break}}if(k===CriLaPlayTrigger.SCROLL&&CriLaHtmlCss.isAncestorFixed(p)){k=CriLaPlayTrigger.AUTO}var r=p.getAttribute("data-scroll-play");if(r=="true"){k=CriLaPlayTrigger.SCROLL}var D=p.getAttribute("data-link");var o="";var a="_self";try{var v="{"+D+"}";var j=[["'",'"']];j.forEach(function(M){var N=M[0];var L=M[1];var e=new RegExp(N,"g");v=v.replace(e,L)});var c=JSON.parse(v);o=c.url;a=c.target}catch(I){o=D}var E=p.id;if(E==""){E=z.toString()}var C="liveact-canvas-"+E;var i=CriLaFw.createCanvas(C,m,u,p);var f=p.getAttribute("data-content-type");var l=CriLaPlayerType.NORMAL;if(f=="allaround-sphere"){l=CriLaPlayerType.WEBGL}var q=p.getAttribute("data-template-url");var J=null;if(q){try{J=CriLaControlTemplateLoader.loadTemplateFromUrl(q)}catch(I){if(I instanceof CriLaControlTemplateLoaderError){console.warn("コントロールテンプレートを読み込めませんでした。デフォルトテンプレートを使います。",I)}else{throw I}}}CriLaFw.parentDivList_.push(p);var F=null;switch(l){case CriLaPlayerType.NORMAL:F=CriLaFw.createAndInitializeLaPlayer(i,J);break;case CriLaPlayerType.WEBGL:F=CriLaFw.createAndInitializeLaPlayerWebGL(i,J);break;default:throw new Error("invalid player-type")}if(!F){console.warn("プレーヤーの生成に失敗しました");return null}CriLaFw.setupPlayerFrameworkCommon_(F,p);if(CriLaFw.memoryReduction==true){F.setMemoryReduction(true)}if(k!=CriLaPlayTrigger.TAP&&CriLaFw.canAutoPlayMP4()){F.setControlStyle({screenPlayButton:false})}var t=p.getAttribute("data-clickable-map");if(t!=null){CriLaFw.setClickableMap(F,t)}if((k===CriLaPlayTrigger.AUTO)&&(f!=="rotate360")){F.play()}else{F.pause()}if(k===CriLaPlayTrigger.TAP){F.enableTapPlay(true)}var n=F.getStreamType();var A=CriLaFw.setupJumpURL(F,o,a);if(A||t!=null){F.enableTapPlay(false)}if(f=="rotate360"){F.enableTapPlay(false);CriLaFw.setup360Rotate(F,G,h,w,x,d,K)}else{if(f=="fullscreen-FAR"){CriLaFw.setupFullscreenFAR(F)}else{if(f=="allaround-sphere"){CriLaFw.setupAllaroundSphere(F,d,p)}}}if((r=="true"||k==CriLaPlayTrigger.SCROLL)&&f!="rotate360"){CriLaFw.setupScrollToPlay(F)}var b=p.getAttribute("data-control-style")||"";CriLaFw.setupControlStyle(F,b);return F};CriLaFw.setupPlayerFrameworkCommon_=function(r,j){var e={};var g=j.getAttribute("data-base-url")||CriLaBaseURL.DEFAULT;var b=r.getSharedResourcesBaseURL();b=b||CriLaBaseURL.DEFAULT;b=j.getAttribute("data-shared-base-url")||b;var p=j.getAttribute("data-frameblend")==="true";e.frameblend=p;var l=j.getAttribute("data-playable-buffer");if(l){var h=void (0);var o=void (0);var d=l||"";var m=/^(.+)(ms|%)$/;var i=d.match(m);if(i){h=parseInt(i[1],10);o=i[2];if(isNaN(h)){h=void (0);o=void (0)}}else{o=void (0);h=parseInt(d,10);if(isNaN(h)){h=void (0)}}r.setPlayableBufferSize(h,o)}if(CriLaFw.setResourceLoadQueue_==true){r.setVideoPreloadType("metadata");r.enableRequestLoadResource(false)}var f=j.getAttribute("data-play-trigger");if(f===CriLaPlayTrigger.SCRIPT){r.enableTapPlay(false)}var t=false;var u=j.getAttribute("data-ljt-variable");var k=j.getAttribute("data-ljt-url");if(u!=null||k!=null){var m=CriLaBaseURL.LJT_LOCATION_REGEX;var s=CriLaBaseURL.CURRENT;if(u==null&&k!=null){s=CriLaURL.getDirectory(k)}g=g.replace(m,s);b=b.replace(m,s);r.setResourcesBaseURL(g);r.setSharedResourcesBaseURL(b);if(u!=null){t=r.loadLjtFromString(window[u],e)}else{if(k!=null){t=r.loadLjt(k,e)}}if(t==false){console.warn("「ljt」の読み込みに失敗しました。\n正しいljtフォーマットでない可能性があります。");return null}if(u!=null){r.requestLoadResourcesCurrentScene()}}if(CriLaFw.setResourceLoadQueue_==false){r.requestLoadResources()}else{r.enableRequestLoadResource(true);CriLaFw.updateLoadResourcePlayer()}r.enableRequestLoadResource(true);var a=j.getAttribute("data-loop");if(a){var q=(a==="true");r.setLoopFlg(q)}var c=j.getAttribute("data-loop-start");if(c){var n=CriLaFw.getFrameByString(c,r);CriLaFw.setLoopStart(r,n)}CriLaFw.setupPlayerSize_(r);return r};CriLaFw.setupPlayerSize_=function(b){var a=b.getCanvas();if(a.width<=0||a.height<=0){b.resizeCanvasToCurrentScene(CriLaCanvasResolutionUsage.ATTRIBUTE)}};CriLaFw.createCanvas=function(e,d,a,c){var b=document.createElement("canvas");b.id=e;b.width=d;b.height=a;b.style.width="100%";c.appendChild(b);CriLaEventDispatcher.global.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("domchanged"));return b};CriLaFw.setupScrollToPlay=function(c){var b=false;var d=c.getCanvas();c.pause();var a=function(){if((c.isPaused()||c.isStopped())&&!b){c.play();b=true}};var e=function(){if((c.isPaused()||c.isStopped())==false){c.pause();b=false}};c.addEventListener(CriLaEvent.SCROLL_IN,a);c.addEventListener(CriLaEvent.SCROLL_OUT,e)};CriLaFw.setupFullscreenFAR=function(a){CriLaEventDispatcher.global.addEventListener("resize",function(){CriLaFw.resizeCanvasFullScreenFAR(a)},false);CriLaFw.resizeCanvasFullScreenFAR(a)};CriLaFw.setupControlStyle=function(a,c){var b=CriLaData.Dict.fromString(";",":",c);a.setControlStyle(b)};CriLaFw.resizeCanvasFullScreenFAR=function(e){var g=window.innerWidth;var a=window.innerHeight;var f=g/a;var c=e.getCurrentSceneWidth();var h=e.getCurrentSceneHeight();var d=c/h;var b=f>=d;if(b){e.resizeCanvasToFixedRatioWidth("100vw")}else{e.resizeCanvasToFixedRatioHeight("100vh")}};CriLaFw.getFrameByString=function(e,a){var b=e.match(/(\d+)(.*)/);var d=0;if(b.length>1){d=Number(b[1])}if(b.length>2){if(b[2]=="ms"){var c=a.getCurrentSceneFrameRate();d=d/1000*c}}return d};CriLaFw.setLoopStart=function(a,b){a.addEventListener("ended",function(){a.setFrame(b);a.play()});a.setLoopFlg(false)};CriLaFw.reflowPlayerAll=function(){CriLaFw.playerList_.forEach(function(a){a.resizeFromParentElement()})};CriLaFw.setScrollInViewMargin=function(c,b){var a=CriLiveActSharedSettings.ScrollInViewMargin;a.head=c;a.tail=b};CriLaFw.getScrollInViewMarginHead=function(){return CriLiveActSharedSettings.scrollInViewMargin.head};CriLaFw.getScrollInViewMarginTail=function(){return CriLiveActSharedSettings.scrollInViewMargin.tail};CriLaFw.setCustomerCode=function(a){CriLiveActSharedSettings.setCustomerCode(a)};CriLaFw.getPlayerElementsFromDOM_=function(){var a=document.getElementsByClassName("cri-liveact-player");return CriLaPolyfill.Array.from(a)};CriLaFw.scanDOM=(function(){function a(b){var c=b.getElementsByTagName("canvas");return c.length===0}return function(){var b=CriLaFw.getPlayerElementsFromDOM_();var c=b.filter(a);c.forEach(CriLaFw.setupContent)}})();CriLaFw.startParallelLoad=function(b){CriLaFw.isStartLoaded_=true;var a=false;c();function c(){CriLaFw.scanDOM();if(a==false){setTimeout(c,100)}}CriLaEventDispatcher.ready(function(){a=true;c();if(CriLaFw.setResourceLoadQueue_==true){CriLaEventDispatcher.global.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("domchanged"));CriLaFw.updateLoadResourcePlayer()}})};CriLaFw.getContext=function(b){var a=CriLaFw.getPlayerIndex_(b);var c=CriLaFw.playerContexts_;if(!(a in c)){c[a]={}}return c[a]};CriLaFw.canAutoPlayMP4=function(){var c=CriUAChecker.getOS();var b=false;if(CriUAOS.Windows==c){b=true}else{if(CriUAOS.macOS==c){b=true}else{if(CriUAOS.iOS==c){var a=CriUAChecker.getOSVersion();if(a>=10){b=true}}else{if(CriUAOS.Android==c){if(CriUAChecker.getBrowser()==CriUABrowser.Chrome){if(CriUAChecker.getBrowserVersion()>=53){b=true}}}}}}return b};CriLaFw.setClickableMap=function(b,a){var c=new CriLaClickableMap();if(CriLaFw.debug.clickableMap!=undefined){c.setVisibility(CriLaFw.debug.clickableMap)}c.initialize(b,a)};CriLaFw.initialize=function(){var a=function(j,k){this.player_element=j;this.priority=k;this.player=null};function g(k,j){return -(k.priority-j.priority)}function i(j){j=parseInt(j,10);if(j<0){j=0}else{if(j>100){j=100}else{if(j===-0){j=0}}}return j}function e(j){var k=j.map(function(m){var l=m.getAttribute("data-load-priority");if(l==null||l==""){l="50"}l=i(l);return new a(m,l)});k.sort(g);return k}function c(j){if(j===undefined){return true}return j.every(function(k){return k.player.isCompleteCurrentScene()})}function h(l){var m=new Array();var k=l[0].priority;m.push(l[0]);l.shift();for(var j=0;j<l.length;){if(k==l[j].priority){m.push(l[j]);l.shift();continue}else{break}}return m}function f(m,l){if(l.length==0){return}var j=c(m);if(j==false){setTimeout(function(){f(m,l)},100);return}m=h(l);for(var k=0;k<m.length;k++){m[k].player=CriLaFw.setupContent(m[k].player_element)}setTimeout(function(){f(m,l)},100)}if(CriLaFw.isStartLoaded_==false){var d=CriLaFw.getPlayerElementsFromDOM_();var b=e(d);f(undefined,b)}if(CriLaFw.setResourceLoadQueue_==true){CriLaFw.updateLoadResourcePlayer()}};CriLaFw.loadResourcePlayerList_=[];CriLaFw.queueSize_=3;CriLaFw.setResourceLoadQueue_=false;CriLaFw.bfcacheFirstVideoLoadStartCount=8;CriLaFw.bfcacheRemainingVideoLoadStartCount=16;CriLaFw.bfcacheRestorePollingTimeMs=33;CriLaFw.bfcacheJumpWaitTimeMs=300;CriLaFw.updateLoadResourcePlayerDebounceTimeMs=33;CriLaFw.requestPageJump_=false;CriLaFw.bfcacheRestore=function(){var b=0;function a(){if(b==CriLaFw.bfcacheFirstVideoLoadStartCount){CriLaFw.requestPageJump_=false;CriLaFw.loadResourcePlayerList_[0].loadCurrentSceneResourcesAll()}if(b>=CriLaFw.bfcacheRemainingVideoLoadStartCount){CriLaFw.loadResourcePlayerList_.slice(1).forEach(function(c){c.loadCurrentSceneResourcesAll()})}else{b++;setTimeout(a,CriLaFw.bfcacheRestorePollingTimeMs)}}if(CriLaFw.loadResourcePlayerList_.length>0){setTimeout(a,CriLaFw.bfcacheRestorePollingTimeMs)}};CriLaFw.getSortedPlayerList=function(){function b(g,f){var d=g.getDistanceFromViewport();var c=f.getDistanceFromViewport();var e=d[1]-c[1];if(e===0){e=d[3]-c[3]}return e}var a=CriLaFw.playerList_.concat();a.sort(b);return a};CriLaFw.updateLoadResourcePlayer=function(){var a=CriLaFw.loadResourcePlayerList_;var c=CriLaFw.getSortedPlayerList();var f=a.slice(0,CriLaFw.queueSize_);var b=c.slice(0,CriLaFw.queueSize_);var e=f.filter(function(g){return b.indexOf(g)===-1});var d=b.filter(function(g){return f.indexOf(g)===-1});e.forEach(function(g){g.unloadVideoResource()});d.forEach(function(g){g.loadCurrentSceneResourcesAll()});CriLaFw.loadResourcePlayerList_=b};CriLaFw.setLoadQueueSize=function(a){CriLaFw.queueSize_=isNaN(a)==false?a:CriLaFw.queueSize_;CriLaFw.setResourceLoadQueue_=true;window.addEventListener("scroll",CriLaFunctional.debounce(CriLaFw.updateLoadResourcePlayerDebounceTimeMs,function(){CriLaEventDispatcher.global.dispatchEvent(new CriLaPolyfill.Event.CustomEvent("domchanged"));CriLaFw.updateLoadResourcePlayer()}))};CriLaFw.unloadResourcePlayer=function(){CriLaFw.loadResourcePlayerList_.forEach(function(a){a.setPageJumpMode();a.unloadVideoResource()})};CriLaFw.setupAllaroundSphere=function(x,i,c){var j=x.canvas_;x.enableEveryFrameDrawing(true);var u=true;var H=this.setAllaroundViewUI(x,j);var b=c.getAttribute("data-rotate")||"";try{var k=CriLaFw.parseRotateAllaroundSphere_(b)}catch(D){console.warn("data-rotate 属性値が不正です")}var a=c.getAttribute("data-view-angle")||"";var g=CriUnitValue.parseAngleToRadian(a);if(g!==0){CriLaFw.setViewAngle(x,g)}var n=x.getWorldMatrix();var h=x.getCamera().getViewMatrix();x.getCamera().position_.z=0;x.getCamera().update();var C=x.getContext();C.cullFace(C.FRONT);C.disable(C.DEPTH_TEST);var l=null;l=j;x.enableTapPlay(false);x.addEventListener(CriLaEvent.CAN_PLAY,function(){var e=x.getModel();if(e){var J=e.getMaterialByIndex(0);J.setUvMatrix([-1,0,0,1,0,1,0,0])}});var r=G();var w=null;function v(L){var K=L.detail.timeStamp;if(w===null){w=K}var J=K-w;w=K;var e=x.getStatus();if(e==CriLaPlayStatus.STOP){return}r=G();m(J)}x.addEventListener(CriLaEvent.MAIN_LOOP,v);function m(L){if(p==null){return}p.updateInertia(L);var K=p.getInertia();var N=p.isDown();if(N==false){var J=CriGrxVector2_Scale(K,L);var M=CriGrxVector2_Scale(J,r);var e=H.rot;e=CriGrxVector2_Add(e,M);B(e);H.rot=e}}function G(){var e=0.5;var L=x.getCanvas();var K=CriLaHtmlCss.getElementWidthHeight(L);var J=K.getWidth();if(J<=0){return 0}e=720/J;e*=0.002;e*=-1;e*=(H.viewAngle/CriLaFwAllaroundUIContext.DEFAULT_VIEW_ANGLE);return e}function s(e){n.setIdentity();n.rotateY(e+k.y);return e}function f(J,e){n.setIdentity();n.rotateY(e+k.y);n.rotateX(J+k.x)}function B(e){if(H.gyroSensorEnabled){s(e.x+e.y)}else{f(e.y,e.x)}}function t(e){}function y(K){if(u){K.preventDefault()}var J=K.getMoveValue();var L=CriGrxVector2_Scale(J,r);var e=H.rot;e=CriGrxVector2_Add(e,L);B(e);H.rot=e}function A(e){}function q(e){e.preventDefault()}function d(e){e.preventDefault();CriLaFw.scaleViewAngle_(x,1/e.getScale())}function F(e){}var p=new CriLaFwGesture();p.initialize(j);p.addEventListener("swipebegin",t);p.addEventListener("swipe",y);p.addEventListener("swipeend",A);p.addEventListener("pinchbegin",q);p.addEventListener("pinch",d);p.addEventListener("pinchend",F);if(typeof(j.onmousedown)!=="undefined"){j.addEventListener("wheel",E,false)}function E(J){if(!CriLaFw.swipeZoom){return}J.preventDefault();var e=J.deltaY>0?1.05:1/1.05;CriLaFw.scaleViewAngle_(x,e)}function o(J){if(H.gyroSensorEnabled==false){return}var e=(J.beta);var L=J.alpha;var K=-J.gamma;e=CriGrxMath.degreeToRadian(e);L=CriGrxMath.degreeToRadian(L);K=CriGrxMath.degreeToRadian(K);z(e,L,K)}function z(e,K,J){if(e==0&&K==0&&J==0){return}h.setIdentity();h.rotateX(-Math.PI/2);if(window.orientation!=null){h.rotateY(CriGrxMath.degreeToRadian(-window.orientation))}h.rotateZ(J);h.rotateX(e);h.rotateY(K);h.transpose();h.translateXYZ(0,0,-1)}if(window.DeviceOrientationEvent){var I=false;window.addEventListener("deviceorientation",function(e){if(e.alpha===null||e.beta===null||e.gamma===null){return}if(!I){x.setControlStyle({gyro:true});I=true}o(e)})}return x};function CriLaFwAllaroundUIContext(){this.gyroSensorEnabled=false;this.viewAngle_=CriLaFwAllaroundUIContext.DEFAULT_VIEW_ANGLE;this.rot=new CriGrxVector2()}CriLaFwAllaroundUIContext.DEFAULT_VIEW_ANGLE=CriGrxMath.degreeToRadian(60);CriLaFwAllaroundUIContext.VIEW_ANGLE_MIN=CriGrxMath.degreeToRadian(10);CriLaFwAllaroundUIContext.VIEW_ANGLE_MAX=CriGrxMath.degreeToRadian(100);Object.defineProperty(CriLaFwAllaroundUIContext.prototype,"viewAngle",{get:function(){return this.viewAngle_},set:function(a){this.viewAngle_=CriGrxMath.clamp(CriLaFwAllaroundUIContext.VIEW_ANGLE_MIN,CriLaFwAllaroundUIContext.VIEW_ANGLE_MAX,a)},enumerable:true});CriLaFw.setAllaroundViewUI=function(f,c){var a=CriLaFw.getPlayerIndex_(f);var e=new CriLaFwAllaroundUIContext();CriLaFw.playerContexts_[a]=e;if(f.isEnabledControlTemplate()===true){f.setupTemplateControl()}else{f.setupAllaroundControl()}var b=f.getControls();b.addEventListener(CriLaControlEvent.GYRO_BUTTON_CLICKED,function(){d()});f.addEventListener(CriLaEvent.GYRO_CHANGE,function(){b.setButtonState(CriLaControlComponentName.GYRO_BUTTON,e.gyroSensorEnabled)});b.addEventListener(CriLaControlEvent.ZOOM_IN_BUTTON_PRESSED,function(h){g(-1)});b.addEventListener(CriLaControlEvent.ZOOM_OUT_BUTTON_PRESSED,function(h){var i=CriGrxMath.degreeToRadian(0.5);g(+1)});CriLaFw.setViewAngle(f,e.viewAngle);function g(h){CriLaFw.stepViewAngle_(f,g.STEP_VIEW_ANGLE*h)}g.STEP_VIEW_ANGLE=CriGrxMath.degreeToRadian(0.5);function d(){if(!e.gyroSensorEnabled){e.gyroSensorEnabled=true}else{if(e.gyroSensorEnabled){var h=new CriGrxVector3();var j=new CriGrxVector3();var k=new CriGrxVector3();h.setXYZ(0,0,0);j.setXYZ(0,0,-1);k.setXYZ(0,1,0);var i=f.getCamera().getViewMatrix();i.setIdentity();i.lookAtRH(h,j,k);e.gyroSensorEnabled=false}}f.dispatchEvent(CriLaEvent.GYRO_CHANGE)}return e};CriLaFw.setViewAngle=function(b,c){if(b.getCamera){var a=CriLaFw.getContext(b);a.viewAngle=c;b.getCamera().setViewAngle(c)}};CriLaFw.stepViewAngle_=function(c,a){if(c.getCamera){var b=CriLaFw.getContext(c);this.setViewAngle(c,b.viewAngle+a)}};CriLaFw.scaleViewAngle_=function(b,c){if(b.getCamera){var a=CriLaFw.getContext(b);this.setViewAngle(b,a.viewAngle*c)}};CriLaFw.enableGyroSensor=function(c,a){var b=CriLaFw.getContext(c);if("gyroSensorEnabled" in b){b.gyroSensorEnabled=Boolean(a)}};CriLaFw.parseRotateAllaroundSphere_=function(b){var c=new CriGrxVector3();if(b){var a=JSON.parse(b.toLowerCase());["x","y","z"].forEach(function(d){c[d]=CriUnitValue.parseAngleToRadian(a[d])})}return c};CriLaFw.setup360Rotate=function(K,G,d,C,v,a,B){var o=K.getCurrentSceneLength();var u=function(){return CriLaFw.preventScroll==null?a:CriLaFw.preventScroll};if(CriLaFw.getContext(K).cosineSwipeLimit==null){CriLaFw.setSwipeAngleLimit(K,0)}if(B){var M=B;var f=CriUnitValue.parseAngleToRadian(M);CriLaFw.setSwipeAngleLimit(K,f)}var A=CriGrxVector2.createFromXY(0,1);var e=function(N){var P=CriGrxVector2_Div(N,N.getLength());var Q=CriGrxVector2_Dot(A,P);Q=Math.abs(Q);var O=CriLaFw.getContext(K);var R=O.cosineSwipeLimit;return R-Q>=0.001};K.setFrame(G);var g=K.getCanvas();var E=1;if(d==="right"){E=-1}else{if(d==="left"){E=+1}}CriLaFw.setupSwipeUI(K);var b=false;var z=new CriLaFwGesture();z.initialize(g);z.addEventListener("swipebegin",k);z.addEventListener("swipe",w);z.addEventListener("swipeend",m);z.addEventListener("pinchbegin",n);z.addEventListener("pinch",c);z.addEventListener("pinchend",p);function k(N){if(!K.canPlayCurrentScene()){return}K.pause();b=true}function w(R){if(!K.canPlayCurrentScene()){return}if(u()){R.preventDefault()}var P=R.getMoveValue();var O=R.getOriginMoveValue();var U=CriGrxVector2_Add(P,O);if(e(U)===false){return}var T=R.event_;if(r(T)){if(!CriLaFw.swipeZoom){return}CriLaFw.move(K,P.x,P.y);R.resetInertia()}else{var Q=l();var S=CriGrxVector2_Scale(P,Q);var N=S.x;L(-N)}}function m(N){}function n(N){if(!CriLaFw.swipeZoom){return}N.preventDefault()}function c(P){if(!CriLaFw.swipeZoom){return}P.preventDefault();var O=(P.getScale()*100)-100;var N=P.getMoveValue();CriLaFw.zoom(K,O,P.getPosition());CriLaFw.move(K,N.x,N.y)}function p(N){}function l(){var N=0.5;var Q=K.getCanvas();var P=CriLaHtmlCss.getElementWidthHeight(Q);var O=P.w;if(O<=0){return 0}N=720/O;N*=o/330;N*=E;N/=K.getScaleXY()[0];return N}function r(O){if(O&&O.detail.shiftKey){return true}var N=CriLaFw.getContext(K);return N.swipeMode}var s=false;function L(Q){if(Q===0){return}if(!s){s=true;K.play();K.pause()}var O=K.getFrame();O+=Q;var N=o-1;var P=K.getLoopFlg();if(P){O=(O+N)%N}else{O=O<0?0:O>N?N:O}K.setFrame(O)}function j(Q){if(!z){return}z.updateInertia(Q);var P=z.getInertia();var N=z.getOriginMoveValue();if(!z.isDown()){var O=CriGrxVector2_Scale(P,Q);var S=CriGrxVector2_Add(N,O);if(e(S)===false){return}var R=O.x*l();R/=2;L(-R)}}var i=null;function F(O){if(i===null){i=O}var N=O-i;i=O;j(N);window.requestAnimationFrame(F)}window.requestAnimationFrame(F);var H=C;if(H){var t=K.getCurrentSceneDuration();var J=K.getCurrentSceneFrameRate();var x=t*1000/J;var y=x/H;K.setPlaybackRate(y);var q=function(){if(b==false){K.play()}};var I=function(){if(b==false){K.pause()}};K.addEventListener(CriLaEvent.SCROLL_IN,q);K.addEventListener(CriLaEvent.SCROLL_OUT,I);var h=v==="once"?360:0;var D=h/360;if(D>=1){K.addEventListener(CriLaEvent.FIRST_PLAY_END,function(){var O=CriLaFw.decelerateSettings;if(O){var Q=O.type;var P=O.timeConstant;if(P==null){P=500}if(P<0){P=0}var N=K.getPlaybackRate();if(Q==="friction"){K.decelerateFunc_=CriLaFw.decelerate_factory_friction_(N,P)}else{if(Q==="air_resistance"){K.decelerateFunc_=CriLaFw.decelerate_factory_air_resistance_(N,P/Math.log(10))}}}else{K.pause();b=true}})}}};CriLaFw.decelerate_factory_friction_=function(a,b){var d=0;var c=false;return function(f){if(g){return 0}d+=f;var e=a*(b-d)/b;if(e<0){var g=true;e=0}return e}};CriLaFw.decelerate_factory_air_resistance_=function(a,b){var d=0;var e=0.01;var c=false;return function(g){if(h){return 0}d+=g;var f=a*Math.exp(-d/b);if(f<e){var h=true;f=0}return f}};CriLaFw.move=function(e,i,h){var d=e.getCanvas();var f=CriLaHtmlCss.getElementWidthHeight(d);var a=f.getWidth();var g=f.getHeight();var c=e.getCurrentSceneWidth();var b=e.getCurrentSceneHeight();i*=c/a;h*=b/g;CriLaFw.move_scene(e,i,h);e.requestRedraw()};CriLaFw.move_scene=function(i,k,j){var f=i.getPositionXY();f[0]+=k;f[1]+=j;var c=i.getScaleXY();var g=i.getCurrentSceneWidth();var d=i.getCurrentSceneHeight();var b=f[0];var h=b+g*c[0];var e=f[1];var a=e+d*c[1];if(b>0){f[0]=0}else{if(g-h>0){f[0]=g*(1-c[0])}}if(e>0){f[1]=0}else{if(d-a>0){f[1]=d*(1-c[1])}}i.setPositionXY(f[0],f[1])};CriLaFw.zoom=function(o,b,r){var l=o.getCurrentSceneWidth();var f=o.getCurrentSceneHeight();var n=o.getCanvas();var p=CriLaHtmlCss.getElementWidthHeight(n);var d=p.getWidth();var q=p.getHeight();if(r==null){r=CriGrxVector2.createFromXY(d/2,q/2)}var c=o.getScaleXY();var m=l*c[0];var g=f*c[1];var k=o.getPositionXY();r=CriGrxVector2.createFromXY((-k[0]+l*r.x/d)/m,(-k[1]+f*r.y/q)/g);c=o.getScaleXY().map(function(h){return h*(100+b)/100});c=c.map(function(h){return h<1?1:h>6?6:h});o.setScaleXY(c[0],c[1]);var e=l*c[0];var i=f*c[1];var a=e-m;var j=i-g;CriLaFw.move_scene(o,-a*r.x,-j*r.y);o.requestRedraw()};CriLaFw.setupSwipeUI=function(e){if(!CriLaFw.swipeZoom){return}if(e.isEnabledControlTemplate()===true){e.setupTemplateControl()}else{e.setupSwipeControl()}var a=e.getControls();var d=CriLaFw.getContext(e);d.swipeMode=false;e.addEventListener(CriLaEvent.SWIPE_MODE_CHANGE,function(){a.setButtonState(CriLaControlComponentName.SWIPE_MODE_BUTTON,d.swipeMode)});a.addEventListener(CriLaControlEvent.SWIPE_MODE_BUTTON_CLICKED,function(){d.swipeMode^=true;e.dispatchEvent(CriLaEvent.SWIPE_MODE_CHANGE)});a.addEventListener(CriLaControlEvent.ZOOM_IN_BUTTON_PRESSED,function(g){var f=g.detail.deltaTime;CriLaFw.zoom(e,1)});a.addEventListener(CriLaControlEvent.ZOOM_OUT_BUTTON_PRESSED,function(g){var f=g.detail.deltaTime;CriLaFw.zoom(e,-1)});var c=e.getCanvas();if(typeof(c.onmousedown)!=="undefined"){c.addEventListener("wheel",b,false)}function b(h){var f=CriGrxVector2.createFromXY(h.offsetX,h.offsetY);var g=h.deltaY>0?-5:5;CriLaFw.zoom(e,g,f);h.preventDefault()}};CriLaFw.setSwipeAngleLimit=function(b,d){d=d<0?0:d>Math.PI/2?Math.PI/2:d;var a=CriLaFw.getContext(b);var c=Math.abs(Math.cos(d));a.cosineSwipeLimit=c};CriLaFw.setupJumpURL=function(j,d,f){d=CriLaURL.sanitize(d);if(!d){return false}function m(){if(CriLaFw.setResourceLoadQueue_==true&&CriUAChecker.getOS()==CriUAOS.iOS){if(CriLaFw.requestPageJump_==true){return}CriLaFw.requestPageJump_=true;CriLaFw.unloadResourcePlayer();setTimeout(function(){CriLaFw.loadResourcePlayerList_.reverse();CriLaFw.loadResourcePlayerList_.forEach(function(n){n.restoreFromPageJumpMode()});CriLaFw.loadResourcePlayerList_.reverse();CriLaFw.bfcacheRestore();j.pagejump(d,f)},CriLaFw.bfcacheJumpWaitTimeMs)}else{j.pagejump(d,f)}}j.addEventListener(CriLaEvent.CLICK,m);var c=j.getCanvas();var l=c.parentNode;var i=document.createElement("div");i.className="liveact-link-highlight";var a=i.style;l.style.cursor="pointer";var e=function(n){a.opacity=(n?0.5:0)};var k=e.bind(null,false);var h=e.bind(null,true);k();if(CriUAChecker.isMobile()){var b=new CriLaCustomPointerEvent(c);b.addEventListener("down",h,false);b.addEventListener("up",k,false)}var g=c.nextSibling;l.insertBefore(i,g);return true};function CriLaFwGesture(){this.lastPosition_=null;this.lastDistance_=null;this.moveHistory_=null;this.elapsedHistory_=null;this.lastOrigin_=null;this.originMove_=null;this.scale_=1;this.startPosition_=null;this.startDistance_=null;this.totalMove_=new CriGrxVector2();this.totalScale_=1;this.swipeing_=false;this.pinching_=false;this.lastTime_=null;this.lastPinchTime_=null;this.inertia_=new CriGrxVector2();this.eventListenersDict={};this.element_=null;this.cpe_=null;this.event_=null;this.swipeID_=null}var CriLaFwGestureFtbl=CriLaFwGesture.prototype;CriLaFwGesture.Type={SWIPE_BEGIN:"swipebegin",SWIPE:"swipe",SWIPE_END:"swipeend",PINCH_BEGIN:"pinchbegin",PINCH:"pinch",PINCH_END:"pinchend"};Object.freeze(CriLaFwGesture.Type);CriLaFwGesture.isValidType=function(b){var a=CriLaFwGesture.Type;for(var d in a){var c=a[d];if(c===b){return true}}return false};CriLaFwGestureFtbl.initialize=function(c){this.moveHistory_=new CriLaFwGesture.LimitedQueue(3);this.elapsedHistory_=new CriLaFwGesture.LimitedQueue(3);this.lastOrigin_=this.getOrigin_();this.updateOrigin_();this.element_=c;var a=this.cpe_=new CriLaCustomPointerEvent(c);a.addEventListener("down",this.down_.bind(this),false);a.addEventListener("move",this.move_.bind(this),false);a.addEventListener("up",this.up_.bind(this),false);a.addEventListener("out",this.out_.bind(this),false);var e=this.eventListenersDict;var b=CriLaFwGesture.Type;for(var f in b){var d=b[f];e[d]=[]}};CriLaFwGestureFtbl.addEventListener=function(a,b){if(!CriLaFwGesture.isValidType(a)){return}this.eventListenersDict[a].push(b)};CriLaFwGestureFtbl.isDown=function(){if(!this.event_){return false}var a=this.event_.detail.points;return(a.length>0)};CriLaFwGestureFtbl.getTotalMoveValue=function(){return this.totalMove_};CriLaFwGestureFtbl.getMoveValue=function(){var a=this.moveHistory_.back();return a};CriLaFwGestureFtbl.getOriginMoveValue=function(){return this.originMove_};CriLaFwGestureFtbl.getTotalScale=function(){return this.totalScale_};CriLaFwGestureFtbl.getScale=function(){return this.scale_};CriLaFwGestureFtbl.getInertia=function(){return this.inertia_};CriLaFwGestureFtbl.updateInertia=function(c){var b=this.inertia_;var e=Math.exp(Math.log(0.97)*c/16.666666666666);var d=CriGrxVector2_Scale(b,e);var a=0.18;if(d.getLength()<a){d.x=0;d.y=0}this.inertia_=d};CriLaFwGestureFtbl.resetInertia=function(){this.clearHistory_()};CriLaFwGestureFtbl.updateMove_=function(d){var g=this.startPosition_;var c=this.lastPosition_;if(!g||!c){return}var f=CriGrxVector2_Sub(d,g);this.totalMove_=f;var b=CriGrxVector2_Sub(d,c);this.moveHistory_.push(b);var e=criLaTimer_GetTimeMs();var a=e-this.lastTime_;this.elapsedHistory_.push(a);this.lastTime_=e;this.lastPosition_=d;this.updateOrigin_()};CriLaFwGestureFtbl.updateScale_=function(b){var e=this.startDistance_;var a=this.lastDistance_;if(!e||!a){return}var d=b/e;this.totalScale_=d;var c=b/a;this.scale_=c;this.lastDistance_=b};CriLaFwGestureFtbl.getOrigin_=function(){var a=CriLaRectangle.createFromViewPort();var b=CriLaHtmlCss.getElementPosition(this.element_);return CriGrxVector2_Sub(b,a)};CriLaFwGestureFtbl.updateOrigin_=function(){var a=this.getOrigin_();this.originMove_=CriGrxVector2_Sub(a,this.lastOrigin_);this.lastOrigin_=a};CriLaFwGestureFtbl.getPosition=function(){return this.lastPosition_};CriLaFwGestureFtbl.calculateInertia_=function(){var c=this.moveHistory_;var a=this.elapsedHistory_;var e=criLaTimer_GetTimeMs();var b=new CriGrxVector2();if(e-this.lastPinchTime_<=100){return b}if(e-this.lastTime_>50){return b}else{var d=c.map(function(g,h){var f=a[h];return f?CriGrxVector2_Div(g,f):null}).filter(Boolean);if(d.length){b=CriGrxVector2_CenterOfGravity(d)}return b}};CriLaFwGestureFtbl.dispatchEvent_=function(e){var b=void (0);if(!CriLaFwGesture.isValidType(e)){return b}var d=this.eventListenersDict[e];var c=this.element_;var a=this;d.forEach(function(g){var f=g.call(c,a);if(f===false){b=false}});return b};CriLaFwGestureFtbl.getDistanceTouches_=function(a){var b=a;if(b<=1){return null}var c=CriGrxVector2_Sub(a[0],a[1]);return c.getLength()};CriLaFwGestureFtbl.clearHistory_=function(){this.moveHistory_.clear();this.elapsedHistory_.clear();this.inertia_=new CriGrxVector2()};CriLaFwGestureFtbl.down_=function(g){this.event_=g;var b=void (0);var d=g.detail.points;var f=d.length;var c=window.getSelection();c.collapse(document.body,0);if(f===1){var a=d[0];b=this.swipeBegin_(a)}else{if(f===2){this.pinchInOutBegin_(g)}else{}}return b};CriLaFwGestureFtbl.move_=function(f){this.event_=f;var b=void (0);var c=f.detail.points;var d=c.length;if(d===1){var a=c[this.swipeID_];if(a){b=this.swipe_(a)}}else{if(d===2){b=this.pinchInOut_(f)}}return b};CriLaFwGestureFtbl.up_=function(b){this.event_=b;var c=void (0);var i=b.detail.points;var j=b.detail.changedPoints;var d=i.length;var k=j.length;if(d===0){if(this.pinching_){c=this.pinchInOutEnd_(b)}else{if(this.swiping_){var a=j[this.swipeID_];if(a){c=this.swipeEnd_(a)}}}}else{if(d===1){var g=this.pinchInOutEnd_(b);var h=i[0];var f=this.swipeBegin_(h);if(g===false||f===false){c=false}}}return c};CriLaFwGestureFtbl.out_=CriLaFwGestureFtbl.up_;CriLaFwGestureFtbl.swipeBegin_=function(a){var b=void (0);this.clearHistory_();this.swipeID_=a.id;this.startPosition_=a;this.lastPosition_=a;this.lastTime_=criLaTimer_GetTimeMs();this.swiping_=true;b=this.dispatchEvent_(CriLaFwGesture.Type.SWIPE_BEGIN);return b};CriLaFwGestureFtbl.swipe_=function(a){var b=void (0);if(!this.swiping_){return b}this.inertia_=new CriGrxVector2();this.updateMove_(a);b=this.dispatchEvent_(CriLaFwGesture.Type.SWIPE);return b};CriLaFwGestureFtbl.swipeEnd_=function(a){var b=void (0);if(!this.swiping_){return b}this.inertia_=this.calculateInertia_();this.startPosition_=null;this.lastPosition_=null;this.swiping_=false;this.swipeID_=null;b=this.dispatchEvent_(CriLaFwGesture.Type.SWIPE_END);return b};CriLaFwGestureFtbl.pinchInOutBegin_=function(g){var a=void (0);var b=g.detail.points;var f=this.swipeEnd_(b[this.swipeID_]);this.clearHistory_();var h=this.getDistanceTouches_(b);this.startDistance_=h;this.lastDistance_=h;var d=CriGrxVector2_CenterOfGravity(b);Object.freeze(d);this.startPosition_=d;this.lastPosition_=d;this.lastTime_=criLaTimer_GetTimeMs();this.pinching_=true;var c=this.dispatchEvent_(CriLaFwGesture.Type.PINCH_BEGIN);if(f===false||c===false){a=false}return a};CriLaFwGestureFtbl.pinchInOut_=function(d){var a=void (0);if(!this.pinching_){return a}var b=d.detail.points;var f=this.getDistanceTouches_(b);this.updateScale_(f);var c=CriGrxVector2_CenterOfGravity(b);Object.freeze(c);this.updateMove_(c);a=this.dispatchEvent_(CriLaFwGesture.Type.PINCH);return a};CriLaFwGestureFtbl.pinchInOutEnd_=function(b){var a=void (0);if(!this.pinching_){return a}this.startDistance_=null;this.lastDistance_=null;this.pinching_=false;this.lastPinchTime_=criLaTimer_GetTimeMs();a=this.dispatchEvent_(CriLaFwGesture.Type.PINCH_END);return a};CriLaFwGestureFtbl.preventDefault=function(){return this.event_.preventDefault()};CriLaFwGestureFtbl.stopPropagation=function(){return this.event_.stopPropagation()};CriLaFwGesture.LimitedQueue=function(a){this.maxLength_=a};var CriLaFwGestureLimitedQueueFtbl=CriLaFwGesture.LimitedQueue.prototype;CriLaPolyfill.Object.setPrototypeOf(CriLaFwGestureLimitedQueueFtbl,Array.prototype);CriLaFwGestureLimitedQueueFtbl.push=function(a){Array.prototype.push.call(this,a);if(this.length>this.maxLength_){this.pop()}};CriLaFwGestureLimitedQueueFtbl.pop=function(a){return Array.prototype.shift.call(this)};CriLaFwGestureLimitedQueueFtbl.front=function(){return this[0]};CriLaFwGestureLimitedQueueFtbl.back=function(){return this[this.length-1]};CriLaFwGestureLimitedQueueFtbl.clear=function(){this.length=0};CriLaFw.isScriptLoaded=true;

/****************************************************************************
 *
 * LiveAct(R) PRO
 * Framework Customize
 *
 * (c) 2016 CRI Middleware Co., Ltd.
 * Version : 1.63.531.0
 *
 ****************************************************************************/
"use strict";
// frameworkの読み込み確認コード
if(typeof(CriLaFw) === "undefined" || !CriLaFw.isScriptLoaded){
    console.log("LiveAct Warning : cri_liveact_framework.js is not loaded");
}

// 360度動画において、下記機能をONにするフラグです。
// [拡大 / 縮小]
//   PC : マウスホイール
//   スマートフォン : 指2本ピンチアウト / イン
// [移動]
//   PC : SHIFT + マウスドラッグ
//   スマートフォン : 指2本フリック
//
// スクロール時に邪魔になる場合は下記1行をコメントアウトしてください。
CriLaFw.swipeZoom = true;


// スクロールイン自動再生機能で、再生開始／停止位置を調整する設定です。
// CriLaFw.setScrollInViewMargin(head_margin, tail_margin);
// head_margin: 再生開始位置, tail_margin: 再生終了位置（順方向スクロールの場合）
// 要素の縦幅との割合を指定します。単位はパーセントです。
//   0: 要素が少しでも画面に表示されていれば再生
//  50: 要素が半分画面に表示されていれば再生（デフォルト：Facebook iOSアプリと同等）
// 100: 要素の全体が画面に表示されていれば再生
// それ以上: より画面中央までスクロールする必要があります
// 負の値: より画面外にあっても再生されます
CriLaFw.setScrollInViewMargin(50, 50);

// 大量の動画をページにおいても安定して再生する機能です
// ビューポートから近いCriLaFw.setLoadQueueSizeで指定した数だけ動画を読み込みます。
// 既に読み込まれている動画より別の動画の距離が近くなると、既に読まれている動画をアンロードします。
// 下記コメントを外すと有効になります。
// CriLaFw.setLoadQueueSize(3);

// GAへイベントを送信
CriLaFw.sendAnalytics = function(player, event_action)
{
    // GAに再生イベントを送信するサンプル
    if(typeof (gtag) == "function")
    {
        var scene_name = player.getCurrentSceneName();
        gtag('event', event_action, {'event_category': 'LiveAct(R) PRO', 'event_label': scene_name, 'value':0, 'non_interaction': true });
    }
    // 旧版のGAにイベントを送信するサンプル
    else if (typeof (ga) == "function") {
        var scene_name = player.getCurrentSceneName();
        ga('send', 'event', 'LiveAct(R) PRO', event_action, scene_name, 0, { 'nonInteraction': 1 });
    }
    else if (typeof (_gaq) == "object" && _gaq !== null) {
        if(typeof (_gaq.push) == "function"){
            var scene_name = player.getCurrentSceneName();
            _gaq.push(['_trackEvent', 'LiveAct(R) PRO', event_action, scene_name, 0, true]);
        }

    }
}

// 再生開始のイベントを送付する関数
CriLaFw.playCounted = function (player) {

    // 累計再生数の取得するサンプル
    //var count = CriLaFw.getPlayCount();
    CriLaFw.sendAnalytics(player, 'la-play');

}

// 動画の終端イベントを送付する関数
CriLaFw.endCounted = function (player) {
    CriLaFw.sendAnalytics(player, 'la-play-end');
}

// ----------------------------------------
// ユーザカスタムボタンの作成
// ----------------------------------------
CriLaFw.registerCustomButton = function (player) {
    // コンストラクタの引数には、ボタンのレイアウト・見た目を整形する
    // CSSクラス名を指定します。
    // この例では、lac-user-button1クラスを指定しています。
    // cri_liveact.cssの中の、以下の記述に対応しています。
    // - lac-user-button1
    //   ... ボタンの配置
    // - lac-user-button1::before
    //   ... ボタンアイコンの見た目
    var sample_button = new CriLaPlayerControlButton("lac-user-button1");

    // ボタンの名前を設定します。
    // この名前は、player.setControlStyleメソッドで、
    // ボタンの表示/非表示を切り替える際に使用します。
    var sample_name = "sampleButton";

    // ボタンを押したときに実行したい処理(イベントリスナ)を記述してください。
    function sample_func (){
        console.log("ユーザーカスタムボタンが押されました。");
    };

    // ボタンにイベントリスナを登録します。
    sample_button.addEventListener("down", sample_func);

    // ボタンをプレーヤに登録します。
    player.addComponent(sample_name, sample_button);
};

// プレイヤーのセットアップを行います
// デフォルトの動作に加えて、何か行いたいときに使用します
CriLaFw.setupPlayer = function (player) {
    // ----------------------------------------
    // ユーザカスタムボタンを追加するサンプルコード
    // 下記コメントアウトを外すと有効化します。
    // ----------------------------------------
    // CriLaFw.registerCustomButton(player);
};


// LiveAct(R) PRO PlayerとDOMの並列読み込み
CriLaFw.startParallelLoad();
// 上記1行をコメントアウトすると、
// DOMの読み込みが完了してから、動画の読み込みを行うようになります。
// この場合、data-load-priorityを基準として読み込みが行われます。
// 詳細はマニュアルを参照してください。


// ----------------------------------------
// フレームワークのコードの開始
// ----------------------------------------
CriLaEventDispatcher.ready(CriLaFw.initialize);
